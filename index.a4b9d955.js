!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in s)return s[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return s[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i);var n,a=i("bpxeT"),o=i("2TvXO"),d=i("7basD"),l=(i("7basD"),a=i("bpxeT"),o=i("2TvXO"),d=i("7basD"),{}),c=(n=e(a)(e(o).mark((function t(){var s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(d.key,"&language=en-US"));case 2:return s=e.sent,e.next=5,s.json();case 5:return f(e.sent),e.abrupt("return",l);case 8:case"end":return e.stop()}}),t)}))),function(){return n.apply(this,arguments)});function f(e){var t=!0,s=!1,r=void 0;try{for(var i,n=e.genres[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var a=i.value;l[a.id]=a.name}}catch(e){s=!0,r=e}finally{try{t||null==n.return||n.return()}finally{if(s)throw r}}}var u,p,m,g,h,v,b,L=c,x=i("5g02X"),y=i("5xtVg"),P=1;function _(){return N.apply(this,arguments)}function N(){return(N=e(a)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return h="https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(d.key),e.next=5,w(1);case 5:C(),B(),O(),M();case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function A(e){var t,s=!0,r=!1,i=void 0;try{for(var n,a=e.results[Symbol.iterator]();!(s=(n=a.next()).done);s=!0){var o=n.value;if(null===o.poster_path?(o.posterPath="https://upload.wikimedia.org/wikipedia/commons/a/a1",o.poster_path="/Out_Of_Poster.jpg"):o.posterPath="https://image.tmdb.org/t/p/w500",o.genre_ids)for(var d=0;d<o.genre_ids.length;d+=1)o.genre_ids[d]=l[o.genre_ids[d]];else o.genre_ids=["absent"];o.release_date&&(t=o.release_date.slice(0,4),o.release_date=t)}}catch(e){r=!0,i=e}finally{try{s||null==a.return||a.return()}finally{if(r)throw i}}}function E(e){d.refs.gallery.innerHTML="";var t=e.map((function(e){return'<li class="gallery__item" movie-index = '.concat(e.id,'>\n            <img class="film__poster" src="').concat(e.posterPath).concat(e.poster_path,'" alt="poster">\n            <h3 class="film__title">').concat(e.original_title.slice(0,60),'</h3>\n            <p class="film__characteristics">').concat(e.genre_ids.join(", ").slice(0,35)," | ").concat(e.release_date,"</p>\n        </li>")})).join("");d.refs.gallery.insertAdjacentHTML("beforeend",t)}function w(e){return k.apply(this,arguments)}function k(){return(k=e(a)(e(o).mark((function t(s){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=s,v="".concat(h,"&page=").concat(s),e.prev=2,e.next=5,(0,x.default)(v);case 5:0!==(g=e.sent).total_results?(p=g.total_pages,A(g),E(g.results),q(),M(),(0,y.default)(g.results)):(d.refs.searchInfo.textContent="Search result not successful. Enter the correct movie name.",_()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}function T(e){var t=document.createElement("button");t.className="pagination-number",t.innerHTML=e,t.setAttribute("type","button"),t.setAttribute("page-index",e),t.setAttribute("aria-label","Page "+e),t.setAttribute("onclick","window.location.href='./index.html#gallery'"),d.refs.paginationNumbers.appendChild(t)}function C(){if(d.refs.paginationNumbers.innerHTML="",d.refs.nextButton.classList.remove("is-hidden"),d.refs.prevButton.classList.remove("is-hidden"),g.total_pages>5){d.refs.lastPage.classList.remove("is-hidden"),d.refs.dotsNext.classList.remove("is-hidden");for(var e=P;e<=5;e+=1)T(e)}else{d.refs.lastPage.classList.add("is-hidden"),d.refs.dotsNext.classList.add("is-hidden"),d.refs.firstPage.classList.add("is-hidden"),d.refs.dotsPrev.classList.add("is-hidden");for(var t=P;t<=g.total_pages;t+=1)T(t)}}function M(){document.querySelectorAll(".pagination-number").forEach((function(e){e.classList.remove("is-active"),Number(e.getAttribute("page-index"))===u&&e.classList.add("is-active")}))}function S(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function H(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function q(){1===u?S(d.refs.prevButton):H(d.refs.prevButton),u===p?S(d.refs.nextButton):H(d.refs.nextButton)}function B(){document.querySelectorAll(".pagination-number").forEach((function(e){var t=Number(e.getAttribute("page-index"));t&&e.addEventListener("click",(function(){w(t)}))}))}function D(e){if(d.refs.paginationNumbers.innerHTML="",u>1&&u<6&&d.refs.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")){for(var t=1;t<6;t+=1)T(t);d.refs.dotsNext.classList.remove("is-hidden"),d.refs.lastPage.classList.remove("is-hidden")}else for(var s=e-5;s<e;s+=1)T(s+1)}function O(){d.refs.firstPage.setAttribute("page-index",1),d.refs.firstPage.setAttribute("aria-label","Page 1"),d.refs.firstPage.innerHTML=1,d.refs.lastPage.setAttribute("page-index",p),d.refs.lastPage.setAttribute("aria-label","Page "+p),d.refs.lastPage.innerHTML=p}function j(){return(j=e(a)(e(o).mark((function t(s){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),d.refs.searchIcon.classList.add("is-hidden"),d.refs.searchSpinner.classList.remove("is-hidden"),d.refs.gallery.innerHTML="",b=s.currentTarget,m=b.elements.searchQuery.value,P=1,d.refs.searchInfo.textContent="",h="https://api.themoviedb.org/3/search/movie?api_key=".concat(d.key,"&query=").concat(m),e.next=11,w(P);case 11:C(),B(),O(),M(),d.refs.searchIcon.classList.remove("is-hidden"),d.refs.searchSpinner.classList.add("is-hidden");case 17:case"end":return e.stop()}}),t)})))).apply(this,arguments)}d.refs.prevButton.addEventListener("click",(function(){!function(e){d.refs.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==d.refs.paginationNumbers.firstElementChild.innerHTML&&(D(e),B());Number(d.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))===p-5&&(d.refs.dotsNext.classList.remove("is-hidden"),d.refs.lastPage.classList.remove("is-hidden"));5===Number(d.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(d.refs.firstPage.classList.add("is-hidden"),d.refs.dotsPrev.classList.add("is-hidden"))}(u-1),w(u-1)})),d.refs.nextButton.addEventListener("click",(function(){!function(e){d.refs.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&Number(d.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))!==p&&(!function(e){if(d.refs.paginationNumbers.innerHTML="",5===u&&6===p){d.refs.dotsPrev.classList.remove("is-hidden");for(var t=e-4;t<u+2;t+=1)T(t)}else if(5===u&&7===p){d.refs.dotsPrev.classList.remove("is-hidden");for(var s=e-3;s<u+3;s+=1)T(s)}else if(5===u&&8===p){d.refs.dotsPrev.classList.remove("is-hidden");for(var r=e-2;r<u+4;r+=1)T(r)}else if(5===u&&9===p){d.refs.dotsPrev.classList.remove("is-hidden");for(var i=e-1;i<u+4;i+=1)T(i)}else for(var n=e;n<e+5;n+=1)T(n)}(e),B());u===p-1&&(D(e),M(),B(currentDataAll));6===Number(d.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(d.refs.firstPage.classList.remove("is-hidden"),d.refs.dotsPrev.classList.remove("is-hidden"));Number(d.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))===p-5&&d.refs.dotsNext.classList.add("is-hidden");Number(d.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))===p-4&&(d.refs.lastPage.classList.add("is-hidden"),d.refs.dotsNext.classList.add("is-hidden"))}(u+1),w(u+1)})),d.refs.firstPage.addEventListener("click",(function(){w(1),C(),B(),d.refs.lastPage.classList.remove("is-hidden"),d.refs.dotsNext.classList.remove("is-hidden"),d.refs.firstPage.classList.add("is-hidden"),d.refs.dotsPrev.classList.add("is-hidden")})),d.refs.lastPage.addEventListener("click",(function(){w(p),D(u),B(),d.refs.dotsNext.classList.add("is-hidden"),d.refs.dotsPrev.classList.remove("is-hidden"),d.refs.firstPage.classList.remove("is-hidden"),d.refs.lastPage.classList.add("is-hidden")})),d.refs.form.addEventListener("submit",(function(e){return j.apply(this,arguments)})),_()}();
//# sourceMappingURL=index.a4b9d955.js.map
