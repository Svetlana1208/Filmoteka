const e={};let t,i,n;const a={gallery:document.querySelector(".gallery"),paginationNumbers:document.querySelector(".pagination__current"),nextButton:document.getElementById("next-button"),prevButton:document.getElementById("prev-button"),firstPage:document.querySelector(".pagination__firstPage"),dotsPrev:document.querySelector(".pagination__dotsPrev"),lastPage:document.querySelector(".pagination__lastPage"),dotsNext:document.querySelector(".pagination__dotsNext")};function s(){t=1,function(e){a.paginationNumbers.innerHTML="",a.firstPage.classList.add("is-hidden"),a.dotsPrev.classList.add("is-hidden");for(let t=e;t<=5;t+=1)l(t)}(1),document.querySelectorAll(".pagination-number").forEach((e=>{const t=Number(e.getAttribute("page-index"));t&&e.addEventListener("click",(()=>{o(t)}))})),m(),c(),r(1).then((e=>{d(e),p(e)}))}async function r(t){const i=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=4273054ff6f056d7541ef873941254f6&language=en-US"),n=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=4273054ff6f056d7541ef873941254f6&page=${t}`),a=await i.json(),s=await n.json();return function(t){for(const i of t.genres)e[i.id]=i.name}(a),function(t){let i;for(const n of t.results)if(n.genre_ids)for(let t=0;t<n.genre_ids.length;t+=1)n.genre_ids[t]=e[n.genre_ids[t]],i=n.release_date.slice(0,4),n.release_date=i}(s),s}function d(e){a.gallery.innerHTML="";const t=e.results.map((e=>`<li class="gallery__item">\n            <img class="film__poster" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="poster">\n            <h3 class="film__title">${e.original_title}</h3>\n            <p class="film__characteristics">${e.genre_ids.join(", ")} | ${e.release_date}</p>\n        </li>`)).join("");a.gallery.insertAdjacentHTML("beforeend",t)}function o(e){t=e,r(e).then((e=>{d(e),p(e),m(),c()}))}function l(e){const t=document.createElement("button");t.className="pagination-number",t.innerHTML=e,t.setAttribute("page-index",e),t.setAttribute("aria-label","Page "+e),a.paginationNumbers.appendChild(t)}function c(){document.querySelectorAll(".pagination-number").forEach((e=>{e.classList.remove("is-active");Number(e.getAttribute("page-index"))==t&&e.classList.add("is-active")}))}function u(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function g(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function m(){1===t?u(a.prevButton):g(a.prevButton),t===n?u(a.nextButton):g(a.nextButton)}function b(e){a.paginationNumbers.innerHTML="";for(let t=e-5;t<e;t+=1)l(t+1)}function p(e){i=1,a.firstPage.setAttribute("page-index",1),a.firstPage.setAttribute("aria-label","Page 1"),a.firstPage.innerHTML=1,n=e.total_pages-1,a.lastPage.setAttribute("page-index",n),a.lastPage.setAttribute("aria-label","Page "+n),a.lastPage.innerHTML=n}a.prevButton.addEventListener("click",(()=>{!function(e){a.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==a.paginationNumbers.firstElementChild.innerHTML&&(b(e),document.querySelectorAll(".pagination-number").forEach((e=>{const t=Number(e.getAttribute("page-index"));t&&e.addEventListener("click",(()=>{o(t)}))})));Number(a.paginationNumbers.lastElementChild.getAttribute("page-index"))===n-5&&(a.dotsNext.classList.remove("is-hidden"),a.lastPage.classList.remove("is-hidden"));5===Number(a.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(a.firstPage.classList.add("is-hidden"),a.dotsPrev.classList.add("is-hidden"))}(t-1),o(t-1)})),a.nextButton.addEventListener("click",(()=>{!function(e){a.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&Number(a.paginationNumbers.lastElementChild.getAttribute("page-index"))!==n&&(!function(e){a.paginationNumbers.innerHTML="";for(let t=e;t<e+5;t+=1)l(t)}(e),document.querySelectorAll(".pagination-number").forEach((e=>{const t=Number(e.getAttribute("page-index"));t&&e.addEventListener("click",(()=>{o(t)}))})));6===Number(a.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(a.firstPage.classList.remove("is-hidden"),a.dotsPrev.classList.remove("is-hidden"));Number(a.paginationNumbers.firstElementChild.getAttribute("page-index"))===n-5&&a.dotsNext.classList.add("is-hidden");Number(a.paginationNumbers.firstElementChild.getAttribute("page-index"))===n-4&&(a.lastPage.classList.add("is-hidden"),a.dotsNext.classList.add("is-hidden"))}(t+1),o(t+1)})),a.firstPage.addEventListener("click",(()=>{s(),a.lastPage.classList.remove("is-hidden"),a.dotsNext.classList.remove("is-hidden")})),a.lastPage.addEventListener("click",(function(){o(n),a.dotsNext.classList.add("is-hidden"),a.dotsPrev.classList.remove("is-hidden"),a.firstPage.classList.remove("is-hidden"),b(t),document.querySelectorAll(".pagination-number").forEach((e=>{const t=Number(e.getAttribute("page-index"));t&&e.addEventListener("click",(()=>{o(t)}))})),a.lastPage.classList.add("is-hidden")})),window.addEventListener("load",s());
//# sourceMappingURL=index.94bf4f27.js.map
