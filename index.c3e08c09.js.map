{"mappings":"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","sources":["src/index.js","src/js/genres.js"],"sourcesContent":["import {refs} from \"./js/vars\";\nimport {key} from \"./js/vars\";\nimport {genresList} from \"./js/genres\";\nimport fetchRequestGenres from \"./js/genres\";\nimport fetchRequest from \"./js/fetch\";\nimport modal from \"./js/modal\";\n\n\nlet page = 1;\nlet currentPage;\nconst firstPage = 1;\nlet lastPage;\nlet searchQuery;\nlet data;\nlet url;\nlet fullUrl;\nlet form;\n\n\nrefs.prevButton.addEventListener(\"click\", () => {\n    updatePaginationPrev(currentPage - 1);\n    setCurrentPage(currentPage - 1);\n});\nrefs.nextButton.addEventListener(\"click\", () => {\n    updatePaginationNext(currentPage + 1);\n    setCurrentPage(currentPage + 1);\n});\nrefs.firstPage.addEventListener('click', downloadFirstPage);\nrefs.lastPage.addEventListener('click', downloadLastPage);\nrefs.form.addEventListener('submit', onSearch);\nrefs.regModalOpenBtn.addEventListener('click', onOpenRegModal);\n\n\n\ngetPopular();\n    \nasync function getPopular() {\n    await fetchRequestGenres();\n\n    url = `https://api.themoviedb.org/3/trending/movie/day?api_key=${key}`;\n\n    await setCurrentPage(1); \n\n    getPaginationNumbers();\n    addEventListenerAllBtn();\n    updateFirstLastPageBtn();\n    handleActivePageNumber();\n}\n\nfunction updateDescription (data) {\n    let releaseYear;\n    for (const movie of data.results) {\n\n        if (movie.poster_path === null) {\n            movie.posterPath = 'https://upload.wikimedia.org/wikipedia/commons/a/a1';\n            movie.poster_path = '/Out_Of_Poster.jpg';\n        } else \n        movie.posterPath = 'https://image.tmdb.org/t/p/w500';\n\n        if (movie.genre_ids) {\n            for (let i = 0; i < movie.genre_ids.length; i+=1) {\n                movie.genre_ids[i] = genresList[movie.genre_ids[i]];\n            }\n        } else movie.genre_ids = [\"absent\"];\n        \n        if (movie.release_date) {\n            releaseYear = movie.release_date.slice(0, 4);\n            movie.release_date = releaseYear;\n        }\n    }\n}\n\nfunction onMarkUp(data) {\n    refs.gallery.innerHTML=\"\";\n\n    const markup = data.map(card =>\n        `<li class=\"gallery__item\" movie-index = ${card.id}>\n            <img class=\"film__poster\" src=\"${card.posterPath}${card.poster_path}\" alt=\"poster\">\n            <h3 class=\"film__title\">${card.original_title.slice(0, 60)}</h3>\n            <p class=\"film__characteristics\">${card.genre_ids.join(\", \").slice(0, 35)} | ${card.release_date}</p>\n        </li>`)\n        .join(\"\");\n\n        refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function setCurrentPage(page) {\n    currentPage = page;\n    fullUrl = `${url}&page=${page}`;\n\n    try {\n        data = await fetchRequest(fullUrl);\n\n    if (data.total_results !== 0) {\n        lastPage = data.total_pages;\n\n        updateDescription(data);\n        onMarkUp(data.results);\n        buttonsStatus();\n        handleActivePageNumber();\n        modal(data.results);\n    }\n    else {\n        refs.searchInfo.textContent = \"Search result not successful. Enter the correct movie name.\";\n        getPopular();\n    }\n    } catch (error) {\n        console.error(error);\n      }\n}\n\nfunction appendPageNumber(index) {\n    const pageNumber = document.createElement(\"button\");\n    pageNumber.className = \"pagination-number\";\n    pageNumber.innerHTML = index;\n    pageNumber.setAttribute(\"type\", \"button\");\n    pageNumber.setAttribute(\"page-index\", index);\n    pageNumber.setAttribute(\"aria-label\", \"Page \" + index);\n    pageNumber.setAttribute(\"onclick\", \"window.location.href='./index.html#gallery'\");\n    refs.paginationNumbers.appendChild(pageNumber);\n}\n\nfunction getPaginationNumbers() {\n        refs.paginationNumbers.innerHTML = \"\";\n        refs.nextButton.classList.remove(\"is-hidden\");\n        refs.prevButton.classList.remove(\"is-hidden\");\n\n        if (data.total_pages > 5) {\n            refs.lastPage.classList.remove(\"is-hidden\");\n            refs.dotsNext.classList.remove(\"is-hidden\");\n\n            for (let i = page; i <= 5; i += 1) {\n                appendPageNumber(i);\n            }\n    \n        } else {\n            refs.lastPage.classList.add(\"is-hidden\");\n            refs.dotsNext.classList.add(\"is-hidden\");\n            refs.firstPage.classList.add(\"is-hidden\");\n            refs.dotsPrev.classList.add(\"is-hidden\");\n\n            for (let i = page; i <= data.total_pages; i += 1) {\n                appendPageNumber(i);\n            }\n        }\n}\n\nfunction handleActivePageNumber() {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        button.classList.remove(\"is-active\");\n        \n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex === currentPage) {\n          button.classList.add(\"is-active\");\n        }\n      });\n}\n\nfunction disableButton(button) {\n    button.classList.add(\"disabled\");\n    button.setAttribute(\"disabled\", true);\n};\n\nfunction enableButton(button) {\n    button.classList.remove(\"disabled\");\n    button.removeAttribute(\"disabled\");\n};\n\nfunction buttonsStatus() {\n    if (currentPage === 1) {\n        disableButton(refs.prevButton);\n    } else {\n        enableButton(refs.prevButton);\n    }\n\n    if (currentPage === lastPage) {\n        disableButton(refs.nextButton);\n    } else {\n        enableButton(refs.nextButton);\n    }\n};\n\nfunction addEventListenerAllBtn() {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex) {\n          button.addEventListener(\"click\", () => {\n            setCurrentPage(pageIndex);\n        });\n        }\n    });\n}\n\nfunction getPaginationNumbersNext(page) {\n    refs.paginationNumbers.innerHTML = \"\";\n    // for (let i = page; i < page + 5; i += 1) {\n    //     appendPageNumber(i);\n    //   }\n\n      if (currentPage === 5 && lastPage === 6) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 4; i < currentPage + 2; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 7) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 3; i < currentPage + 3; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 8) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 2; i < currentPage + 4; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 9) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 1; i < currentPage + 4; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else {\n        for (let i = page; i < page + 5; i += 1) {\n            appendPageNumber(i);\n          }    \n    }\n}\n\nfunction updatePaginationNext(page) {\n    if (refs.paginationNumbers.lastElementChild === document.querySelector('.pagination-number.is-active') && Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) !== lastPage) {\n        getPaginationNumbersNext(page);\n        addEventListenerAllBtn();\n    }\n\n    if (currentPage === lastPage - 1) {\n        getPaginationNumbersPrev(page);\n        handleActivePageNumber();\n        addEventListenerAllBtn(currentDataAll);\n    }\n\n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === 6) {\n        refs.firstPage.classList.remove(\"is-hidden\");\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n    }\n    \n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 5) {\n        refs.dotsNext.classList.add(\"is-hidden\");\n    }\n\n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 4) {\n        refs.lastPage.classList.add(\"is-hidden\");\n        refs.dotsNext.classList.add(\"is-hidden\");\n    }\n}\n\nfunction getPaginationNumbersPrev(page) {\n    refs.paginationNumbers.innerHTML = \"\";\n    // for (let i = page - 5; i < page; i += 1) {\n    //     appendPageNumber(i + 1);\n    //   }\n    if (currentPage > 1 && currentPage < 6 && refs.paginationNumbers.firstElementChild === document.querySelector('.pagination-number.is-active')) {\n        for (let i = 1; i < 6; i += 1) {\n            appendPageNumber(i);\n        }\n        refs.dotsNext.classList.remove(\"is-hidden\");\n        refs.lastPage.classList.remove(\"is-hidden\");\n\n    } else {\n        for (let i = page - 5; i < page; i += 1) {\n            appendPageNumber(i + 1);\n          }\n    }    \n}\n\nfunction updatePaginationPrev(page) {\n    if (refs.paginationNumbers.firstElementChild === document.querySelector('.pagination-number.is-active') && refs.paginationNumbers.firstElementChild.innerHTML !== \"1\") {\n        getPaginationNumbersPrev(page);\n        addEventListenerAllBtn();\n    }\n\n    if (Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === lastPage - 5) {\n        refs.dotsNext.classList.remove(\"is-hidden\");\n        refs.lastPage.classList.remove(\"is-hidden\");\n    }\n\n    if (Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === 5) {\n        refs.firstPage.classList.add(\"is-hidden\");\n        refs.dotsPrev.classList.add(\"is-hidden\");\n    }\n}\n\nfunction updateFirstLastPageBtn() {\n    refs.firstPage.setAttribute(\"page-index\", firstPage);\n    refs.firstPage.setAttribute(\"aria-label\", \"Page \" + firstPage);\n    refs.firstPage.innerHTML = firstPage;\n\n    refs.lastPage.setAttribute(\"page-index\", lastPage);\n    refs.lastPage.setAttribute(\"aria-label\", \"Page \" + lastPage);\n    refs.lastPage.innerHTML = lastPage;\n}\n\nfunction downloadFirstPage() {\n    setCurrentPage(1); \n    getPaginationNumbers();\n    addEventListenerAllBtn();\n\n    refs.lastPage.classList.remove(\"is-hidden\");\n    refs.dotsNext.classList.remove(\"is-hidden\");\n    refs.firstPage.classList.add(\"is-hidden\");\n    refs.dotsPrev.classList.add(\"is-hidden\");\n}\n\nfunction downloadLastPage() {\n    setCurrentPage(lastPage);\n    getPaginationNumbersPrev(currentPage);\n    addEventListenerAllBtn();\n\n    refs.dotsNext.classList.add(\"is-hidden\");\n    refs.dotsPrev.classList.remove(\"is-hidden\");\n    refs.firstPage.classList.remove(\"is-hidden\");\n    refs.lastPage.classList.add(\"is-hidden\");\n}\n\nasync function onSearch(e) {\n    e.preventDefault();\n    refs.searchIcon.classList.add(\"is-hidden\");\n    refs.searchSpinner.classList.remove(\"is-hidden\");\n    refs.gallery.innerHTML = \"\";\n    form = e.currentTarget;\n    searchQuery = form.elements.searchQuery.value;\n    page = 1;\n    refs.searchInfo.textContent ='';\n    url = `https://api.themoviedb.org/3/search/movie?api_key=${key}&query=${searchQuery}`;\n    \n    await setCurrentPage(page);\n    getPaginationNumbers();\n    addEventListenerAllBtn();\n    updateFirstLastPageBtn();\n    handleActivePageNumber();\n    refs.searchIcon.classList.remove(\"is-hidden\");\n    refs.searchSpinner.classList.add(\"is-hidden\");\n}\n\n\nfunction onOpenRegModal() {\n    refs.regModal.classList.remove(\"is-hidden\");\n    document.body.classList.add(\"body-modal-open\");\n    refs.regModalCloseBtn.addEventListener('click', onCloseRegModal);\n    window.addEventListener('keydown', onEscKeyPressReg);\n    refs.regModal.addEventListener('click', onBackdropClickReg);\n    refs.regForm.addEventListener('submit', saveDataReg);\n}\n\nfunction onCloseRegModal() {\n    refs.regModal.classList.add(\"is-hidden\");    \n    document.body.classList.remove(\"body-modal-open\");\n    refs.regInfo.innerHTML = \"\";\n    refs.regLogin.value = \"\";\n    refs.regEmail.value = \"\";\n    refs.regPassword.value = \"\";\n    refs.regConfirmPassword.value = \"\";\n    refs.regLogin.classList.remove(\"error\");\n    refs.regEmail.classList.remove(\"error\");\n    refs.regPassword.classList.remove(\"error\");\n    refs.regConfirmPassword.classList.remove(\"error\");\n}\n\nfunction onEscKeyPressReg(e) {\n    if (e.code === 'Escape') {\n        onCloseRegModal();\n    }\n}\n\nfunction onBackdropClickReg(e) {\n    if (e.currentTarget === e.target) {\n        onCloseRegModal();\n    }\n}\n\nfunction saveDataReg(e) {\n    e.preventDefault();\n\n    const {elements: { login, email, password, confirmPassword }} = e.currentTarget;\n\n    if (login.value === \"\") {\n        refs.regLogin.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"Please fill in all the fields!\";\n    }\n\n    if (email.value === \"\") {\n        refs.regEmail.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"Please fill in all the fields!\";\n    }  \n\n    if (password.value === \"\") {\n        refs.regPassword.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"Please fill in all the fields!\";\n    }\n\n    if (password.value !== confirmPassword.value || confirmPassword.value === \"\") {\n        refs.regPassword.classList.add(\"error\");\n        refs.regConfirmPassword.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"Enter correct password\";\n    }\n\n    const user = {\n        login: login.value,\n        email: email.value,\n        password: password.value,\n    };\n\n    const oldList = JSON.parse(localStorage.getItem('users')) || [];\n    \n    if (oldList.some(oldList => oldList.email === user.email)) {\n        refs.regEmail.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"Such a user already exists\";}\n    else if (oldList.some(oldList => oldList.login === user.login)) {\n        refs.regLogin.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"This login is already in use\";}\n    else {\n        oldList.push(user);\n        localStorage.setItem('users', JSON.stringify(oldList));\n    }\n\n    e.currentTarget.reset();\n    refs.regLogin.classList.remove(\"error\");\n    refs.regEmail.classList.remove(\"error\");\n    refs.regPassword.classList.remove(\"error\");\n    refs.regConfirmPassword.classList.remove(\"error\");\n    refs.regInfo.innerHTML = \"\";\n    refs.regModal.classList.add(\"is-hidden\");\n}\n","import {key} from \"./vars\";\nconst genresList = {};\n\nconst fetchRequestGenres = async () => {\n    const response = await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${key}&language=en-US`);\n    const dataGenres = await response.json();\n    makeGenresList(dataGenres);\n\n    return genresList;\n}\n\nfunction makeGenresList(dataGenres) {\n    for (const genre of dataGenres.genres) {\n        genresList[genre.id] = genre.name;\n    }\n}\nexport default fetchRequestGenres;\n\nexport {genresList};"],"names":["$bpxeT","parcelRequire","$058be7baf2d85bd2$export$65f5202b5c3d7552","$058be7baf2d85bd2$var$fetchRequestGenres","$parcel$interopDefault","$2TvXO","mark","_callee","response","fetch","concat","$7basD","key","_ctx","sent","json","$058be7baf2d85bd2$var$makeGenresList","dataGenres","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","genres","Symbol","iterator","next","done","genre","value","id","name","err","return","$b8f9b7833fa37166$var$currentPage","$b8f9b7833fa37166$var$lastPage","$b8f9b7833fa37166$var$searchQuery","$b8f9b7833fa37166$var$data","$b8f9b7833fa37166$var$url","$b8f9b7833fa37166$var$fullUrl","$b8f9b7833fa37166$var$form","$058be7baf2d85bd2$export$2e2bcd8739ae039","$b8f9b7833fa37166$var$page","$b8f9b7833fa37166$var$getPopular","$b8f9b7833fa37166$var$_getPopular","apply","this","arguments","$b8f9b7833fa37166$var$setCurrentPage","$b8f9b7833fa37166$var$getPaginationNumbers","$b8f9b7833fa37166$var$addEventListenerAllBtn","$b8f9b7833fa37166$var$updateFirstLastPageBtn","$b8f9b7833fa37166$var$handleActivePageNumber","$b8f9b7833fa37166$var$updateDescription","data1","releaseYear","results","movie","poster_path","posterPath","genre_ids","i","length","release_date","slice","$b8f9b7833fa37166$var$onMarkUp","data2","refs","gallery","innerHTML","markup","map","card","original_title","join","insertAdjacentHTML","page1","$b8f9b7833fa37166$var$_setCurrentPage","$5g02X","default","total_results","total_pages","$b8f9b7833fa37166$var$buttonsStatus","$5xtVg","searchInfo","textContent","console","error","t0","$b8f9b7833fa37166$var$appendPageNumber","index","pageNumber","document","createElement","className","setAttribute","paginationNumbers","appendChild","nextButton","classList","remove","prevButton","lastPage","dotsNext","add","firstPage","dotsPrev","i1","querySelectorAll","forEach","button","Number","getAttribute","$b8f9b7833fa37166$var$disableButton","$b8f9b7833fa37166$var$enableButton","removeAttribute","pageIndex","addEventListener","$b8f9b7833fa37166$var$getPaginationNumbersPrev","page4","firstElementChild","querySelector","i6","$b8f9b7833fa37166$var$_onSearch","e","preventDefault","searchIcon","searchSpinner","currentTarget","elements","searchQuery","$b8f9b7833fa37166$var$onCloseRegModal","regModal","body","regInfo","regLogin","regEmail","regPassword","regConfirmPassword","$b8f9b7833fa37166$var$onEscKeyPressReg","code","$b8f9b7833fa37166$var$onBackdropClickReg","target","$b8f9b7833fa37166$var$saveDataReg","_elements","login","email","password","confirmPassword","user","oldList1","JSON","parse","localStorage","getItem","some","oldList","push","setItem","stringify","reset","page5","lastElementChild","$b8f9b7833fa37166$var$updatePaginationPrev","page3","page2","i2","i3","i4","i5","$b8f9b7833fa37166$var$getPaginationNumbersNext","currentDataAll","$b8f9b7833fa37166$var$updatePaginationNext","form","regModalOpenBtn","regModalCloseBtn","window","regForm"],"version":3,"file":"index.c3e08c09.js.map"}