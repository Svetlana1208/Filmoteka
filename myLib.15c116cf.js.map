{"mappings":"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","sources":["src/myLib.js"],"sourcesContent":["import { refsMyLib } from \"./js/varsMyLib\";\nimport modal from \"./js/modal\";\nimport {getAuth, onAuthStateChanged, signOut} from \"firebase/auth\";\nimport {auth, db} from \"./js/vars\";\nimport { collection, getDocs } from \"firebase/firestore\";\n\n\nlet lastPage;\nlet page = 1;\nlet el = 20;\nlet currentPage;\nlet firstPage = 1;\nlet parsedWatchedList;\nlet currentDataAll = [];\nlet parsedQueueList;\n\n\nrefsMyLib.watchedBtn.addEventListener('click', getWatched);\nrefsMyLib.queueBtn.addEventListener('click', getQueue);\nrefsMyLib.prevButton.addEventListener(\"click\", () => {\n    updatePaginationPrev(currentPage - 1);\n    setCurrentPage(currentDataAll, currentPage - 1);\n});\nrefsMyLib.nextButton.addEventListener(\"click\", () => {\n    updatePaginationNext(currentPage + 1);\n    setCurrentPage(currentDataAll, currentPage + 1);\n});\nrefsMyLib.firstPage.addEventListener('click', downloadFirstPage);\nrefsMyLib.lastPage.addEventListener('click', downloadLastPage);\n\nonAuthStateChanged(auth, (user) => {\n    if (user) {\n        const login = user.email.split('@')[0];\n        console.log(login);\n        refsMyLib.userLogin.innerHTML = `${login}`;\n        refsMyLib.userSignOut.addEventListener('click', signOutUser);\n    } else {\n        console.log(\"user wasn't authorization\")\n    }\n})\n\nfunction signOutUser() {\n    signOut(getAuth());\n}\n\ngetWatched();\n\nfunction getWatched() {\n    currentDataAll = [];\n    allBtnIsHidden();\n    refsMyLib.watchedBtn.classList.add(\"is-active\");\n    refsMyLib.queueBtn.classList.remove(\"is-active\");\n    refsMyLib.paginationNumbers.innerHTML = \"\";\n\n    const querySnapshot = getDocs(collection(db, \"watched\"));\n\n    querySnapshot\n    .then (PromiseResult => {\n        PromiseResult._snapshot.docChanges.forEach((movie) => {\n            const aaa = movie.doc.data.value.mapValue.fields;\n            currentDataAll.push(aaa);\n        })\n        firstDownload();\n    });\n\n    //---------------------------------------------------\n    // Реализация через localStorage:\n    //---------------------------------------------------\n\n    // const savedWatchedList = localStorage.getItem(\"watchedList\");\n    // parsedWatchedList = JSON.parse(savedWatchedList);\n\n    // currentDataAll = parsedWatchedList;\n    // firstDownload();\n    //---------------------------------------------------\n\n}\n\nfunction getQueue() {\n    currentDataAll = [];\n    allBtnIsHidden();\n    refsMyLib.watchedBtn.classList.remove(\"is-active\");\n    refsMyLib.queueBtn.classList.add(\"is-active\");\n    refsMyLib.paginationNumbers.innerHTML = \"\";\n\n    const querySnapshotQueue = getDocs(collection(db, \"queue\"));\n\n    querySnapshotQueue\n    .then (PromiseResult => {\n        PromiseResult._snapshot.docChanges.forEach((movie) => {\n            const aaa = movie.doc.data.value.mapValue.fields;\n            currentDataAll.push(aaa);\n        })\n        firstDownload();\n    });\n\n    //---------------------------------------------------\n    // Реализация через localStorage:\n    //---------------------------------------------------\n\n    // const savedQueueList = localStorage.getItem(\"queue\");\n    // parsedQueueList = JSON.parse(savedQueueList);\n\n    // currentDataAll = parsedQueueList;\n    //---------------------------------------------------\n}\n\nfunction firstDownload() {\n    if (currentDataAll.length !== 0) {\n        refsMyLib.pagination.classList.remove(\"is-hidden\");\n\n        lastPage = Math.ceil(currentDataAll.length / el);\n\n        setCurrentPage(currentDataAll, 1);\n        getPaginationNumbers();\n        handleActivePageNumber();\n        updateFirstLastPageBtn();\n        addEventListenerAllBtn(currentDataAll);\n    } else {\n        refsMyLib.gallery.innerHTML=\"\";\n        refsMyLib.information.classList.remove(\"is-hidden\");\n    }\n}\n\nfunction appendPageNumber(index) {\n    const pageNumber = document.createElement(\"button\");\n    pageNumber.className = \"pagination-number\";\n    pageNumber.innerHTML = index;\n    pageNumber.setAttribute(\"type\", \"button\");\n    pageNumber.setAttribute(\"page-index\", index);\n    pageNumber.setAttribute(\"aria-label\", \"Page \" + index);\n    pageNumber.setAttribute(\"onclick\", \"window.location.href='./myLib.html#myLibGallery'\");\n    refsMyLib.paginationNumbers.appendChild(pageNumber);\n}\n\nfunction getPaginationNumbers() {\n    refsMyLib.paginationNumbers.innerHTML = \"\";\n    refsMyLib.nextButton.classList.remove(\"is-hidden\");\n    refsMyLib.prevButton.classList.remove(\"is-hidden\");\n\n    if (lastPage > 5) {\n        refsMyLib.lastPage.classList.remove(\"is-hidden\");\n        refsMyLib.dotsNext.classList.remove(\"is-hidden\");\n\n        for (let i = page; i <= 5; i += 1) {\n            appendPageNumber(i);\n        }\n    } else {\n        refsMyLib.lastPage.classList.add(\"is-hidden\");\n        refsMyLib.dotsNext.classList.add(\"is-hidden\");\n        refsMyLib.firstPage.classList.add(\"is-hidden\");\n        refsMyLib.dotsPrev.classList.add(\"is-hidden\");\n\n        for (let i = page; i <= lastPage; i += 1) {\n            appendPageNumber(i);\n        }\n    }\n}\n\nfunction setCurrentPage (data, page) {\n        refsMyLib.information.classList.add(\"is-hidden\");\n\n        currentPage = page;\n        page -= 1;\n        const start = el * page;\n        const end = start + el;\n        const currentData = data.slice(start, end);\n\n        onMarkUpLib(currentData);\n        handleActivePageNumber();\n        buttonsStatus();\n        modal(currentData);                       \n}\n\nfunction onMarkUpLib(data) {\n    refsMyLib.gallery.innerHTML=\"\";\n    console.log(currentDataAll);\n    currentDataAll.forEach(movie => {\n        movie.genres = [];\n        if(movie.genre_ids.arrayValue) {\n            movie.genre_ids.arrayValue.values.forEach(genres => {\n            movie.genres.push(genres.stringValue);\n        })}\n    })\n    const markup = data.map(card =>\n        `<li class=\"gallery__item\" movie-index = ${card.id.integerValue}>\n            <img class=\"film__poster\" src=\"${card.posterPath.stringValue}${card.poster_path.stringValue}\" alt=\"poster\">\n            <h3 class=\"film__title\">${card.original_title.stringValue.slice(0, 60)}</h3>\n            <p class=\"film__characteristics\">${card.genres.join(\", \").slice(0, 35)} | ${card.release_date.stringValue}</p>\n        </li>`\n    )\n    .join(\"\");\n\n    refsMyLib.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction allBtnIsHidden() {\n    refsMyLib.nextButton.classList.add(\"is-hidden\");\n    refsMyLib.prevButton.classList.add(\"is-hidden\");\n    refsMyLib.lastPage.classList.add(\"is-hidden\");\n    refsMyLib.dotsNext.classList.add(\"is-hidden\");\n    refsMyLib.firstPage.classList.add(\"is-hidden\");\n    refsMyLib.dotsPrev.classList.add(\"is-hidden\");\n}\n\nfunction disableButton(button) {\n    button.classList.add(\"disabled\");\n    button.setAttribute(\"disabled\", true);\n};\n\nfunction enableButton(button) {\n    button.classList.remove(\"disabled\");\n    button.removeAttribute(\"disabled\");\n};\n\nfunction buttonsStatus() {\n    if (currentPage === 1) {\n        disableButton(refsMyLib.prevButton);\n    } else {\n        enableButton(refsMyLib.prevButton);\n    }\n    if (currentPage === lastPage) {\n        disableButton(refsMyLib.nextButton);\n    } else {\n        enableButton(refsMyLib.nextButton);\n    }\n};\n\nfunction handleActivePageNumber() {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        button.classList.remove(\"is-active\");\n        \n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex === currentPage) {\n          button.classList.add(\"is-active\");\n        }\n      });\n}\n\nfunction addEventListenerAllBtn(data) {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex) {\n          button.addEventListener(\"click\", () => {\n            setCurrentPage (data, pageIndex);\n        });\n        }\n    });\n}\n\nfunction updateFirstLastPageBtn() {\n    refsMyLib.firstPage.setAttribute(\"page-index\", firstPage);\n    refsMyLib.firstPage.setAttribute(\"aria-label\", \"Page \" + firstPage);\n    refsMyLib.firstPage.innerHTML = firstPage;\n\n    refsMyLib.lastPage.setAttribute(\"page-index\", lastPage);\n    refsMyLib.lastPage.setAttribute(\"aria-label\", \"Page \" + lastPage);\n    refsMyLib.lastPage.innerHTML = lastPage;\n}\n\nfunction getPaginationNumbersNext(page) {\n    refsMyLib.paginationNumbers.innerHTML = \"\";\n    if (currentPage === 5 && lastPage === 6) {\n        refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 4; i < currentPage + 2; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 7) {\n        refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 3; i < currentPage + 3; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 8) {\n        refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 2; i < currentPage + 4; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 9) {\n        refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 1; i < currentPage + 4; i += 1) {\n            appendPageNumber(i);\n          }    \n    } else if (currentPage === lastPage) {\n        for (let i = page - 5; i < page; i += 1) {\n            appendPageNumber(i + 1);\n          }\n    }\n    else {\n        for (let i = page; i < page + 5; i += 1) {\n            appendPageNumber(i);\n          }    \n    }\n}\n\nfunction updatePaginationNext(page) {\n    if (currentPage === 5 && refsMyLib.paginationNumbers.lastElementChild === document.querySelector('.pagination-number.is-active')) {\n        refsMyLib.firstPage.classList.remove(\"is-hidden\");\n    }\n\n    if (refsMyLib.paginationNumbers.lastElementChild === document.querySelector('.pagination-number.is-active') && page !== lastPage) {\n        getPaginationNumbersNext(page);\n        addEventListenerAllBtn(currentDataAll);\n    }\n\n    if (currentPage === lastPage - 1 && lastPage > 7) {\n        getPaginationNumbersPrev(page);\n        handleActivePageNumber();\n        addEventListenerAllBtn(currentDataAll);\n    }\n    \n    if (Number(refsMyLib.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === 6) {\n        refsMyLib.firstPage.classList.remove(\"is-hidden\");\n        refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n    }\n    \n    if (Number(refsMyLib.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 5 && Number(refsMyLib.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) !== 5) {\n        refsMyLib.dotsNext.classList.add(\"is-hidden\");\n    }\n\n    if (Number(refsMyLib.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 4) {\n        refsMyLib.lastPage.classList.add(\"is-hidden\");\n        refsMyLib.dotsNext.classList.add(\"is-hidden\");\n    }\n}\n\nfunction getPaginationNumbersPrev(page) {\n    refsMyLib.paginationNumbers.innerHTML = \"\";\n    if (currentPage > 1 && currentPage < 6 && refsMyLib.paginationNumbers.firstElementChild === document.querySelector('.pagination-number.is-active')) {\n        for (let i = 1; i < 6; i += 1) {\n            appendPageNumber(i);\n        }\n        refsMyLib.dotsNext.classList.remove(\"is-hidden\");\n        refsMyLib.lastPage.classList.remove(\"is-hidden\");\n\n    } else {\n        for (let i = page - 5; i < page; i += 1) {\n            appendPageNumber(i + 1);\n          }\n    }    \n}\n\nfunction updatePaginationPrev(page) {\n    if (refsMyLib.paginationNumbers.firstElementChild === document.querySelector('.pagination-number.is-active') && refsMyLib.paginationNumbers.firstElementChild.innerHTML !== \"1\") {\n        getPaginationNumbersPrev(page);\n        addEventListenerAllBtn(currentDataAll);\n    }\n\n    if (Number(refsMyLib.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === lastPage - 5) {\n        refsMyLib.dotsNext.classList.remove(\"is-hidden\");\n        refsMyLib.lastPage.classList.remove(\"is-hidden\");\n    }\n\n    if (Number(refsMyLib.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === 5) {\n        refsMyLib.firstPage.classList.add(\"is-hidden\");\n        refsMyLib.dotsPrev.classList.add(\"is-hidden\");\n    }\n}\n\nfunction downloadFirstPage() {\n    setCurrentPage(currentDataAll, 1); \n    getPaginationNumbers(currentPage);\n    addEventListenerAllBtn(currentDataAll);\n    handleActivePageNumber();\n\n    refsMyLib.lastPage.classList.remove(\"is-hidden\");\n    refsMyLib.dotsNext.classList.remove(\"is-hidden\");\n    refsMyLib.firstPage.classList.add(\"is-hidden\");\n    refsMyLib.dotsPrev.classList.add(\"is-hidden\");\n}\n\nfunction downloadLastPage() {\n    setCurrentPage(currentDataAll, lastPage);\n    getPaginationNumbersPrev(currentPage);\n    addEventListenerAllBtn(currentDataAll);\n    handleActivePageNumber();\n\n    refsMyLib.dotsNext.classList.add(\"is-hidden\");\n    refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n    refsMyLib.firstPage.classList.remove(\"is-hidden\");\n    refsMyLib.lastPage.classList.add(\"is-hidden\");\n}\n\n"],"names":["$lO6kD","parcelRequire","$1e46633a1cd2fc37$var$lastPage","$1e46633a1cd2fc37$var$currentPage","$1e46633a1cd2fc37$var$currentDataAll","$1e46633a1cd2fc37$var$signOutUser","$eyjy7","signOut","getAuth","$1e46633a1cd2fc37$var$getWatched","$1e46633a1cd2fc37$var$allBtnIsHidden","refsMyLib","watchedBtn","classList","add","queueBtn","remove","paginationNumbers","innerHTML","$ftYLF","getDocs","collection","$hWKZL","db","then","PromiseResult","_snapshot","docChanges","forEach","movie","aaa","doc","data","value","mapValue","fields","push","$1e46633a1cd2fc37$var$firstDownload","length","pagination","Math","ceil","$1e46633a1cd2fc37$var$setCurrentPage","$1e46633a1cd2fc37$var$getPaginationNumbers","$1e46633a1cd2fc37$var$handleActivePageNumber","firstPage","setAttribute","lastPage","$1e46633a1cd2fc37$var$addEventListenerAllBtn","gallery","information","$1e46633a1cd2fc37$var$appendPageNumber","index","pageNumber","document","createElement","className","appendChild","nextButton","prevButton","dotsNext","i","dotsPrev","page1","start","end","currentData","slice","console","log","genres","genre_ids","arrayValue","values","stringValue","markup","map","card","id","integerValue","posterPath","poster_path","original_title","join","release_date","insertAdjacentHTML","$1e46633a1cd2fc37$var$onMarkUpLib","$1e46633a1cd2fc37$var$disableButton","$1e46633a1cd2fc37$var$enableButton","$1e46633a1cd2fc37$var$buttonsStatus","$bTcpz","default","button","removeAttribute","querySelectorAll","Number","getAttribute","pageIndex","addEventListener","$1e46633a1cd2fc37$var$getPaginationNumbersPrev","page4","firstElementChild","querySelector","page5","lastElementChild","$1e46633a1cd2fc37$var$updatePaginationPrev","page3","page2","i1","$1e46633a1cd2fc37$var$getPaginationNumbersNext","$1e46633a1cd2fc37$var$updatePaginationNext","onAuthStateChanged","auth","user","login","email","split","userLogin","userSignOut"],"version":3,"file":"myLib.15c116cf.js.map"}