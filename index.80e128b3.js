!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},r={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in s)return s[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return s[e]=a,n.call(a.exports,a,a.exports),a.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,s){r[e]=s},e.parcelRequired7c6=n);var a,t=n("7basD"),i=n("gQOBw");function o(){t.refs.authModal.classList.add("is-hidden"),document.body.classList.remove("body-modal-open"),t.refs.authInfo.innerHTML="",t.refs.authEmail.value="",t.refs.authPassword.value="",t.refs.authEmail.classList.remove("error"),t.refs.authPassword.classList.remove("error")}function d(e){"Escape"===e.code&&o()}function u(e){e.currentTarget===e.target&&o()}function l(e){e.preventDefault();var s=e.currentTarget.elements,r=s.email,n=s.password;s.confirmPassword;a={email:r.value,password:n.value},(0,i.signInWithEmailAndPassword)(t.auth,a.email,a.password).then((function(e){var s=e.user.email.split("@")[0];t.refs.userLogin.innerHTML="".concat(s),t.refs.user.classList.remove("is-hidden"),t.refs.authorization.classList.add("is-hidden"),t.refs.navigation.classList.remove("is-hidden"),t.refs.userSignOut.addEventListener("click",c),o()})).catch((function(e){var s=e.code;return"auth/user-not-found"===s?(t.refs.authEmail.classList.add("error"),t.refs.authInfo.innerHTML="Such user was not found"):"auth/wrong-password"===s?(t.refs.authPassword.classList.add("error"),t.refs.authInfo.innerHTML="Enter correct password"):"auth/missing-password"===s?(t.refs.authPassword.classList.add("error"),t.refs.authInfo.innerHTML="Enter password"):void 0}))}function c(){console.log("out"),(0,i.signOut)((0,i.getAuth)()),t.refs.authorization.classList.remove("is-hidden"),t.refs.navigation.classList.add("is-hidden"),t.refs.user.classList.add("is-hidden")}t.refs.authModalOpenBtn.addEventListener("click",(function(){t.refs.authModal.classList.remove("is-hidden"),document.body.classList.add("body-modal-open"),t.refs.authModalCloseBtn.addEventListener("click",o),window.addEventListener("keydown",d),t.refs.authModal.addEventListener("click",u),t.refs.authForm.addEventListener("submit",l)})),(0,i.onAuthStateChanged)(t.auth,(function(e){if(e){var s=e.email.split("@")[0];console.log(s),t.refs.userLogin.innerHTML="".concat(s),t.refs.userSignOut.addEventListener("click",c),t.refs.authorization.classList.add("is-hidden"),t.refs.navigation.classList.remove("is-hidden"),t.refs.user.classList.remove("is-hidden")}else console.log("user wasn't authorization")}))}();
//# sourceMappingURL=index.80e128b3.js.map
