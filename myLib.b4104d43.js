!function(){function e(e){return e&&e.__esModule?e.default:e}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},a=i.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in s){var i=s[e];delete s[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,i){s[e]=i},i.parcelRequired7c6=a);var n,r,d,o=a("ebCjK"),c=(o=a("ebCjK"),a("hhpkh")),l=a("bpxeT"),u=a("2TvXO"),f=(c=a("hhpkh"),a("7basD")),b=a("5g02X"),L=a("ePWgG"),v=function(i){document.querySelectorAll(".gallery__item").forEach((function(t){t.addEventListener("click",(function(){var s=Number(t.getAttribute("movie-index"));i.forEach((function(i){if(Number(i.id.integerValue)===s){var t='<article class="movie">\n                            <div>\n                                <img class="movie__poster" src="'.concat(i.posterPath.stringValue).concat(i.poster_path.stringValue,'" alt="poster">\n                            </div>\n                            <div class="movie__box">\n                                <h3 class="movie__title">').concat(i.original_title.stringValue,'</h3>\n                                <ul>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Vote / Votes</p>\n                                        <div class="vote__average">').concat(i.vote_average.doubleValue,'</div><span>&nbsp / &nbsp</span>\n                                        <div class="vote__count">').concat(i.vote_count.integerValue,'</div>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Popularity</p>\n                                        <p class="movie__characteristicValue">').concat(i.popularity.doubleValue,'</p>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Original Title</p>\n                                        <p class="movie__characteristicValue">').concat(i.original_title.stringValue,'</p>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Genre</p>\n                                        <p class="movie__characteristicValue">').concat(i.genres,'</p>    \n                                    </li>\n                                </ul>    \n                                <p class="movie__about">About</p>\n                                <p class="movie__description">').concat(i.overview.stringValue,'</p>\n                                <div class="movie__btnBox">\n                                    <button class="movie__btn" type="button" data-add-to-watched>add to Watched</button>\n                                    <button class="movie__btn" type="button" data-add-to-queue>add to queue</button>\n                                </div>\n\n                                <button class="movie__trailer" type="button" data-trailerModal-button>Trailer</button>\n                                <div class="backdrop is-hidden" data-trailerModal>\n                                    <div class="trailerBox">\n                                        <button class="trailerBox__closeBtn" type="button" data-trailerClose-button></button>\n                                        <div id="player"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </article>');function a(){c.refsMyLib.modal.classList.add("is-hidden"),document.body.classList.remove("body-modal-open")}function r(e){"Escape"===e.code&&a()}function d(e){e.currentTarget===e.target&&a()}function o(){return(o=e(l)(e(u).mark((function t(){var s,a;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(i.id.integerValue,"/videos?api_key=").concat(f.key,"&language=en-US"),e.prev=2,e.next=5,(0,b.default)(a);case 5:s=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:s.results.find((function(e){if(e.name.includes("Official"))return n=e.key;n=s.results[0].key}));case 12:case"end":return e.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}function v(){var i;document.querySelector("[data-trailerModal]").classList.remove("is-hidden"),(i=e(L)("player",{width:"100%",videoId:n,host:"https://www.youtube.com"})).playVideo(),document.querySelector("[data-trailerClose-button]").addEventListener("click",(function(){i.stopVideo(),document.querySelector("[data-trailerModal]").classList.add("is-hidden")}))}c.refsMyLib.movieCardBox.innerHTML=t,c.refsMyLib.modal.classList.remove("is-hidden"),document.body.classList.add("body-modal-open"),document.querySelector("[data-add-to-watched]").classList.add("disabledBtn"),document.querySelector("[data-add-to-queue]").classList.add("disabledBtn"),document.querySelector("[data-trailerModal-button]").addEventListener("click",v),window.addEventListener("keydown",r),c.refsMyLib.closeModalBtn.addEventListener("click",a),c.refsMyLib.modal.addEventListener("click",d),function(){o.apply(this,arguments)}()}}))}))}))},m=a("6m2hf"),y=[];function p(){y=[],x(),c.refsMyLib.watchedBtn.classList.add("is-active"),c.refsMyLib.queueBtn.classList.remove("is-active"),c.refsMyLib.paginationNumbers.innerHTML="",(0,m.getDocs)((0,m.collection)(o.userRef,"watched")).then((function(e){e._snapshot.docChanges.forEach((function(e){y.push(e.doc.data.value.mapValue.fields)})),h()}))}function h(){0!==y.length?(c.refsMyLib.pagination.classList.remove("is-hidden"),r=Math.ceil(y.length/20),_(y,1),M(),E(),c.refsMyLib.firstPage.setAttribute("page-index",1),c.refsMyLib.firstPage.setAttribute("aria-label","Page 1"),c.refsMyLib.firstPage.innerHTML=1,c.refsMyLib.lastPage.setAttribute("page-index",r),c.refsMyLib.lastPage.setAttribute("aria-label","Page "+r),c.refsMyLib.lastPage.innerHTML=r,V(y)):(c.refsMyLib.gallery.innerHTML="",c.refsMyLib.information.classList.remove("is-hidden"))}function g(e){var i=document.createElement("button");i.className="pagination-number",i.innerHTML=e,i.setAttribute("type","button"),i.setAttribute("page-index",e),i.setAttribute("aria-label","Page "+e),i.setAttribute("onclick","window.location.href='./myLib.html#myLibGallery'"),c.refsMyLib.paginationNumbers.appendChild(i)}function M(){if(c.refsMyLib.paginationNumbers.innerHTML="",c.refsMyLib.nextButton.classList.remove("is-hidden"),c.refsMyLib.prevButton.classList.remove("is-hidden"),r>5){c.refsMyLib.lastPage.classList.remove("is-hidden"),c.refsMyLib.dotsNext.classList.remove("is-hidden");for(var e=1;e<=5;e+=1)g(e)}else{c.refsMyLib.lastPage.classList.add("is-hidden"),c.refsMyLib.dotsNext.classList.add("is-hidden"),c.refsMyLib.firstPage.classList.add("is-hidden"),c.refsMyLib.dotsPrev.classList.add("is-hidden");for(var i=1;i<=r;i+=1)g(i)}}function _(e,i){c.refsMyLib.information.classList.add("is-hidden"),d=i;var t=20*(i-=1),s=t+20,a=e.slice(t,s);!function(e){c.refsMyLib.gallery.innerHTML="",y.forEach((function(e){e.genres=[],e.genre_ids.arrayValue&&e.genre_ids.arrayValue.values.forEach((function(i){e.genres.push(i.stringValue)}))}));var i=e.map((function(e){return'<li class="gallery__item" movie-index = '.concat(e.id.integerValue,'>\n            <img class="film__poster" src="').concat(e.posterPath.stringValue).concat(e.poster_path.stringValue,'" alt="poster">\n            <h3 class="film__title">').concat(e.original_title.stringValue.slice(0,60),'</h3>\n            <p class="film__characteristics">').concat(e.genres.join(", ").slice(0,35)," | ").concat(e.release_date.stringValue,"</p>\n        </li>")})).join("");c.refsMyLib.gallery.insertAdjacentHTML("beforeend",i)}(a),E(),function(){1===d?P(c.refsMyLib.prevButton):N(c.refsMyLib.prevButton);d===r?P(c.refsMyLib.nextButton):N(c.refsMyLib.nextButton)}(),v(a)}function x(){c.refsMyLib.nextButton.classList.add("is-hidden"),c.refsMyLib.prevButton.classList.add("is-hidden"),c.refsMyLib.lastPage.classList.add("is-hidden"),c.refsMyLib.dotsNext.classList.add("is-hidden"),c.refsMyLib.firstPage.classList.add("is-hidden"),c.refsMyLib.dotsPrev.classList.add("is-hidden")}function P(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function N(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function E(){document.querySelectorAll(".pagination-number").forEach((function(e){e.classList.remove("is-active"),Number(e.getAttribute("page-index"))===d&&e.classList.add("is-active")}))}function V(e){document.querySelectorAll(".pagination-number").forEach((function(i){var t=Number(i.getAttribute("page-index"));t&&i.addEventListener("click",(function(){_(e,t)}))}))}function w(e){if(c.refsMyLib.paginationNumbers.innerHTML="",d>1&&d<6&&c.refsMyLib.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")){for(var i=1;i<6;i+=1)g(i);c.refsMyLib.dotsNext.classList.remove("is-hidden"),c.refsMyLib.lastPage.classList.remove("is-hidden")}else for(var t=e-5;t<e;t+=1)g(t+1)}c.refsMyLib.watchedBtn.addEventListener("click",p),c.refsMyLib.queueBtn.addEventListener("click",(function(){y=[],x(),c.refsMyLib.watchedBtn.classList.remove("is-active"),c.refsMyLib.queueBtn.classList.add("is-active"),c.refsMyLib.paginationNumbers.innerHTML="",(0,m.getDocs)((0,m.collection)(o.userRef,"queue")).then((function(e){e._snapshot.docChanges.forEach((function(e){y.push(e.doc.data.value.mapValue.fields)})),h()}))})),c.refsMyLib.prevButton.addEventListener("click",(function(){!function(e){c.refsMyLib.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==c.refsMyLib.paginationNumbers.firstElementChild.innerHTML&&(w(e),V(y));Number(c.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))===r-5&&(c.refsMyLib.dotsNext.classList.remove("is-hidden"),c.refsMyLib.lastPage.classList.remove("is-hidden"));5===Number(c.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(c.refsMyLib.firstPage.classList.add("is-hidden"),c.refsMyLib.dotsPrev.classList.add("is-hidden"))}(d-1),_(y,d-1)})),c.refsMyLib.nextButton.addEventListener("click",(function(){!function(e){5===d&&c.refsMyLib.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&c.refsMyLib.firstPage.classList.remove("is-hidden");c.refsMyLib.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&e!==r&&(!function(e){if(c.refsMyLib.paginationNumbers.innerHTML="",5===d&&6===r){c.refsMyLib.dotsPrev.classList.remove("is-hidden");for(var i=e-4;i<d+2;i+=1)g(i)}else if(5===d&&7===r){c.refsMyLib.dotsPrev.classList.remove("is-hidden");for(var t=e-3;t<d+3;t+=1)g(t)}else if(5===d&&8===r){c.refsMyLib.dotsPrev.classList.remove("is-hidden");for(var s=e-2;s<d+4;s+=1)g(s)}else if(5===d&&9===r){c.refsMyLib.dotsPrev.classList.remove("is-hidden");for(var a=e-1;a<d+4;a+=1)g(a)}else if(d===r)for(var n=e-5;n<e;n+=1)g(n+1);else for(var o=e;o<e+5;o+=1)g(o)}(e),V(y));d===r-1&&r>7&&(w(e),E(),V(y));6===Number(c.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(c.refsMyLib.firstPage.classList.remove("is-hidden"),c.refsMyLib.dotsPrev.classList.remove("is-hidden"));Number(c.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))===r-5&&5!==Number(c.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))&&c.refsMyLib.dotsNext.classList.add("is-hidden");Number(c.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))===r-4&&(c.refsMyLib.lastPage.classList.add("is-hidden"),c.refsMyLib.dotsNext.classList.add("is-hidden"))}(d+1),_(y,d+1)})),c.refsMyLib.firstPage.addEventListener("click",(function(){_(y,1),M(),V(y),E(),c.refsMyLib.lastPage.classList.remove("is-hidden"),c.refsMyLib.dotsNext.classList.remove("is-hidden"),c.refsMyLib.firstPage.classList.add("is-hidden"),c.refsMyLib.dotsPrev.classList.add("is-hidden")})),c.refsMyLib.lastPage.addEventListener("click",(function(){_(y,r),w(d),V(y),E(),c.refsMyLib.dotsNext.classList.add("is-hidden"),c.refsMyLib.dotsPrev.classList.remove("is-hidden"),c.refsMyLib.firstPage.classList.remove("is-hidden"),c.refsMyLib.lastPage.classList.add("is-hidden")})),(0,o.default)().then(setTimeout((function(){p()}),1500))}();
//# sourceMappingURL=myLib.b4104d43.js.map
