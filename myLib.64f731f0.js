const e={watchedBtn:document.querySelector("[data-watched-button]"),queueBtn:document.querySelector("[data-queue-button]"),gallery:document.querySelector(".myLibGallery"),information:document.querySelector(".information"),movieCardBox:document.querySelector(".movieCard__box"),modal:document.querySelector("[data-modal]"),closeModalBtn:document.querySelector("[data-modal-close]"),paginationNumbers:document.querySelector(".pagination__current"),nextButton:document.getElementById("next-button"),prevButton:document.getElementById("prev-button"),firstPage:document.querySelector(".pagination__firstPage"),dotsPrev:document.querySelector(".pagination__dotsPrev"),lastPage:document.querySelector(".pagination__lastPage"),dotsNext:document.querySelector(".pagination__dotsNext")},t={gallery:document.querySelector(".gallery"),paginationNumbers:document.querySelector(".pagination__current"),nextButton:document.getElementById("next-button"),prevButton:document.getElementById("prev-button"),firstPage:document.querySelector(".pagination__firstPage"),dotsPrev:document.querySelector(".pagination__dotsPrev"),lastPage:document.querySelector(".pagination__lastPage"),dotsNext:document.querySelector(".pagination__dotsNext"),form:document.querySelector(".search__form"),searchIcon:document.querySelector(".search__icon"),searchSpinner:document.querySelector(".spinner"),searchInfo:document.querySelector(".search__info"),movieCardBox:document.querySelector(".movieCard__box"),modal:document.querySelector("[data-modal]"),closeModalBtn:document.querySelector("[data-modal-close]")};var i=()=>{const e=JSON.parse(localStorage.getItem("watchedList"))||[];e.push(movie),localStorage.setItem("watchedList",JSON.stringify(e))};var s=()=>{const e=JSON.parse(localStorage.getItem("queue"))||[];e.push(movie),localStorage.setItem("queue",JSON.stringify(e))};var a=a=>{document.querySelectorAll(".gallery__item").forEach((n=>{n.addEventListener("click",(()=>{movieIndex=Number(n.getAttribute("movie-index")),a.forEach((a=>{if(a.id===movieIndex){movie=a;const n=`<article class="movie">\n                            <div>\n                                <img class="movie__poster" src="${movie.posterPath}${movie.poster_path}" alt="poster">\n                            </div>\n                            <div class="movie__box">\n                                <h3 class="movie__title">${movie.original_title}</h3>\n                                <ul>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Vote / Votes</p>\n                                        <div class="vote__average">${movie.vote_average}</div><span>&nbsp / &nbsp</span>\n                                        <div class="vote__count">${movie.vote_count}</div>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Popularity</p>\n                                        <p class="movie__characteristicValue">${movie.popularity}</p>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Original Title</p>\n                                        <p class="movie__characteristicValue">${movie.original_title}</p>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Genre</p>\n                                        <p class="movie__characteristicValue">${movie.genre_ids.join(", ")}</p>    \n                                    </li>\n                                </ul>    \n                                <p class="movie__about">About</p>\n                                <p class="movie__description">${movie.overview}</p>\n                                <div class="movie__btnBox">\n                                    <button class="movie__btn is-active" type="button" data-add-to-watched>add to Watched</button>\n                                    <button class="movie__btn" type="button" data-add-to-queue>add to queue</button>\n                                </div>\n                            </div>\n                        </article>`;t.movieCardBox.innerHTML=n,t.modal.classList.remove("is-hidden"),e.movieCardBox.innerHTML=n,e.modal.classList.remove("is-hidden"),document.body.classList.add("body-modal-open"),document.querySelector("[data-add-to-watched]").addEventListener("click",i),document.querySelector("[data-add-to-queue]").addEventListener("click",s)}}))}))}))};let n,o,r,d,c;function l(){e.watchedBtn.classList.add("is-active"),e.queueBtn.classList.remove("is-active");const t=localStorage.getItem("watchedList");r=JSON.parse(t),d=r,u()}function u(){null!==d?(n=Math.ceil(d.length/20),g(d,1),v(),b(),e.firstPage.setAttribute("page-index",1),e.firstPage.setAttribute("aria-label","Page 1"),e.firstPage.innerHTML=1,e.lastPage.setAttribute("page-index",n),e.lastPage.setAttribute("aria-label","Page "+n),e.lastPage.innerHTML=n,_(d)):(e.gallery.innerHTML="",e.information.classList.remove("is-hidden"))}function m(t){const i=document.createElement("button");i.className="pagination-number",i.innerHTML=t,i.setAttribute("type","button"),i.setAttribute("page-index",t),i.setAttribute("aria-label","Page "+t),i.setAttribute("onclick","window.location.href='./myLib.html#myLibGallery'"),e.paginationNumbers.appendChild(i)}function v(){if(e.paginationNumbers.innerHTML="",e.nextButton.classList.remove("is-hidden"),e.prevButton.classList.remove("is-hidden"),n>5){e.lastPage.classList.remove("is-hidden"),e.dotsNext.classList.remove("is-hidden");for(let e=1;e<=5;e+=1)m(e)}else{e.lastPage.classList.add("is-hidden"),e.dotsNext.classList.add("is-hidden"),e.firstPage.classList.add("is-hidden"),e.dotsPrev.classList.add("is-hidden");for(let e=1;e<=n;e+=1)m(e)}}function g(t,i){e.information.classList.add("is-hidden"),o=i;const s=20*(i-=1),r=s+20,d=t.slice(s,r);!function(t){e.gallery.innerHTML="";const i=t.map((e=>`<li class="gallery__item" movie-index = ${e.id}>\n            <img class="film__poster" src="${e.posterPath}${e.poster_path}" alt="poster">\n            <h3 class="film__title">${e.original_title}</h3>\n            <p class="film__characteristics">${e.genre_ids.join(", ")} | ${e.release_date}</p>\n        </li>`)).join("");e.gallery.insertAdjacentHTML("beforeend",i)}(d),b(),function(){1===o?p(e.prevButton):h(e.prevButton);o===n?p(e.nextButton):h(e.nextButton)}(),a(d)}function p(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function h(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function b(){document.querySelectorAll(".pagination-number").forEach((e=>{e.classList.remove("is-active");Number(e.getAttribute("page-index"))===o&&e.classList.add("is-active")}))}function _(e){document.querySelectorAll(".pagination-number").forEach((t=>{const i=Number(t.getAttribute("page-index"));i&&t.addEventListener("click",(()=>{g(e,i)}))}))}function L(t){if(e.paginationNumbers.innerHTML="",o>1&&o<6&&e.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")){for(let e=1;e<6;e+=1)m(e);e.dotsNext.classList.remove("is-hidden"),e.lastPage.classList.remove("is-hidden")}else for(let e=t-5;e<t;e+=1)m(e+1)}e.watchedBtn.addEventListener("click",l),e.queueBtn.addEventListener("click",(function(){e.watchedBtn.classList.remove("is-active"),e.queueBtn.classList.add("is-active");const t=localStorage.getItem("queue");c=JSON.parse(t),d=c,u()})),e.closeModalBtn.addEventListener("click",(()=>{e.modal.classList.add("is-hidden"),document.body.classList.remove("body-modal-open")})),e.modal.addEventListener("click",(()=>{e.modal.classList.add("is-hidden"),document.body.classList.remove("body-modal-open")})),e.prevButton.addEventListener("click",(()=>{!function(t){e.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==e.paginationNumbers.firstElementChild.innerHTML&&(L(t),_(d));Number(e.paginationNumbers.lastElementChild.getAttribute("page-index"))===n-5&&(e.dotsNext.classList.remove("is-hidden"),e.lastPage.classList.remove("is-hidden"));5===Number(e.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(e.firstPage.classList.add("is-hidden"),e.dotsPrev.classList.add("is-hidden"))}(o-1),g(d,o-1)})),e.nextButton.addEventListener("click",(()=>{!function(t){5===o&&e.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&e.firstPage.classList.remove("is-hidden");e.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&t!==n&&(!function(t){if(e.paginationNumbers.innerHTML="",5===o&&6===n){e.dotsPrev.classList.remove("is-hidden");for(let e=t-4;e<o+2;e+=1)m(e)}else if(5===o&&7===n){e.dotsPrev.classList.remove("is-hidden");for(let e=t-3;e<o+3;e+=1)m(e)}else if(5===o&&8===n){e.dotsPrev.classList.remove("is-hidden");for(let e=t-2;e<o+4;e+=1)m(e)}else if(5===o&&9===n){e.dotsPrev.classList.remove("is-hidden");for(let e=t-1;e<o+4;e+=1)m(e)}else if(o===n)for(let e=t-5;e<t;e+=1)m(e+1);else for(let e=t;e<t+5;e+=1)m(e)}(t),_(d));o===n-1&&n>7&&(L(t),b(),_(d));6===Number(e.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(e.firstPage.classList.remove("is-hidden"),e.dotsPrev.classList.remove("is-hidden"));Number(e.paginationNumbers.firstElementChild.getAttribute("page-index"))===n-5&&5!==Number(e.paginationNumbers.lastElementChild.getAttribute("page-index"))&&e.dotsNext.classList.add("is-hidden");Number(e.paginationNumbers.firstElementChild.getAttribute("page-index"))===n-4&&(e.lastPage.classList.add("is-hidden"),e.dotsNext.classList.add("is-hidden"))}(o+1),g(d,o+1)})),e.firstPage.addEventListener("click",(function(){g(d,1),v(),_(d),b(),e.lastPage.classList.remove("is-hidden"),e.dotsNext.classList.remove("is-hidden"),e.firstPage.classList.add("is-hidden"),e.dotsPrev.classList.add("is-hidden")})),e.lastPage.addEventListener("click",(function(){g(d,n),L(o),_(d),b(),e.dotsNext.classList.add("is-hidden"),e.dotsPrev.classList.remove("is-hidden"),e.firstPage.classList.remove("is-hidden"),e.lastPage.classList.add("is-hidden")})),l();
//# sourceMappingURL=myLib.64f731f0.js.map
