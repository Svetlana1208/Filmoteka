const e={};let t,i;const n={gallery:document.querySelector(".gallery"),paginationNumbers:document.querySelector(".pagination__current"),nextButton:document.getElementById("next-button"),prevButton:document.getElementById("prev-button"),firstPage:document.querySelector(".pagination__firstPage"),dotsPrev:document.querySelector(".pagination__dotsPrev"),lastPage:document.querySelector(".pagination__lastPage"),dotsNext:document.querySelector(".pagination__dotsNext")};function a(){s().then((t=>{!async function(){try{const t=await s();for(genre of t.genres)e[genre.id]=genre.name}catch(e){console.log(e.message)}}(),function(e){n.paginationNumbers.innerHTML="",n.firstPage.classList.add("is-hidden"),n.dotsPrev.classList.add("is-hidden");for(let t=e;t<=5;t+=1)o(t)}(1),document.querySelectorAll(".pagination-number").forEach((e=>{const t=Number(e.getAttribute("page-index"));t&&e.addEventListener("click",(()=>{r(t)}))})),r(1)}))}async function s(){const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=4273054ff6f056d7541ef873941254f6&language=en-US");return await e.json()}async function r(a){t=a;try{const s=await async function(e){const t=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=4273054ff6f056d7541ef873941254f6&page=${e}`);return await t.json()}(a);return function(t){let i;for(pop of t.results)if(pop.genre_ids)for(let t=0;t<pop.genre_ids.length;t+=1)pop.genre_ids[t]=e[pop.genre_ids[t]],i=pop.release_date.slice(0,4),pop.release_date=i}(s),function(e){n.gallery.innerHTML="",markup=e.results.map((e=>`<li class="gallery__item">\n            <img class="film__poster" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="poster">\n            <h3 class="film__title">${e.original_title}</h3>\n            <p class="film__characteristics">${e.genre_ids.join(", ")} | ${e.release_date}</p>\n        </li>`)).join(""),n.gallery.insertAdjacentHTML("beforeend",markup)}(s),function(e){firstPage=1,n.firstPage.setAttribute("page-index",1),n.firstPage.setAttribute("aria-label","Page 1"),n.firstPage.innerHTML=1,i=e.total_pages-1,n.lastPage.setAttribute("page-index",i),n.lastPage.setAttribute("aria-label","Page "+i),n.lastPage.innerHTML=i}(s),function(){1===t?l(n.prevButton):c(n.prevButton);t===i?l(n.nextButton):c(n.nextButton)}(),document.querySelectorAll(".pagination-number").forEach((e=>{e.classList.remove("is-active"),Number(e.getAttribute("page-index"))==t&&e.classList.add("is-active")})),s}catch(e){console.log(e.message)}}function o(e){const t=document.createElement("button");t.className="pagination-number",t.innerHTML=e,t.setAttribute("page-index",e),t.setAttribute("aria-label","Page "+e),n.paginationNumbers.appendChild(t)}function d(e){n.paginationNumbers.innerHTML="";for(let t=e-5;t<e;t+=1)o(t+1)}function l(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function c(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}n.prevButton.addEventListener("click",(()=>{!function(e){n.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==n.paginationNumbers.firstElementChild.innerHTML&&(d(e),document.querySelectorAll(".pagination-number").forEach((e=>{const t=Number(e.getAttribute("page-index"));t&&e.addEventListener("click",(()=>{r(t)}))})));Number(n.paginationNumbers.lastElementChild.getAttribute("page-index"))===i-5&&(n.dotsNext.classList.remove("is-hidden"),n.lastPage.classList.remove("is-hidden"));5===Number(n.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(n.firstPage.classList.add("is-hidden"),n.dotsPrev.classList.add("is-hidden"))}(t-1),r(t-1)})),n.nextButton.addEventListener("click",(()=>{!function(e){n.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&Number(n.paginationNumbers.lastElementChild.getAttribute("page-index"))!==i&&(!function(e){n.paginationNumbers.innerHTML="";for(let t=e;t<e+5;t+=1)o(t)}(e),document.querySelectorAll(".pagination-number").forEach((e=>{const t=Number(e.getAttribute("page-index"));t&&e.addEventListener("click",(()=>{r(t)}))})));6===Number(n.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(n.firstPage.classList.remove("is-hidden"),n.dotsPrev.classList.remove("is-hidden"));Number(n.paginationNumbers.firstElementChild.getAttribute("page-index"))===i-5&&n.dotsNext.classList.add("is-hidden");Number(n.paginationNumbers.firstElementChild.getAttribute("page-index"))===i-4&&(n.lastPage.classList.add("is-hidden"),n.dotsNext.classList.add("is-hidden"))}(t+1),r(t+1)})),n.firstPage.addEventListener("click",(()=>{a(),n.lastPage.classList.remove("is-hidden"),n.dotsNext.classList.remove("is-hidden")})),n.lastPage.addEventListener("click",(function(){r(i),n.dotsNext.classList.add("is-hidden"),n.dotsPrev.classList.remove("is-hidden"),n.firstPage.classList.remove("is-hidden"),d(t),document.querySelectorAll(".pagination-number").forEach((e=>{const t=Number(e.getAttribute("page-index"));t&&e.addEventListener("click",(()=>{r(t)}))})),n.lastPage.classList.add("is-hidden")})),window.addEventListener("load",a());
//# sourceMappingURL=index.b4529f41.js.map
