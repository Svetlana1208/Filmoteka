var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},s={},t=e.parcelRequired7c6;null==t&&((t=function(e){if(e in i)return i[e].exports;if(e in s){var t=s[e];delete s[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,i){s[e]=i},e.parcelRequired7c6=t);var n=t("lO6kD"),r=t("bTcpz"),a=t("eyjy7"),d=t("hWKZL"),l=t("ftYLF");let o,f,c=[];function L(){(0,a.signOut)((0,a.getAuth)())}function b(){c=[],m(),n.refsMyLib.watchedBtn.classList.add("is-active"),n.refsMyLib.queueBtn.classList.remove("is-active"),n.refsMyLib.paginationNumbers.innerHTML="";(0,l.getDocs)((0,l.collection)(d.db,"watched")).then((e=>{e._snapshot.docChanges.forEach((e=>{const i=e.doc.data.value.mapValue.fields;c.push(i)})),u()}))}function u(){0!==c.length?(n.refsMyLib.pagination.classList.remove("is-hidden"),o=Math.ceil(c.length/20),M(c,1),y(),v(),n.refsMyLib.firstPage.setAttribute("page-index",1),n.refsMyLib.firstPage.setAttribute("aria-label","Page 1"),n.refsMyLib.firstPage.innerHTML=1,n.refsMyLib.lastPage.setAttribute("page-index",o),n.refsMyLib.lastPage.setAttribute("aria-label","Page "+o),n.refsMyLib.lastPage.innerHTML=o,N(c)):(n.refsMyLib.gallery.innerHTML="",n.refsMyLib.information.classList.remove("is-hidden"))}function g(e){const i=document.createElement("button");i.className="pagination-number",i.innerHTML=e,i.setAttribute("type","button"),i.setAttribute("page-index",e),i.setAttribute("aria-label","Page "+e),i.setAttribute("onclick","window.location.href='./myLib.html#myLibGallery'"),n.refsMyLib.paginationNumbers.appendChild(i)}function y(){if(n.refsMyLib.paginationNumbers.innerHTML="",n.refsMyLib.nextButton.classList.remove("is-hidden"),n.refsMyLib.prevButton.classList.remove("is-hidden"),o>5){n.refsMyLib.lastPage.classList.remove("is-hidden"),n.refsMyLib.dotsNext.classList.remove("is-hidden");for(let e=1;e<=5;e+=1)g(e)}else{n.refsMyLib.lastPage.classList.add("is-hidden"),n.refsMyLib.dotsNext.classList.add("is-hidden"),n.refsMyLib.firstPage.classList.add("is-hidden"),n.refsMyLib.dotsPrev.classList.add("is-hidden");for(let e=1;e<=o;e+=1)g(e)}}function M(e,i){n.refsMyLib.information.classList.add("is-hidden"),f=i;const s=20*(i-=1),t=s+20,a=e.slice(s,t);!function(e){n.refsMyLib.gallery.innerHTML="",console.log(c),c.forEach((e=>{e.genres=[],e.genre_ids.arrayValue&&e.genre_ids.arrayValue.values.forEach((i=>{e.genres.push(i.stringValue)}))}));const i=e.map((e=>`<li class="gallery__item" movie-index = ${e.id.integerValue}>\n            <img class="film__poster" src="${e.posterPath.stringValue}${e.poster_path.stringValue}" alt="poster">\n            <h3 class="film__title">${e.original_title.stringValue.slice(0,60)}</h3>\n            <p class="film__characteristics">${e.genres.join(", ").slice(0,35)} | ${e.release_date.stringValue}</p>\n        </li>`)).join("");n.refsMyLib.gallery.insertAdjacentHTML("beforeend",i)}(a),v(),function(){1===f?h(n.refsMyLib.prevButton):p(n.refsMyLib.prevButton);f===o?h(n.refsMyLib.nextButton):p(n.refsMyLib.nextButton)}(),(0,r.default)(a)}function m(){n.refsMyLib.nextButton.classList.add("is-hidden"),n.refsMyLib.prevButton.classList.add("is-hidden"),n.refsMyLib.lastPage.classList.add("is-hidden"),n.refsMyLib.dotsNext.classList.add("is-hidden"),n.refsMyLib.firstPage.classList.add("is-hidden"),n.refsMyLib.dotsPrev.classList.add("is-hidden")}function h(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function p(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function v(){document.querySelectorAll(".pagination-number").forEach((e=>{e.classList.remove("is-active");Number(e.getAttribute("page-index"))===f&&e.classList.add("is-active")}))}function N(e){document.querySelectorAll(".pagination-number").forEach((i=>{const s=Number(i.getAttribute("page-index"));s&&i.addEventListener("click",(()=>{M(e,s)}))}))}function P(e){if(n.refsMyLib.paginationNumbers.innerHTML="",f>1&&f<6&&n.refsMyLib.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")){for(let e=1;e<6;e+=1)g(e);n.refsMyLib.dotsNext.classList.remove("is-hidden"),n.refsMyLib.lastPage.classList.remove("is-hidden")}else for(let i=e-5;i<e;i+=1)g(i+1)}n.refsMyLib.watchedBtn.addEventListener("click",b),n.refsMyLib.queueBtn.addEventListener("click",(function(){c=[],m(),n.refsMyLib.watchedBtn.classList.remove("is-active"),n.refsMyLib.queueBtn.classList.add("is-active"),n.refsMyLib.paginationNumbers.innerHTML="";(0,l.getDocs)((0,l.collection)(d.db,"queue")).then((e=>{e._snapshot.docChanges.forEach((e=>{const i=e.doc.data.value.mapValue.fields;c.push(i)})),u()}))})),n.refsMyLib.prevButton.addEventListener("click",(()=>{!function(e){n.refsMyLib.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==n.refsMyLib.paginationNumbers.firstElementChild.innerHTML&&(P(e),N(c));Number(n.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))===o-5&&(n.refsMyLib.dotsNext.classList.remove("is-hidden"),n.refsMyLib.lastPage.classList.remove("is-hidden"));5===Number(n.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(n.refsMyLib.firstPage.classList.add("is-hidden"),n.refsMyLib.dotsPrev.classList.add("is-hidden"))}(f-1),M(c,f-1)})),n.refsMyLib.nextButton.addEventListener("click",(()=>{!function(e){5===f&&n.refsMyLib.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&n.refsMyLib.firstPage.classList.remove("is-hidden");n.refsMyLib.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&e!==o&&(!function(e){if(n.refsMyLib.paginationNumbers.innerHTML="",5===f&&6===o){n.refsMyLib.dotsPrev.classList.remove("is-hidden");for(let i=e-4;i<f+2;i+=1)g(i)}else if(5===f&&7===o){n.refsMyLib.dotsPrev.classList.remove("is-hidden");for(let i=e-3;i<f+3;i+=1)g(i)}else if(5===f&&8===o){n.refsMyLib.dotsPrev.classList.remove("is-hidden");for(let i=e-2;i<f+4;i+=1)g(i)}else if(5===f&&9===o){n.refsMyLib.dotsPrev.classList.remove("is-hidden");for(let i=e-1;i<f+4;i+=1)g(i)}else if(f===o)for(let i=e-5;i<e;i+=1)g(i+1);else for(let i=e;i<e+5;i+=1)g(i)}(e),N(c));f===o-1&&o>7&&(P(e),v(),N(c));6===Number(n.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(n.refsMyLib.firstPage.classList.remove("is-hidden"),n.refsMyLib.dotsPrev.classList.remove("is-hidden"));Number(n.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))===o-5&&5!==Number(n.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))&&n.refsMyLib.dotsNext.classList.add("is-hidden");Number(n.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))===o-4&&(n.refsMyLib.lastPage.classList.add("is-hidden"),n.refsMyLib.dotsNext.classList.add("is-hidden"))}(f+1),M(c,f+1)})),n.refsMyLib.firstPage.addEventListener("click",(function(){M(c,1),y(),N(c),v(),n.refsMyLib.lastPage.classList.remove("is-hidden"),n.refsMyLib.dotsNext.classList.remove("is-hidden"),n.refsMyLib.firstPage.classList.add("is-hidden"),n.refsMyLib.dotsPrev.classList.add("is-hidden")})),n.refsMyLib.lastPage.addEventListener("click",(function(){M(c,o),P(f),N(c),v(),n.refsMyLib.dotsNext.classList.add("is-hidden"),n.refsMyLib.dotsPrev.classList.remove("is-hidden"),n.refsMyLib.firstPage.classList.remove("is-hidden"),n.refsMyLib.lastPage.classList.add("is-hidden")})),(0,a.onAuthStateChanged)(d.auth,(e=>{if(e){const i=e.email.split("@")[0];console.log(i),n.refsMyLib.userLogin.innerHTML=`${i}`,n.refsMyLib.userSignOut.addEventListener("click",L)}else console.log("user wasn't authorization")})),b();
//# sourceMappingURL=myLib.15c116cf.js.map
