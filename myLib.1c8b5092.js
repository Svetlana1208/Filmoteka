!function(){var e,t,i,a,n,s={watchedBtn:document.querySelector("[data-watched-button]"),queueBtn:document.querySelector("[data-queue-button]"),gallery:document.querySelector(".myLibGallery"),information:document.querySelector(".information"),movieCardBox:document.querySelector(".movieCard__box"),modal:document.querySelector("[data-modal]"),closeModalBtn:document.querySelector("[data-modal-close]"),paginationNumbers:document.querySelector(".pagination__current"),nextButton:document.getElementById("next-button"),prevButton:document.getElementById("prev-button"),firstPage:document.querySelector(".pagination__firstPage"),dotsPrev:document.querySelector(".pagination__dotsPrev"),lastPage:document.querySelector(".pagination__lastPage"),dotsNext:document.querySelector(".pagination__dotsNext")},o={gallery:document.querySelector(".gallery"),paginationNumbers:document.querySelector(".pagination__current"),nextButton:document.getElementById("next-button"),prevButton:document.getElementById("prev-button"),firstPage:document.querySelector(".pagination__firstPage"),dotsPrev:document.querySelector(".pagination__dotsPrev"),lastPage:document.querySelector(".pagination__lastPage"),dotsNext:document.querySelector(".pagination__dotsNext"),form:document.querySelector(".search__form"),searchIcon:document.querySelector(".search__icon"),searchSpinner:document.querySelector(".spinner"),searchInfo:document.querySelector(".search__info"),movieCardBox:document.querySelector(".movieCard__box"),modal:document.querySelector("[data-modal]"),closeModalBtn:document.querySelector("[data-modal-close]")},r=function(){var e=JSON.parse(localStorage.getItem("watchedList"))||[];e.push(movie),localStorage.setItem("watchedList",JSON.stringify(e))},c=function(){var e=JSON.parse(localStorage.getItem("queue"))||[];e.push(movie),localStorage.setItem("queue",JSON.stringify(e))},d=function(e){document.querySelectorAll(".gallery__item").forEach((function(t){t.addEventListener("click",(function(){movieIndex=Number(t.getAttribute("movie-index")),e.forEach((function(e){if(e.id===movieIndex){movie=e;var t='<article class="movie">\n                            <div>\n                                <img class="movie__poster" src="'.concat(movie.posterPath).concat(movie.poster_path,'" alt="poster">\n                            </div>\n                            <div class="movie__box">\n                                <h3 class="movie__title">').concat(movie.original_title,'</h3>\n                                <ul>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Vote / Votes</p>\n                                        <div class="vote__average">').concat(movie.vote_average,'</div><span>&nbsp / &nbsp</span>\n                                        <div class="vote__count">').concat(movie.vote_count,'</div>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Popularity</p>\n                                        <p class="movie__characteristicValue">').concat(movie.popularity,'</p>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Original Title</p>\n                                        <p class="movie__characteristicValue">').concat(movie.original_title,'</p>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Genre</p>\n                                        <p class="movie__characteristicValue">').concat(movie.genre_ids.join(", "),'</p>    \n                                    </li>\n                                </ul>    \n                                <p class="movie__about">About</p>\n                                <p class="movie__description">').concat(movie.overview,'</p>\n                                <div class="movie__btnBox">\n                                    <button class="movie__btn is-active" type="button" data-add-to-watched>add to Watched</button>\n                                    <button class="movie__btn" type="button" data-add-to-queue>add to queue</button>\n                                </div>\n                            </div>\n                        </article>');o.movieCardBox.innerHTML=t,o.modal.classList.remove("is-hidden"),s.movieCardBox.innerHTML=t,s.modal.classList.remove("is-hidden"),document.body.classList.add("body-modal-open"),document.querySelector("[data-add-to-watched]").addEventListener("click",r),document.querySelector("[data-add-to-queue]").addEventListener("click",c)}}))}))}))};function l(){s.watchedBtn.classList.add("is-active"),s.queueBtn.classList.remove("is-active");var e=localStorage.getItem("watchedList");i=JSON.parse(e),a=i,u()}function u(){null!==a?(e=Math.ceil(a.length/20),g(a,1),v(),b(),s.firstPage.setAttribute("page-index",1),s.firstPage.setAttribute("aria-label","Page 1"),s.firstPage.innerHTML=1,s.lastPage.setAttribute("page-index",e),s.lastPage.setAttribute("aria-label","Page "+e),s.lastPage.innerHTML=e,_(a)):(s.gallery.innerHTML="",s.information.classList.remove("is-hidden"))}function m(e){var t=document.createElement("button");t.className="pagination-number",t.innerHTML=e,t.setAttribute("type","button"),t.setAttribute("page-index",e),t.setAttribute("aria-label","Page "+e),t.setAttribute("onclick","window.location.href='./myLib.html#myLibGallery'"),s.paginationNumbers.appendChild(t)}function v(){if(s.paginationNumbers.innerHTML="",s.nextButton.classList.remove("is-hidden"),s.prevButton.classList.remove("is-hidden"),e>5){s.lastPage.classList.remove("is-hidden"),s.dotsNext.classList.remove("is-hidden");for(var t=1;t<=5;t+=1)m(t)}else{s.lastPage.classList.add("is-hidden"),s.dotsNext.classList.add("is-hidden"),s.firstPage.classList.add("is-hidden"),s.dotsPrev.classList.add("is-hidden");for(var i=1;i<=e;i+=1)m(i)}}function g(i,a){s.information.classList.add("is-hidden"),t=a;var n=20*(a-=1),o=n+20,r=i.slice(n,o);!function(e){s.gallery.innerHTML="";var t=e.map((function(e){return'<li class="gallery__item" movie-index = '.concat(e.id,'>\n            <img class="film__poster" src="').concat(e.posterPath).concat(e.poster_path,'" alt="poster">\n            <h3 class="film__title">').concat(e.original_title,'</h3>\n            <p class="film__characteristics">').concat(e.genre_ids.join(", ")," | ").concat(e.release_date,"</p>\n        </li>")})).join("");s.gallery.insertAdjacentHTML("beforeend",t)}(r),b(),function(){1===t?p(s.prevButton):h(s.prevButton);t===e?p(s.nextButton):h(s.nextButton)}(),d(r)}function p(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function h(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function b(){document.querySelectorAll(".pagination-number").forEach((function(e){e.classList.remove("is-active"),Number(e.getAttribute("page-index"))===t&&e.classList.add("is-active")}))}function _(e){document.querySelectorAll(".pagination-number").forEach((function(t){var i=Number(t.getAttribute("page-index"));i&&t.addEventListener("click",(function(){g(e,i)}))}))}function f(e){if(s.paginationNumbers.innerHTML="",t>1&&t<6&&s.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")){for(var i=1;i<6;i+=1)m(i);s.dotsNext.classList.remove("is-hidden"),s.lastPage.classList.remove("is-hidden")}else for(var a=e-5;a<e;a+=1)m(a+1)}s.watchedBtn.addEventListener("click",l),s.queueBtn.addEventListener("click",(function(){s.watchedBtn.classList.remove("is-active"),s.queueBtn.classList.add("is-active");var e=localStorage.getItem("queue");n=JSON.parse(e),a=n,u()})),s.closeModalBtn.addEventListener("click",(function(){s.modal.classList.add("is-hidden"),document.body.classList.remove("body-modal-open")})),s.modal.addEventListener("click",(function(){s.modal.classList.add("is-hidden"),document.body.classList.remove("body-modal-open")})),s.prevButton.addEventListener("click",(function(){!function(t){s.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==s.paginationNumbers.firstElementChild.innerHTML&&(f(t),_(a));Number(s.paginationNumbers.lastElementChild.getAttribute("page-index"))===e-5&&(s.dotsNext.classList.remove("is-hidden"),s.lastPage.classList.remove("is-hidden"));5===Number(s.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(s.firstPage.classList.add("is-hidden"),s.dotsPrev.classList.add("is-hidden"))}(t-1),g(a,t-1)})),s.nextButton.addEventListener("click",(function(){!function(i){5===t&&s.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&s.firstPage.classList.remove("is-hidden");s.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&i!==e&&(!function(i){if(s.paginationNumbers.innerHTML="",5===t&&6===e){s.dotsPrev.classList.remove("is-hidden");for(var a=i-4;a<t+2;a+=1)m(a)}else if(5===t&&7===e){s.dotsPrev.classList.remove("is-hidden");for(var n=i-3;n<t+3;n+=1)m(n)}else if(5===t&&8===e){s.dotsPrev.classList.remove("is-hidden");for(var o=i-2;o<t+4;o+=1)m(o)}else if(5===t&&9===e){s.dotsPrev.classList.remove("is-hidden");for(var r=i-1;r<t+4;r+=1)m(r)}else if(t===e)for(var c=i-5;c<i;c+=1)m(c+1);else for(var d=i;d<i+5;d+=1)m(d)}(i),_(a));t===e-1&&e>7&&(f(i),b(),_(a));6===Number(s.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(s.firstPage.classList.remove("is-hidden"),s.dotsPrev.classList.remove("is-hidden"));Number(s.paginationNumbers.firstElementChild.getAttribute("page-index"))===e-5&&5!==Number(s.paginationNumbers.lastElementChild.getAttribute("page-index"))&&s.dotsNext.classList.add("is-hidden");Number(s.paginationNumbers.firstElementChild.getAttribute("page-index"))===e-4&&(s.lastPage.classList.add("is-hidden"),s.dotsNext.classList.add("is-hidden"))}(t+1),g(a,t+1)})),s.firstPage.addEventListener("click",(function(){g(a,1),v(),_(a),b(),s.lastPage.classList.remove("is-hidden"),s.dotsNext.classList.remove("is-hidden"),s.firstPage.classList.add("is-hidden"),s.dotsPrev.classList.add("is-hidden")})),s.lastPage.addEventListener("click",(function(){g(a,e),f(t),_(a),b(),s.dotsNext.classList.add("is-hidden"),s.dotsPrev.classList.remove("is-hidden"),s.firstPage.classList.remove("is-hidden"),s.lastPage.classList.add("is-hidden")})),l()}();
//# sourceMappingURL=myLib.1c8b5092.js.map
