{"mappings":"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","sources":["src/js/vars.js","src/js/genres.js","src/js/fetch.js","src/js/varsMyLib.js","src/index999.js","src/js/modal.js"],"sourcesContent":["export const refs = {\n    gallery: document.querySelector('.gallery'),\n    paginationNumbers: document.querySelector('.pagination__current'),\n    nextButton: document.getElementById(\"next-button\"),\n    prevButton: document.getElementById(\"prev-button\"),\n    firstPage: document.querySelector(\".pagination__firstPage\"),\n    dotsPrev: document.querySelector(\".pagination__dotsPrev\"),\n    lastPage: document.querySelector(\".pagination__lastPage\"),\n    dotsNext: document.querySelector(\".pagination__dotsNext\"),\n    form: document.querySelector(\".search__form\"),\n    searchIcon: document.querySelector(\".search__icon\"),\n    searchSpinner: document.querySelector(\".spinner\"),\n    searchInfo: document.querySelector(\".search__info\"),\n    movieCardBox: document.querySelector(\".movieCard__box\"),\n    modal: document.querySelector(\"[data-modal]\"),\n    closeModalBtn: document.querySelector(\"[data-modal-close]\"),\n};\n\nconst key = '4273054ff6f056d7541ef873941254f6';\n\nexport {key};\n","import {key} from \"./vars\";\nconst genresList = {};\n\nconst fetchRequestGenres = async () => {\n    const response = await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${key}&language=en-US`);\n    const dataGenres = await response.json();\n    makeGenresList(dataGenres);\n\n    return genresList;\n}\n\nfunction makeGenresList(dataGenres) {\n    for (const genre of dataGenres.genres) {\n        genresList[genre.id] = genre.name;\n    }\n}\nexport default fetchRequestGenres;\n\nexport {genresList};","const fetchRequest = async (url) => {\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;  \n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport default fetchRequest;","export const refsMyLib = {\n    watchedBtn: document.querySelector(\"[data-watched-button]\"),\n    queueBtn: document.querySelector(\"[data-queue-button]\"),\n    gallery: document.querySelector(\".myLibGallery\"),\n    information: document.querySelector(\".information\"),\n    movieCardBox: document.querySelector(\".movieCard__box\"),\n    modal: document.querySelector(\"[data-modal]\"),\n    closeModalBtn: document.querySelector(\"[data-modal-close]\"),\n    paginationNumbers: document.querySelector('.pagination__current'),\n    nextButton: document.getElementById(\"next-button\"),\n    prevButton: document.getElementById(\"prev-button\"),\n    firstPage: document.querySelector(\".pagination__firstPage\"),\n    dotsPrev: document.querySelector(\".pagination__dotsPrev\"),\n    lastPage: document.querySelector(\".pagination__lastPage\"),\n    dotsNext: document.querySelector(\".pagination__dotsNext\"),\n\n}\n","import {refs} from \"./js/vars\";\nimport {key} from \"./js/vars\";\nimport {genresList} from \"./js/genres\";\nimport fetchRequestGenres from \"./js/genres\";\nimport fetchRequest from \"./js/fetch\";\nimport modal from \"./js/modal\";\n\n\nlet page = 1;\nlet currentPage;\nconst firstPage = 1;\nlet lastPage;\nlet searchQuery;\nlet data;\nlet url;\nlet fullUrl;\nlet form;\n\n\nrefs.prevButton.addEventListener(\"click\", () => {\n    updatePaginationPrev(currentPage - 1);\n    setCurrentPage(currentPage - 1);\n});\n\nrefs.nextButton.addEventListener(\"click\", () => {\n    updatePaginationNext(currentPage + 1);\n    setCurrentPage(currentPage + 1);\n});\n\nrefs.firstPage.addEventListener('click', downloadFirstPage);\n\nrefs.lastPage.addEventListener('click', downloadLastPage);\n\nrefs.form.addEventListener('submit', onSearch);\n\nrefs.closeModalBtn.addEventListener('click', () => {\n    refs.modal.classList.add(\"is-hidden\");\n    document.body.classList.remove(\"body-modal-open\");\n})\n\nrefs.modal.addEventListener('click', () => {\n    refs.modal.classList.add(\"is-hidden\");\n    document.body.classList.remove(\"body-modal-open\");\n})\n\n\n\ngetPopular();\n    \nasync function getPopular() {\n    await fetchRequestGenres();\n\n    url = `https://api.themoviedb.org/3/trending/movie/day?api_key=${key}`;\n\n    await setCurrentPage(1); \n\n    getPaginationNumbers();\n    addEventListenerAllBtn();\n    updateFirstLastPageBtn();\n    handleActivePageNumber();\n}\n\nfunction updateDescription (data) {\n    let releaseYear;\n    for (const movie of data.results) {\n\n        if (movie.poster_path === null) {\n            movie.posterPath = 'https://upload.wikimedia.org/wikipedia/commons/a/a1';\n            movie.poster_path = '/Out_Of_Poster.jpg';\n        } else \n        movie.posterPath = 'https://image.tmdb.org/t/p/w500';\n\n        if (movie.genre_ids) {\n            for (let i = 0; i < movie.genre_ids.length; i+=1) {\n                movie.genre_ids[i] = genresList[movie.genre_ids[i]];\n            }\n        } else movie.genre_ids = [\"absent\"];\n        \n        if (movie.release_date) {\n            releaseYear = movie.release_date.slice(0, 4);\n            movie.release_date = releaseYear;\n        }\n    }\n}\n\nfunction onMarkUp(data) {\n    refs.gallery.innerHTML=\"\";\n\n    const markup = data.map(card =>\n        `<li class=\"gallery__item\" movie-index = ${card.id}>\n            <img class=\"film__poster\" src=\"${card.posterPath}${card.poster_path}\" alt=\"poster\">\n            <h3 class=\"film__title\">${card.original_title}</h3>\n            <p class=\"film__characteristics\">${card.genre_ids.join(\", \")} | ${card.release_date}</p>\n        </li>`)\n        .join(\"\");\n\n        refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function setCurrentPage(page) {\n    currentPage = page;\n    fullUrl = `${url}&page=${page}`;\n\n    try {\n        data = await fetchRequest(fullUrl);\n\n    if (data.total_results !== 0) {\n        lastPage = data.total_pages;\n\n        updateDescription(data);\n        onMarkUp(data.results);\n        buttonsStatus();\n        handleActivePageNumber();\n        modal(data.results);\n    }\n    else {\n        refs.searchInfo.textContent = \"Search result not successful. Enter the correct movie name.\";\n        getPopular();\n    }\n    } catch (error) {\n        console.error(error);\n      }\n}\n\nfunction appendPageNumber(index) {\n    const pageNumber = document.createElement(\"button\");\n    pageNumber.className = \"pagination-number\";\n    pageNumber.innerHTML = index;\n    pageNumber.setAttribute(\"type\", \"button\");\n    pageNumber.setAttribute(\"page-index\", index);\n    pageNumber.setAttribute(\"aria-label\", \"Page \" + index);\n    pageNumber.setAttribute(\"onclick\", \"window.location.href='./index.html#gallery'\");\n    refs.paginationNumbers.appendChild(pageNumber);\n}\n\nfunction getPaginationNumbers() {\n        refs.paginationNumbers.innerHTML = \"\";\n        refs.nextButton.classList.remove(\"is-hidden\");\n        refs.prevButton.classList.remove(\"is-hidden\");\n\n        if (data.total_pages > 5) {\n            refs.lastPage.classList.remove(\"is-hidden\");\n            refs.dotsNext.classList.remove(\"is-hidden\");\n\n            for (let i = page; i <= 5; i += 1) {\n                appendPageNumber(i);\n            }\n    \n        } else {\n            refs.lastPage.classList.add(\"is-hidden\");\n            refs.dotsNext.classList.add(\"is-hidden\");\n            refs.firstPage.classList.add(\"is-hidden\");\n            refs.dotsPrev.classList.add(\"is-hidden\");\n\n            for (let i = page; i <= data.total_pages; i += 1) {\n                appendPageNumber(i);\n            }\n        }\n}\n\nfunction handleActivePageNumber() {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        button.classList.remove(\"is-active\");\n        \n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex === currentPage) {\n          button.classList.add(\"is-active\");\n        }\n      });\n}\n\nfunction disableButton(button) {\n    button.classList.add(\"disabled\");\n    button.setAttribute(\"disabled\", true);\n};\n\nfunction enableButton(button) {\n    button.classList.remove(\"disabled\");\n    button.removeAttribute(\"disabled\");\n};\n\nfunction buttonsStatus() {\n    if (currentPage === 1) {\n        disableButton(refs.prevButton);\n    } else {\n        enableButton(refs.prevButton);\n    }\n\n    if (currentPage === lastPage) {\n        disableButton(refs.nextButton);\n    } else {\n        enableButton(refs.nextButton);\n    }\n};\n\nfunction addEventListenerAllBtn() {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex) {\n          button.addEventListener(\"click\", () => {\n            setCurrentPage(pageIndex);\n        });\n        }\n    });\n}\n\nfunction getPaginationNumbersNext(page) {\n    refs.paginationNumbers.innerHTML = \"\";\n    // for (let i = page; i < page + 5; i += 1) {\n    //     appendPageNumber(i);\n    //   }\n\n      if (currentPage === 5 && lastPage === 6) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 4; i < currentPage + 2; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 7) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 3; i < currentPage + 3; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 8) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 2; i < currentPage + 4; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 9) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 1; i < currentPage + 4; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else {\n        for (let i = page; i < page + 5; i += 1) {\n            appendPageNumber(i);\n          }    \n    }\n}\n\nfunction updatePaginationNext(page) {\n    if (refs.paginationNumbers.lastElementChild === document.querySelector('.pagination-number.is-active') && Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) !== lastPage) {\n        getPaginationNumbersNext(page);\n        addEventListenerAllBtn();\n    }\n\n    if (currentPage === lastPage - 1) {\n        getPaginationNumbersPrev(page);\n        handleActivePageNumber();\n        addEventListenerAllBtn(currentDataAll);\n    }\n\n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === 6) {\n        refs.firstPage.classList.remove(\"is-hidden\");\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n    }\n    \n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 5) {\n        refs.dotsNext.classList.add(\"is-hidden\");\n    }\n\n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 4) {\n        refs.lastPage.classList.add(\"is-hidden\");\n        refs.dotsNext.classList.add(\"is-hidden\");\n    }\n}\n\nfunction getPaginationNumbersPrev(page) {\n    refs.paginationNumbers.innerHTML = \"\";\n    // for (let i = page - 5; i < page; i += 1) {\n    //     appendPageNumber(i + 1);\n    //   }\n    if (currentPage > 1 && currentPage < 6 && refs.paginationNumbers.firstElementChild === document.querySelector('.pagination-number.is-active')) {\n        for (let i = 1; i < 6; i += 1) {\n            appendPageNumber(i);\n        }\n        refs.dotsNext.classList.remove(\"is-hidden\");\n        refs.lastPage.classList.remove(\"is-hidden\");\n\n    } else {\n        for (let i = page - 5; i < page; i += 1) {\n            appendPageNumber(i + 1);\n          }\n    }    \n}\n\nfunction updatePaginationPrev(page) {\n    if (refs.paginationNumbers.firstElementChild === document.querySelector('.pagination-number.is-active') && refs.paginationNumbers.firstElementChild.innerHTML !== \"1\") {\n        getPaginationNumbersPrev(page);\n        addEventListenerAllBtn();\n    }\n\n    if (Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === lastPage - 5) {\n        refs.dotsNext.classList.remove(\"is-hidden\");\n        refs.lastPage.classList.remove(\"is-hidden\");\n    }\n\n    if (Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === 5) {\n        refs.firstPage.classList.add(\"is-hidden\");\n        refs.dotsPrev.classList.add(\"is-hidden\");\n    }\n}\n\nfunction updateFirstLastPageBtn() {\n    refs.firstPage.setAttribute(\"page-index\", firstPage);\n    refs.firstPage.setAttribute(\"aria-label\", \"Page \" + firstPage);\n    refs.firstPage.innerHTML = firstPage;\n\n    refs.lastPage.setAttribute(\"page-index\", lastPage);\n    refs.lastPage.setAttribute(\"aria-label\", \"Page \" + lastPage);\n    refs.lastPage.innerHTML = lastPage;\n}\n\nfunction downloadFirstPage() {\n    setCurrentPage(1); \n    getPaginationNumbers();\n    addEventListenerAllBtn();\n\n    refs.lastPage.classList.remove(\"is-hidden\");\n    refs.dotsNext.classList.remove(\"is-hidden\");\n    refs.firstPage.classList.add(\"is-hidden\");\n    refs.dotsPrev.classList.add(\"is-hidden\");\n}\n\nfunction downloadLastPage() {\n    setCurrentPage(lastPage);\n    getPaginationNumbersPrev(currentPage);\n    addEventListenerAllBtn();\n\n    refs.dotsNext.classList.add(\"is-hidden\");\n    refs.dotsPrev.classList.remove(\"is-hidden\");\n    refs.firstPage.classList.remove(\"is-hidden\");\n    refs.lastPage.classList.add(\"is-hidden\");\n}\n\nasync function onSearch(e) {\n    e.preventDefault();\n    refs.searchIcon.classList.add(\"is-hidden\");\n    refs.searchSpinner.classList.remove(\"is-hidden\");\n    refs.gallery.innerHTML = \"\";\n    form = e.currentTarget;\n    searchQuery = form.elements.searchQuery.value;\n    page = 1;\n    refs.searchInfo.textContent ='';\n    url = `https://api.themoviedb.org/3/search/movie?api_key=${key}&query=${searchQuery}`;\n    \n    await setCurrentPage(page);\n    getPaginationNumbers();\n    addEventListenerAllBtn();\n    updateFirstLastPageBtn();\n    handleActivePageNumber();\n    refs.searchIcon.classList.remove(\"is-hidden\");\n    refs.searchSpinner.classList.add(\"is-hidden\");\n}\n\n","import {refsMyLib} from \"./varsMyLib\";\nimport {refs} from \"./vars\";\n\nconst modal = (data) => {\n    document.querySelectorAll(\".gallery__item\").forEach((card) => {\n\n        card.addEventListener(\"click\", () => {\n            const movieIndex = Number(card.getAttribute(\"movie-index\"));\n\n            data.forEach((item) => {\n                if (item.id === movieIndex) {\n                    const movie = item;\n\n                    const markupCard = \n                        `<article class=\"movie\">\n                            <div>\n                                <img class=\"movie__poster\" src=\"${movie.posterPath}${movie.poster_path}\" alt=\"poster\">\n                            </div>\n                            <div class=\"movie__box\">\n                                <h3 class=\"movie__title\">${movie.original_title}</h3>\n                                <ul>\n                                    <li class=\"movie__characteristic\">\n                                        <p class=\"movie__characteristicKey\">Vote / Votes</p>\n                                        <div class=\"vote__average\">${movie.vote_average}</div><span>&nbsp / &nbsp</span>\n                                        <div class=\"vote__count\">${movie.vote_count}</div>\n                                    </li>\n                                    <li class=\"movie__characteristic\">\n                                        <p class=\"movie__characteristicKey\">Popularity</p>\n                                        <p class=\"movie__characteristicValue\">${movie.popularity}</p>\n                                    </li>\n                                    <li class=\"movie__characteristic\">\n                                        <p class=\"movie__characteristicKey\">Original Title</p>\n                                        <p class=\"movie__characteristicValue\">${movie.original_title}</p>\n                                    </li>\n                                    <li class=\"movie__characteristic\">\n                                        <p class=\"movie__characteristicKey\">Genre</p>\n                                        <p class=\"movie__characteristicValue\">${movie.genre_ids.join(\", \")}</p>    \n                                    </li>\n                                </ul>    \n                                <p class=\"movie__about\">About</p>\n                                <p class=\"movie__description\">${movie.overview}</p>\n                                <div class=\"movie__btnBox\">\n                                    <button class=\"movie__btn is-active\" type=\"button\" data-add-to-watched>add to Watched</button>\n                                    <button class=\"movie__btn\" type=\"button\" data-add-to-queue>add to queue</button>\n                                </div>\n                            </div>\n                        </article>`;\n                \n                        refs.movieCardBox.innerHTML = markupCard;\n                        refs.modal.classList.remove(\"is-hidden\");    \n                        refsMyLib.movieCardBox.innerHTML = markupCard;\n                        refsMyLib.modal.classList.remove(\"is-hidden\");\n    \n                        document.body.classList.add(\"body-modal-open\");\n                        document.querySelector(\"[data-add-to-watched]\").addEventListener('click', addToWatched);\n                        document.querySelector(\"[data-add-to-queue]\").addEventListener('click', addToQueue);\n\n                        function addToWatched() {\n                            const oldList = JSON.parse(localStorage.getItem('watchedList')) || [];\n                            oldList.push(movie);\n                            localStorage.setItem('watchedList', JSON.stringify(oldList));\n                        }\n                        \n                        function addToQueue() {\n                            const oldList = JSON.parse(localStorage.getItem('queue')) || [];\n                            oldList.push(movie);\n                            localStorage.setItem('queue', JSON.stringify(oldList));\n                        }    \n                }\n            })\n        });\n    });\n}\n\nexport default modal;"],"names":["$d10c4eb9b927262c$export$21666b427502ea6d","gallery","document","querySelector","paginationNumbers","nextButton","getElementById","prevButton","firstPage","dotsPrev","lastPage","dotsNext","form","searchIcon","searchSpinner","searchInfo","movieCardBox","modal","closeModalBtn","$a9bf4680370b89e9$export$65f5202b5c3d7552","$a9bf4680370b89e9$export$2e2bcd8739ae039","async","response","fetch","dataGenres","genre","genres","id","name","$a9bf4680370b89e9$var$makeGenresList","json","$924b66e829bc1184$export$2e2bcd8739ae039","url","error","console","$fe032ddd57e5e922$export$6b2dfe2f54d503fd","watchedBtn","queueBtn","information","$6443dca17ac2f8cb$var$currentPage","$6443dca17ac2f8cb$var$page","$6443dca17ac2f8cb$var$lastPage","$6443dca17ac2f8cb$var$searchQuery","$6443dca17ac2f8cb$var$data","$6443dca17ac2f8cb$var$url","$6443dca17ac2f8cb$var$fullUrl","$6443dca17ac2f8cb$var$form","$6443dca17ac2f8cb$var$getPopular","$6443dca17ac2f8cb$var$setCurrentPage","$6443dca17ac2f8cb$var$getPaginationNumbers","$6443dca17ac2f8cb$var$addEventListenerAllBtn","$6443dca17ac2f8cb$var$updateFirstLastPageBtn","$6443dca17ac2f8cb$var$handleActivePageNumber","page1","total_results","total_pages","data1","releaseYear","movie","results","poster_path","posterPath","genre_ids","i","length","release_date","slice","$6443dca17ac2f8cb$var$updateDescription","data2","innerHTML","markup","map","card","original_title","join","insertAdjacentHTML","$6443dca17ac2f8cb$var$onMarkUp","$6443dca17ac2f8cb$var$disableButton","$6443dca17ac2f8cb$var$enableButton","$6443dca17ac2f8cb$var$buttonsStatus","data","querySelectorAll","forEach","addEventListener","movieIndex","Number","getAttribute","item","markupCard","vote_average","vote_count","popularity","overview","classList","remove","body","add","oldList","JSON","parse","localStorage","getItem","push","setItem","stringify","textContent","$6443dca17ac2f8cb$var$appendPageNumber","index","pageNumber","createElement","className","setAttribute","appendChild","button","removeAttribute","pageIndex","$6443dca17ac2f8cb$var$getPaginationNumbersPrev","page4","firstElementChild","page5","lastElementChild","$6443dca17ac2f8cb$var$updatePaginationPrev","page3","page2","$6443dca17ac2f8cb$var$getPaginationNumbersNext","currentDataAll","$6443dca17ac2f8cb$var$updatePaginationNext","e","preventDefault","currentTarget","elements","searchQuery","value"],"version":3,"file":"index.12f23477.js.map"}