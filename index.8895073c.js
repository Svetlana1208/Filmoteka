!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},t={},i=r.parcelRequired7c6;null==i&&((i=function(e){if(e in s)return s[e].exports;if(e in t){var r=t[e];delete t[e];var i={id:e,exports:{}};return s[e]=i,r.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,r){t[e]=r},r.parcelRequired7c6=i);var n,a=i("bpxeT"),o=i("2TvXO"),d=i("7basD"),l=(a=i("bpxeT"),o=i("2TvXO"),d=i("7basD"),{}),c=(n=e(a)(e(o).mark((function r(){var s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(d.key,"&language=en-US"));case 2:return s=e.sent,e.next=5,s.json();case 5:return f(e.sent),e.abrupt("return",l);case 8:case"end":return e.stop()}}),r)}))),function(){return n.apply(this,arguments)});function f(e){var r=!0,s=!1,t=void 0;try{for(var i,n=e.genres[Symbol.iterator]();!(r=(i=n.next()).done);r=!0){var a=i.value;l[a.id]=a.name}}catch(e){s=!0,t=e}finally{try{r||null==n.return||n.return()}finally{if(s)throw t}}}var u,g,m,p,v,h,L,b=c,x=i("5g02X"),y=i("5xtVg"),P=i("gQOBw"),w=1;function E(){return _.apply(this,arguments)}function _(){return(_=e(a)(e(o).mark((function r(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return v="https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(d.key),e.next=5,M(1);case 5:C(),O(),D(),H();case 9:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function N(e){var r,s=!0,t=!1,i=void 0;try{for(var n,a=e.results[Symbol.iterator]();!(s=(n=a.next()).done);s=!0){var o=n.value;if(null===o.poster_path?(o.posterPath="https://upload.wikimedia.org/wikipedia/commons/a/a1",o.poster_path="/Out_Of_Poster.jpg"):o.posterPath="https://image.tmdb.org/t/p/w500",o.genre_ids)for(var d=0;d<o.genre_ids.length;d+=1)o.genre_ids[d]=l[o.genre_ids[d]];else o.genre_ids=["absent"];o.release_date&&(r=o.release_date.slice(0,4),o.release_date=r)}}catch(e){t=!0,i=e}finally{try{s||null==a.return||a.return()}finally{if(t)throw i}}}function T(e){d.refs.gallery.innerHTML="";var r=e.map((function(e){return'<li class="gallery__item" movie-index = '.concat(e.id,'>\n            <img class="film__poster" src="').concat(e.posterPath).concat(e.poster_path,'" alt="poster">\n            <h3 class="film__title">').concat(e.original_title.slice(0,60),'</h3>\n            <p class="film__characteristics">').concat(e.genre_ids.join(", ").slice(0,35)," | ").concat(e.release_date,"</p>\n        </li>")})).join("");d.refs.gallery.insertAdjacentHTML("beforeend",r)}function M(e){return k.apply(this,arguments)}function k(){return(k=e(a)(e(o).mark((function r(s){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=s,h="".concat(v,"&page=").concat(s),e.prev=2,e.next=5,(0,x.default)(h);case 5:0!==(p=e.sent).total_results?(g=p.total_pages,N(p),T(p.results),I(),H(),(0,y.default)(p.results)):(d.refs.searchInfo.textContent="Search result not successful. Enter the correct movie name.",E()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),r,null,[[2,9]])})))).apply(this,arguments)}function A(e){var r=document.createElement("button");r.className="pagination-number",r.innerHTML=e,r.setAttribute("type","button"),r.setAttribute("page-index",e),r.setAttribute("aria-label","Page "+e),r.setAttribute("onclick","window.location.href='./index.html#gallery'"),d.refs.paginationNumbers.appendChild(r)}function C(){if(d.refs.paginationNumbers.innerHTML="",d.refs.nextButton.classList.remove("is-hidden"),d.refs.prevButton.classList.remove("is-hidden"),p.total_pages>5){d.refs.lastPage.classList.remove("is-hidden"),d.refs.dotsNext.classList.remove("is-hidden");for(var e=w;e<=5;e+=1)A(e)}else{d.refs.lastPage.classList.add("is-hidden"),d.refs.dotsNext.classList.add("is-hidden"),d.refs.firstPage.classList.add("is-hidden"),d.refs.dotsPrev.classList.add("is-hidden");for(var r=w;r<=p.total_pages;r+=1)A(r)}}function H(){document.querySelectorAll(".pagination-number").forEach((function(e){e.classList.remove("is-active"),Number(e.getAttribute("page-index"))===u&&e.classList.add("is-active")}))}function S(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function B(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function I(){1===u?S(d.refs.prevButton):B(d.refs.prevButton),u===g?S(d.refs.nextButton):B(d.refs.nextButton)}function O(){document.querySelectorAll(".pagination-number").forEach((function(e){var r=Number(e.getAttribute("page-index"));r&&e.addEventListener("click",(function(){M(r)}))}))}function q(e){if(d.refs.paginationNumbers.innerHTML="",u>1&&u<6&&d.refs.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")){for(var r=1;r<6;r+=1)A(r);d.refs.dotsNext.classList.remove("is-hidden"),d.refs.lastPage.classList.remove("is-hidden")}else for(var s=e-5;s<e;s+=1)A(s+1)}function D(){d.refs.firstPage.setAttribute("page-index",1),d.refs.firstPage.setAttribute("aria-label","Page 1"),d.refs.firstPage.innerHTML=1,d.refs.lastPage.setAttribute("page-index",g),d.refs.lastPage.setAttribute("aria-label","Page "+g),d.refs.lastPage.innerHTML=g}function j(){return(j=e(a)(e(o).mark((function r(s){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),d.refs.searchIcon.classList.add("is-hidden"),d.refs.searchSpinner.classList.remove("is-hidden"),d.refs.gallery.innerHTML="",L=s.currentTarget,m=L.elements.searchQuery.value,w=1,d.refs.searchInfo.textContent="",v="https://api.themoviedb.org/3/search/movie?api_key=".concat(d.key,"&query=").concat(m),e.next=11,M(w);case 11:C(),O(),D(),H(),d.refs.searchIcon.classList.remove("is-hidden"),d.refs.searchSpinner.classList.add("is-hidden");case 17:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function U(){d.refs.regModal.classList.add("is-hidden"),document.body.classList.remove("body-modal-open"),Q()}function X(e){"Escape"===e.code&&U()}function F(e){e.currentTarget===e.target&&U()}function Q(){d.refs.regInfo.innerHTML="",d.refs.regEmail.value="",d.refs.regPassword.value="",d.refs.regConfirmPassword.value="",d.refs.regEmail.classList.remove("error"),d.refs.regPassword.classList.remove("error"),d.refs.regConfirmPassword.classList.remove("error")}function R(e){e.preventDefault();var r=e.currentTarget.elements,s=r.email,t=r.password,i=r.confirmPassword;return""===s.value?(d.refs.regEmail.classList.add("error"),d.refs.regInfo.innerHTML="Please fill in all the fields!"):""===t.value?(d.refs.regPassword.classList.add("error"),d.refs.regInfo.innerHTML="Please fill in all the fields!"):t.value!==i.value||""===i.value?(d.refs.regPassword.classList.add("error"),d.refs.regConfirmPassword.classList.add("error"),d.refs.regInfo.innerHTML="Enter correct password"):t.value.length<5?d.refs.regInfo.innerHTML="Enter a stronger password":(user={email:s.value,password:t.value},void(0,P.createUserWithEmailAndPassword)(d.auth,user.email,user.password).then((function(e){e.user;d.refs.regModal.classList.add("is-hidden"),Q()})).catch((function(e){var r=e.code;return"auth/invalid-email"===r?(d.refs.regEmail.classList.add("error"),d.refs.regInfo.innerHTML="Enter correct email"):"auth/email-already-in-use"===r?(d.refs.regEmail.classList.add("error"),d.refs.regInfo.innerHTML="Such a user already exists"):void 0})))}d.refs.prevButton.addEventListener("click",(function(){!function(e){d.refs.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==d.refs.paginationNumbers.firstElementChild.innerHTML&&(q(e),O());Number(d.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))===g-5&&(d.refs.dotsNext.classList.remove("is-hidden"),d.refs.lastPage.classList.remove("is-hidden"));5===Number(d.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(d.refs.firstPage.classList.add("is-hidden"),d.refs.dotsPrev.classList.add("is-hidden"))}(u-1),M(u-1)})),d.refs.nextButton.addEventListener("click",(function(){!function(e){d.refs.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&Number(d.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))!==g&&(!function(e){if(d.refs.paginationNumbers.innerHTML="",5===u&&6===g){d.refs.dotsPrev.classList.remove("is-hidden");for(var r=e-4;r<u+2;r+=1)A(r)}else if(5===u&&7===g){d.refs.dotsPrev.classList.remove("is-hidden");for(var s=e-3;s<u+3;s+=1)A(s)}else if(5===u&&8===g){d.refs.dotsPrev.classList.remove("is-hidden");for(var t=e-2;t<u+4;t+=1)A(t)}else if(5===u&&9===g){d.refs.dotsPrev.classList.remove("is-hidden");for(var i=e-1;i<u+4;i+=1)A(i)}else for(var n=e;n<e+5;n+=1)A(n)}(e),O());u===g-1&&(q(e),H(),O(currentDataAll));6===Number(d.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(d.refs.firstPage.classList.remove("is-hidden"),d.refs.dotsPrev.classList.remove("is-hidden"));Number(d.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))===g-5&&d.refs.dotsNext.classList.add("is-hidden");Number(d.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))===g-4&&(d.refs.lastPage.classList.add("is-hidden"),d.refs.dotsNext.classList.add("is-hidden"))}(u+1),M(u+1)})),d.refs.firstPage.addEventListener("click",(function(){M(1),C(),O(),d.refs.lastPage.classList.remove("is-hidden"),d.refs.dotsNext.classList.remove("is-hidden"),d.refs.firstPage.classList.add("is-hidden"),d.refs.dotsPrev.classList.add("is-hidden")})),d.refs.lastPage.addEventListener("click",(function(){M(g),q(u),O(),d.refs.dotsNext.classList.add("is-hidden"),d.refs.dotsPrev.classList.remove("is-hidden"),d.refs.firstPage.classList.remove("is-hidden"),d.refs.lastPage.classList.add("is-hidden")})),d.refs.form.addEventListener("submit",(function(e){return j.apply(this,arguments)})),d.refs.regModalOpenBtn.addEventListener("click",(function(){d.refs.regModal.classList.remove("is-hidden"),document.body.classList.add("body-modal-open"),d.refs.regModalCloseBtn.addEventListener("click",U),window.addEventListener("keydown",X),d.refs.regModal.addEventListener("click",F),d.refs.regForm.addEventListener("submit",R)})),E()}();
//# sourceMappingURL=index.8895073c.js.map
