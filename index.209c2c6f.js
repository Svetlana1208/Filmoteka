let e=1;const t={};let i,n,a,s,r,o,d;const l={gallery:document.querySelector(".gallery"),paginationNumbers:document.querySelector(".pagination__current"),nextButton:document.getElementById("next-button"),prevButton:document.getElementById("prev-button"),firstPage:document.querySelector(".pagination__firstPage"),dotsPrev:document.querySelector(".pagination__dotsPrev"),lastPage:document.querySelector(".pagination__lastPage"),dotsNext:document.querySelector(".pagination__dotsNext"),form:document.querySelector(".search__form")};async function c(e){i=e,o=`${d}&page=${e}`,r=await async function(e){const t=await fetch(e);return await t.json()}(o),function(e){let i;for(const n of e.results){if(null===n.poster_path?(n.posterPath="https://upload.wikimedia.org/wikipedia/commons/a/a1",n.poster_path="/Out_Of_Poster.jpg"):n.posterPath="https://image.tmdb.org/t/p/w500",n.genre_ids)for(let e=0;e<n.genre_ids.length;e+=1)n.genre_ids[e]=t[n.genre_ids[e]];n.release_date&&(i=n.release_date.slice(0,4),n.release_date=i)}}(r),function(e){l.gallery.innerHTML="";const t=e.results.map((e=>`<li class="gallery__item">\n            <img class="film__poster" src="${e.posterPath}${e.poster_path}" alt="poster">\n            <h3 class="film__title">${e.original_title}</h3>\n            <p class="film__characteristics">${e.genre_ids.join(", ")} | ${e.release_date}</p>\n        </li>`)).join("");l.gallery.insertAdjacentHTML("beforeend",t)}(r),function(){1===i?f(l.prevButton):p(l.prevButton);i===a?f(l.nextButton):p(l.nextButton)}(),m()}function u(e){const t=document.createElement("button");t.className="pagination-number",t.innerHTML=e,t.setAttribute("page-index",e),t.setAttribute("aria-label","Page "+e),l.paginationNumbers.appendChild(t)}function g(){if(l.paginationNumbers.innerHTML="",l.firstPage.classList.add("is-hidden"),l.dotsPrev.classList.add("is-hidden"),r.total_pages>=5)for(let t=e;t<=5;t+=1)u(t);else for(let t=e;t<=r.total_pages;t+=1)u(t)}function m(){document.querySelectorAll(".pagination-number").forEach((e=>{e.classList.remove("is-active");Number(e.getAttribute("page-index"))==i&&e.classList.add("is-active")}))}function f(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function p(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function b(){document.querySelectorAll(".pagination-number").forEach((e=>{const t=Number(e.getAttribute("page-index"));t&&e.addEventListener("click",(()=>{c(t)}))}))}function h(e){l.paginationNumbers.innerHTML="";for(let t=e-5;t<e;t+=1)u(t+1)}function v(){n=1,l.firstPage.setAttribute("page-index",1),l.firstPage.setAttribute("aria-label","Page 1"),l.firstPage.innerHTML=1,a=r.total_pages,l.lastPage.setAttribute("page-index",a),l.lastPage.setAttribute("aria-label","Page "+a),l.lastPage.innerHTML=a}l.prevButton.addEventListener("click",(()=>{!function(e){l.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==l.paginationNumbers.firstElementChild.innerHTML&&(h(e),b());Number(l.paginationNumbers.lastElementChild.getAttribute("page-index"))===a-5&&(l.dotsNext.classList.remove("is-hidden"),l.lastPage.classList.remove("is-hidden"));5===Number(l.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(l.firstPage.classList.add("is-hidden"),l.dotsPrev.classList.add("is-hidden"))}(i-1),c(i-1)})),l.nextButton.addEventListener("click",(()=>{!function(e){l.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&Number(l.paginationNumbers.lastElementChild.getAttribute("page-index"))!==a&&(!function(e){l.paginationNumbers.innerHTML="";for(let t=e;t<e+5;t+=1)u(t)}(e),b());6===Number(l.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(l.firstPage.classList.remove("is-hidden"),l.dotsPrev.classList.remove("is-hidden"));Number(l.paginationNumbers.firstElementChild.getAttribute("page-index"))===a-5&&l.dotsNext.classList.add("is-hidden");Number(l.paginationNumbers.firstElementChild.getAttribute("page-index"))===a-4&&(l.lastPage.classList.add("is-hidden"),l.dotsNext.classList.add("is-hidden"))}(i+1),c(i+1)})),l.firstPage.addEventListener("click",(function(){c(1),g(),b(),l.lastPage.classList.remove("is-hidden"),l.dotsNext.classList.remove("is-hidden")})),l.lastPage.addEventListener("click",(function(){c(a),h(i),b(),l.dotsNext.classList.add("is-hidden"),l.dotsPrev.classList.remove("is-hidden"),l.firstPage.classList.remove("is-hidden"),l.lastPage.classList.add("is-hidden")})),l.form.addEventListener("submit",(async function(t){t.preventDefault(),l.gallery.innerHTML="",form=t.currentTarget,s=form.elements.searchQuery.value,e=1,d=`https://api.themoviedb.org/3/search/movie?api_key=4273054ff6f056d7541ef873941254f6&query=${s}`,await c(e),g(),b(),v(),m()})),async function(){o="https://api.themoviedb.org/3/genre/movie/list?api_key=4273054ff6f056d7541ef873941254f6&language=en-US",await async function(){const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=4273054ff6f056d7541ef873941254f6&language=en-US");!function(e){for(const i of e.genres)t[i.id]=i.name}(await e.json())}(),d="https://api.themoviedb.org/3/trending/movie/day?api_key=4273054ff6f056d7541ef873941254f6",await c(1),g(),b(),v(),m()}();
//# sourceMappingURL=index.209c2c6f.js.map
