!function(){var e,t="4273054ff6f056d7541ef873941254f6",r={page:0,perPage:20},n={form:document.querySelector("#search__form"),gallery:document.querySelector(".gallery"),searchInfo:document.querySelector("#search__info"),btnLoadMore:document.querySelector(".load-more")};function o(t){e=t.results.map((function(e){return'<li class="gallery__item">\n                <div class="film__box">\n                    <picture class="film__poster">\n                        <img src="https://image.tmdb.org/t/p/w300'.concat(e.poster_path,'" alt="poster" width="280" height="402">\n                    </picture>\n                </div>\n                <h3 class="film__title">').concat(e.original_title,'</h3>\n                <p class="film__characteristics">').concat(e.genre_ids.join(", ")," | ").concat(e.release_date,"</p>\n        </li>")})).join(""),n.gallery.insertAdjacentHTML("beforeend",e),n.btnLoadMore.classList.remove("is-hidden"),r.page+=1}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(t,"&language=en-US")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){var r={},n=!0,a=!1,i=void 0;try{for(var c,l=e.genres[Symbol.iterator]();!(n=(c=l.next()).done);n=!0)gen=c.value,r[gen.id]=gen.name}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(t)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){var t,n=!0,a=!1,i=void 0;try{for(var c,l=e.results[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){pop=c.value;for(var s=0;s<pop.genre_ids.length;s+=1)pop.genre_ids[s]=r[pop.genre_ids[s]],t=pop.release_date.slice(0,4),pop.release_date=t}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}o(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}();
//# sourceMappingURL=index.bb139c2b.js.map
