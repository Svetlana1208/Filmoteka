var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in s){var i=s[e];delete s[e];var r={id:e,exports:{}};return t[e]=r,i.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){s[e]=t},e.parcelRequired7c6=i);var r=i("czhBR"),a=i("eyjy7"),n=i("hWKZL"),d=i("krGWQ");n=i("hWKZL");const o={};var l=async()=>{const e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${n.key}&language=en-US`);return function(e){for(const t of e.genres)o[t.id]=t.name}(await e.json()),o},c=i("cyIMT"),f=(d=i("krGWQ"),n=i("hWKZL"),c=i("cyIMT"),i("fmSdN"),i("ftYLF"));r=i("czhBR");let u;var m=e=>{document.querySelectorAll(".gallery__item").forEach((t=>{t.addEventListener("click",(()=>{const s=Number(t.getAttribute("movie-index"));e.forEach((e=>{if(e.id===s){const m=`<article class="movie">\n                                <div>\n                                    <img class="movie__poster" src="${e.posterPath}${e.poster_path}" alt="poster">\n                                </div>\n                                <div class="movie__box">\n                                    <h3 class="movie__title">${e.original_title}</h3>\n                                    <ul>\n                                        <li class="movie__characteristic">\n                                            <p class="movie__characteristicKey">Vote / Votes</p>\n                                            <div class="vote__average">${e.vote_average}</div><span>&nbsp / &nbsp</span>\n                                            <div class="vote__count">${e.vote_count}</div>\n                                        </li>\n                                        <li class="movie__characteristic">\n                                            <p class="movie__characteristicKey">Popularity</p>\n                                            <p class="movie__characteristicValue">${e.popularity}</p>\n                                        </li>\n                                        <li class="movie__characteristic">\n                                            <p class="movie__characteristicKey">Original Title</p>\n                                            <p class="movie__characteristicValue">${e.original_title}</p>\n                                        </li>\n                                        <li class="movie__characteristic">\n                                            <p class="movie__characteristicKey">Genre</p>\n                                            <p class="movie__characteristicValue">${e.genre_ids.join(", ")}</p>    \n                                        </li>\n                                    </ul>    \n                                    <p class="movie__about">About</p>\n                                    <p class="movie__description">${e.overview}</p>\n                                    <div class="movie__btnBox">\n                                        <button class="movie__btn" type="button" data-add-to-watched>add to Watched</button>\n                                        <button class="movie__btn" type="button" data-add-to-queue>add to queue</button>\n                                    </div>\n\n                                    <button class="movie__trailer" type="button" data-trailerModal-button>Trailer</button>\n                                    <div class="backdrop is-hidden" data-trailerModal>\n                                        <div class="trailerBox">\n                                            <button class="trailerBox__closeBtn" type="button" data-trailerClose-button></button>\n                                            <div id="player"></div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </article>`;function t(){d.refs.modal.classList.add("is-hidden"),document.body.classList.remove("body-modal-open")}function i(e){"Escape"===e.code&&t()}function a(e){e.currentTarget===e.target&&t()}function o(){(0,f.setDoc)((0,f.doc)(r.watchedMovies,`${e.id}`),e),t()}function l(){(0,f.setDoc)((0,f.doc)(r.queueMovies,`${e.id}`),e),t()}d.refs.movieCardBox.innerHTML=m,function(){d.refs.modal.classList.remove("is-hidden"),document.body.classList.add("body-modal-open"),document.querySelector("[data-trailerModal-button]").addEventListener("click",onYouTubeIframeAPIReady),window.addEventListener("keydown",i),d.refs.closeModalBtn.addEventListener("click",t),d.refs.modal.addEventListener("click",a),""===d.refs.userLogin.textContent?(document.querySelector("[data-add-to-watched]").classList.add("disabledBtn"),document.querySelector("[data-add-to-queue]").classList.add("disabledBtn")):(document.querySelector("[data-add-to-watched]").addEventListener("click",o),document.querySelector("[data-add-to-queue]").addEventListener("click",l));!async function(){let t;const s=`https://api.themoviedb.org/3/movie/${e.id}/videos?api_key=${n.key}&language=en-US`;try{t=await(0,c.default)(s)}catch(e){console.error(e)}t.results.find((e=>{if(e.name.includes("Official"))return u=e.key,u;u=t.results[0].key}))}()}()}}))}))}))};let v,g=1;let p,h,b,L,_,y;async function P(){await l(),L=`https://api.themoviedb.org/3/trending/movie/day?api_key=${n.key}`,await E(1),x(),T(),$(),N()}async function E(e){v=e,_=`${L}&page=${e}`;try{b=await(0,c.default)(_),0!==b.total_results?(p=b.total_pages,function(e){let t;for(const s of e.results){if(null===s.poster_path?(s.posterPath="https://upload.wikimedia.org/wikipedia/commons/a/a1",s.poster_path="/Out_Of_Poster.jpg"):s.posterPath="https://image.tmdb.org/t/p/w500",s.genre_ids)for(let e=0;e<s.genre_ids.length;e+=1)s.genre_ids[e]=o[s.genre_ids[e]];else s.genre_ids=["absent"];s.release_date&&(t=s.release_date.slice(0,4),s.release_date=t)}}(b),function(e){d.refs.gallery.innerHTML="";const t=e.map((e=>`<li class="gallery__item" movie-index = ${e.id}>\n            <img class="film__poster" src="${e.posterPath}${e.poster_path}" alt="poster">\n            <h3 class="film__title">${e.original_title.slice(0,60)}</h3>\n            <p class="film__characteristics">${e.genre_ids.join(", ").slice(0,35)} | ${e.release_date}</p>\n        </li>`)).join("");d.refs.gallery.insertAdjacentHTML("beforeend",t)}(b.results),function(){1===v?M(d.refs.prevButton):k(d.refs.prevButton);v===p?M(d.refs.nextButton):k(d.refs.nextButton)}(),N(),m(b.results)):(d.refs.searchInfo.textContent="Search result not successful. Enter the correct movie name.",P())}catch(e){console.error(e)}}function w(e){const t=document.createElement("button");t.className="pagination-number",t.innerHTML=e,t.setAttribute("type","button"),t.setAttribute("page-index",e),t.setAttribute("aria-label","Page "+e),t.setAttribute("onclick","window.location.href='./index.html#gallery'"),d.refs.paginationNumbers.appendChild(t)}function x(){if(d.refs.paginationNumbers.innerHTML="",d.refs.nextButton.classList.remove("is-hidden"),d.refs.prevButton.classList.remove("is-hidden"),b.total_pages>5){d.refs.lastPage.classList.remove("is-hidden"),d.refs.dotsNext.classList.remove("is-hidden");for(let e=g;e<=5;e+=1)w(e)}else{d.refs.lastPage.classList.add("is-hidden"),d.refs.dotsNext.classList.add("is-hidden"),d.refs.firstPage.classList.add("is-hidden"),d.refs.dotsPrev.classList.add("is-hidden");for(let e=g;e<=b.total_pages;e+=1)w(e)}}function N(){document.querySelectorAll(".pagination-number").forEach((e=>{e.classList.remove("is-active");Number(e.getAttribute("page-index"))===v&&e.classList.add("is-active")}))}function M(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function k(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function T(){document.querySelectorAll(".pagination-number").forEach((e=>{const t=Number(e.getAttribute("page-index"));t&&e.addEventListener("click",(()=>{E(t)}))}))}function A(e){if(d.refs.paginationNumbers.innerHTML="",v>1&&v<6&&d.refs.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")){for(let e=1;e<6;e+=1)w(e);d.refs.dotsNext.classList.remove("is-hidden"),d.refs.lastPage.classList.remove("is-hidden")}else for(let t=e-5;t<e;t+=1)w(t+1)}function $(){d.refs.firstPage.setAttribute("page-index",1),d.refs.firstPage.setAttribute("aria-label","Page 1"),d.refs.firstPage.innerHTML=1,d.refs.lastPage.setAttribute("page-index",p),d.refs.lastPage.setAttribute("aria-label","Page "+p),d.refs.lastPage.innerHTML=p}function C(){d.refs.regModal.classList.add("is-hidden"),document.body.classList.remove("body-modal-open"),H()}function B(e){"Escape"===e.code&&C()}function q(e){e.currentTarget===e.target&&C()}function H(){d.refs.regInfo.innerHTML="",d.refs.regEmail.value="",d.refs.regPassword.value="",d.refs.regConfirmPassword.value="",d.refs.regEmail.classList.remove("error"),d.refs.regPassword.classList.remove("error"),d.refs.regConfirmPassword.classList.remove("error")}function S(e){e.preventDefault();const{elements:{email:t,password:s,confirmPassword:i}}=e.currentTarget;return""===t.value?(d.refs.regEmail.classList.add("error"),d.refs.regInfo.innerHTML="Please fill in all the fields!"):""===s.value?(d.refs.regPassword.classList.add("error"),d.refs.regInfo.innerHTML="Please fill in all the fields!"):s.value!==i.value||""===i.value?(d.refs.regPassword.classList.add("error"),d.refs.regConfirmPassword.classList.add("error"),d.refs.regInfo.innerHTML="Enter correct password"):s.value.length<5?d.refs.regInfo.innerHTML="Enter a stronger password":(user={email:t.value,password:s.value},void(0,a.createUserWithEmailAndPassword)(n.auth,user.email,user.password).then((e=>{e.user;d.refs.regModal.classList.add("is-hidden"),H()})).catch((e=>{const t=e.code;return"auth/invalid-email"===t?(d.refs.regEmail.classList.add("error"),d.refs.regInfo.innerHTML="Enter correct email"):"auth/email-already-in-use"===t?(d.refs.regEmail.classList.add("error"),d.refs.regInfo.innerHTML="Such a user already exists"):void 0})))}d.refs.prevButton.addEventListener("click",(()=>{!function(e){d.refs.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==d.refs.paginationNumbers.firstElementChild.innerHTML&&(A(e),T());Number(d.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))===p-5&&(d.refs.dotsNext.classList.remove("is-hidden"),d.refs.lastPage.classList.remove("is-hidden"));5===Number(d.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(d.refs.firstPage.classList.add("is-hidden"),d.refs.dotsPrev.classList.add("is-hidden"))}(v-1),E(v-1)})),d.refs.nextButton.addEventListener("click",(()=>{!function(e){d.refs.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&Number(d.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))!==p&&(!function(e){if(d.refs.paginationNumbers.innerHTML="",5===v&&6===p){d.refs.dotsPrev.classList.remove("is-hidden");for(let t=e-4;t<v+2;t+=1)w(t)}else if(5===v&&7===p){d.refs.dotsPrev.classList.remove("is-hidden");for(let t=e-3;t<v+3;t+=1)w(t)}else if(5===v&&8===p){d.refs.dotsPrev.classList.remove("is-hidden");for(let t=e-2;t<v+4;t+=1)w(t)}else if(5===v&&9===p){d.refs.dotsPrev.classList.remove("is-hidden");for(let t=e-1;t<v+4;t+=1)w(t)}else for(let t=e;t<e+5;t+=1)w(t)}(e),T());v===p-1&&(A(e),N(),T(currentDataAll));6===Number(d.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(d.refs.firstPage.classList.remove("is-hidden"),d.refs.dotsPrev.classList.remove("is-hidden"));Number(d.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))===p-5&&d.refs.dotsNext.classList.add("is-hidden");Number(d.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))===p-4&&(d.refs.lastPage.classList.add("is-hidden"),d.refs.dotsNext.classList.add("is-hidden"))}(v+1),E(v+1)})),d.refs.firstPage.addEventListener("click",(function(){E(1),x(),T(),d.refs.lastPage.classList.remove("is-hidden"),d.refs.dotsNext.classList.remove("is-hidden"),d.refs.firstPage.classList.add("is-hidden"),d.refs.dotsPrev.classList.add("is-hidden")})),d.refs.lastPage.addEventListener("click",(function(){E(p),A(v),T(),d.refs.dotsNext.classList.add("is-hidden"),d.refs.dotsPrev.classList.remove("is-hidden"),d.refs.firstPage.classList.remove("is-hidden"),d.refs.lastPage.classList.add("is-hidden")})),d.refs.form.addEventListener("submit",(async function(e){e.preventDefault(),d.refs.searchIcon.classList.add("is-hidden"),d.refs.searchSpinner.classList.remove("is-hidden"),d.refs.gallery.innerHTML="",y=e.currentTarget,h=y.elements.searchQuery.value,g=1,d.refs.searchInfo.textContent="",L=`https://api.themoviedb.org/3/search/movie?api_key=${n.key}&query=${h}`,await E(g),x(),T(),$(),N(),d.refs.searchIcon.classList.remove("is-hidden"),d.refs.searchSpinner.classList.add("is-hidden")})),d.refs.regModalOpenBtn.addEventListener("click",(function(){d.refs.regModal.classList.remove("is-hidden"),document.body.classList.add("body-modal-open"),d.refs.regModalCloseBtn.addEventListener("click",C),window.addEventListener("keydown",B),d.refs.regModal.addEventListener("click",q),d.refs.regForm.addEventListener("submit",S)})),(0,r.default)().then(setTimeout((()=>{P()}),1e3));
//# sourceMappingURL=index.091490a2.js.map
