{"mappings":"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","sources":["src/index.js","src/js/genres.js"],"sourcesContent":["import {refs} from \"./js/vars\";\nimport {key} from \"./js/vars\";\nimport {genresList} from \"./js/genres\";\nimport fetchRequestGenres from \"./js/genres\";\nimport fetchRequest from \"./js/fetch\";\nimport modal from \"./js/modal\";\n\n\nlet page = 1;\nlet currentPage;\nconst firstPage = 1;\nlet lastPage;\nlet searchQuery;\nlet data;\nlet url;\nlet fullUrl;\nlet form;\n\n\nrefs.prevButton.addEventListener(\"click\", () => {\n    updatePaginationPrev(currentPage - 1);\n    setCurrentPage(currentPage - 1);\n});\nrefs.nextButton.addEventListener(\"click\", () => {\n    updatePaginationNext(currentPage + 1);\n    setCurrentPage(currentPage + 1);\n});\nrefs.firstPage.addEventListener('click', downloadFirstPage);\nrefs.lastPage.addEventListener('click', downloadLastPage);\nrefs.form.addEventListener('submit', onSearch);\nrefs.regModalOpenBtn.addEventListener('click', onOpenRegModal);\n\n\n\ngetPopular();\n    \nasync function getPopular() {\n    await fetchRequestGenres();\n\n    url = `https://api.themoviedb.org/3/trending/movie/day?api_key=${key}`;\n\n    await setCurrentPage(1); \n\n    getPaginationNumbers();\n    addEventListenerAllBtn();\n    updateFirstLastPageBtn();\n    handleActivePageNumber();\n}\n\nfunction updateDescription (data) {\n    let releaseYear;\n    for (const movie of data.results) {\n\n        if (movie.poster_path === null) {\n            movie.posterPath = 'https://upload.wikimedia.org/wikipedia/commons/a/a1';\n            movie.poster_path = '/Out_Of_Poster.jpg';\n        } else \n        movie.posterPath = 'https://image.tmdb.org/t/p/w500';\n\n        if (movie.genre_ids) {\n            for (let i = 0; i < movie.genre_ids.length; i+=1) {\n                movie.genre_ids[i] = genresList[movie.genre_ids[i]];\n            }\n        } else movie.genre_ids = [\"absent\"];\n        \n        if (movie.release_date) {\n            releaseYear = movie.release_date.slice(0, 4);\n            movie.release_date = releaseYear;\n        }\n    }\n}\n\nfunction onMarkUp(data) {\n    refs.gallery.innerHTML=\"\";\n\n    const markup = data.map(card =>\n        `<li class=\"gallery__item\" movie-index = ${card.id}>\n            <img class=\"film__poster\" src=\"${card.posterPath}${card.poster_path}\" alt=\"poster\">\n            <h3 class=\"film__title\">${card.original_title.slice(0, 60)}</h3>\n            <p class=\"film__characteristics\">${card.genre_ids.join(\", \").slice(0, 35)} | ${card.release_date}</p>\n        </li>`)\n        .join(\"\");\n\n        refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function setCurrentPage(page) {\n    currentPage = page;\n    fullUrl = `${url}&page=${page}`;\n\n    try {\n        data = await fetchRequest(fullUrl);\n\n    if (data.total_results !== 0) {\n        lastPage = data.total_pages;\n\n        updateDescription(data);\n        onMarkUp(data.results);\n        buttonsStatus();\n        handleActivePageNumber();\n        modal(data.results);\n    }\n    else {\n        refs.searchInfo.textContent = \"Search result not successful. Enter the correct movie name.\";\n        getPopular();\n    }\n    } catch (error) {\n        console.error(error);\n      }\n}\n\nfunction appendPageNumber(index) {\n    const pageNumber = document.createElement(\"button\");\n    pageNumber.className = \"pagination-number\";\n    pageNumber.innerHTML = index;\n    pageNumber.setAttribute(\"type\", \"button\");\n    pageNumber.setAttribute(\"page-index\", index);\n    pageNumber.setAttribute(\"aria-label\", \"Page \" + index);\n    pageNumber.setAttribute(\"onclick\", \"window.location.href='./index.html#gallery'\");\n    refs.paginationNumbers.appendChild(pageNumber);\n}\n\nfunction getPaginationNumbers() {\n        refs.paginationNumbers.innerHTML = \"\";\n        refs.nextButton.classList.remove(\"is-hidden\");\n        refs.prevButton.classList.remove(\"is-hidden\");\n\n        if (data.total_pages > 5) {\n            refs.lastPage.classList.remove(\"is-hidden\");\n            refs.dotsNext.classList.remove(\"is-hidden\");\n\n            for (let i = page; i <= 5; i += 1) {\n                appendPageNumber(i);\n            }\n    \n        } else {\n            refs.lastPage.classList.add(\"is-hidden\");\n            refs.dotsNext.classList.add(\"is-hidden\");\n            refs.firstPage.classList.add(\"is-hidden\");\n            refs.dotsPrev.classList.add(\"is-hidden\");\n\n            for (let i = page; i <= data.total_pages; i += 1) {\n                appendPageNumber(i);\n            }\n        }\n}\n\nfunction handleActivePageNumber() {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        button.classList.remove(\"is-active\");\n        \n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex === currentPage) {\n          button.classList.add(\"is-active\");\n        }\n      });\n}\n\nfunction disableButton(button) {\n    button.classList.add(\"disabled\");\n    button.setAttribute(\"disabled\", true);\n};\n\nfunction enableButton(button) {\n    button.classList.remove(\"disabled\");\n    button.removeAttribute(\"disabled\");\n};\n\nfunction buttonsStatus() {\n    if (currentPage === 1) {\n        disableButton(refs.prevButton);\n    } else {\n        enableButton(refs.prevButton);\n    }\n\n    if (currentPage === lastPage) {\n        disableButton(refs.nextButton);\n    } else {\n        enableButton(refs.nextButton);\n    }\n};\n\nfunction addEventListenerAllBtn() {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex) {\n          button.addEventListener(\"click\", () => {\n            setCurrentPage(pageIndex);\n        });\n        }\n    });\n}\n\nfunction getPaginationNumbersNext(page) {\n    refs.paginationNumbers.innerHTML = \"\";\n    // for (let i = page; i < page + 5; i += 1) {\n    //     appendPageNumber(i);\n    //   }\n\n      if (currentPage === 5 && lastPage === 6) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 4; i < currentPage + 2; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 7) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 3; i < currentPage + 3; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 8) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 2; i < currentPage + 4; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 9) {\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 1; i < currentPage + 4; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else {\n        for (let i = page; i < page + 5; i += 1) {\n            appendPageNumber(i);\n          }    \n    }\n}\n\nfunction updatePaginationNext(page) {\n    if (refs.paginationNumbers.lastElementChild === document.querySelector('.pagination-number.is-active') && Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) !== lastPage) {\n        getPaginationNumbersNext(page);\n        addEventListenerAllBtn();\n    }\n\n    if (currentPage === lastPage - 1) {\n        getPaginationNumbersPrev(page);\n        handleActivePageNumber();\n        addEventListenerAllBtn(currentDataAll);\n    }\n\n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === 6) {\n        refs.firstPage.classList.remove(\"is-hidden\");\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n    }\n    \n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 5) {\n        refs.dotsNext.classList.add(\"is-hidden\");\n    }\n\n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 4) {\n        refs.lastPage.classList.add(\"is-hidden\");\n        refs.dotsNext.classList.add(\"is-hidden\");\n    }\n}\n\nfunction getPaginationNumbersPrev(page) {\n    refs.paginationNumbers.innerHTML = \"\";\n    // for (let i = page - 5; i < page; i += 1) {\n    //     appendPageNumber(i + 1);\n    //   }\n    if (currentPage > 1 && currentPage < 6 && refs.paginationNumbers.firstElementChild === document.querySelector('.pagination-number.is-active')) {\n        for (let i = 1; i < 6; i += 1) {\n            appendPageNumber(i);\n        }\n        refs.dotsNext.classList.remove(\"is-hidden\");\n        refs.lastPage.classList.remove(\"is-hidden\");\n\n    } else {\n        for (let i = page - 5; i < page; i += 1) {\n            appendPageNumber(i + 1);\n          }\n    }    \n}\n\nfunction updatePaginationPrev(page) {\n    if (refs.paginationNumbers.firstElementChild === document.querySelector('.pagination-number.is-active') && refs.paginationNumbers.firstElementChild.innerHTML !== \"1\") {\n        getPaginationNumbersPrev(page);\n        addEventListenerAllBtn();\n    }\n\n    if (Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === lastPage - 5) {\n        refs.dotsNext.classList.remove(\"is-hidden\");\n        refs.lastPage.classList.remove(\"is-hidden\");\n    }\n\n    if (Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === 5) {\n        refs.firstPage.classList.add(\"is-hidden\");\n        refs.dotsPrev.classList.add(\"is-hidden\");\n    }\n}\n\nfunction updateFirstLastPageBtn() {\n    refs.firstPage.setAttribute(\"page-index\", firstPage);\n    refs.firstPage.setAttribute(\"aria-label\", \"Page \" + firstPage);\n    refs.firstPage.innerHTML = firstPage;\n\n    refs.lastPage.setAttribute(\"page-index\", lastPage);\n    refs.lastPage.setAttribute(\"aria-label\", \"Page \" + lastPage);\n    refs.lastPage.innerHTML = lastPage;\n}\n\nfunction downloadFirstPage() {\n    setCurrentPage(1); \n    getPaginationNumbers();\n    addEventListenerAllBtn();\n\n    refs.lastPage.classList.remove(\"is-hidden\");\n    refs.dotsNext.classList.remove(\"is-hidden\");\n    refs.firstPage.classList.add(\"is-hidden\");\n    refs.dotsPrev.classList.add(\"is-hidden\");\n}\n\nfunction downloadLastPage() {\n    setCurrentPage(lastPage);\n    getPaginationNumbersPrev(currentPage);\n    addEventListenerAllBtn();\n\n    refs.dotsNext.classList.add(\"is-hidden\");\n    refs.dotsPrev.classList.remove(\"is-hidden\");\n    refs.firstPage.classList.remove(\"is-hidden\");\n    refs.lastPage.classList.add(\"is-hidden\");\n}\n\nasync function onSearch(e) {\n    e.preventDefault();\n    refs.searchIcon.classList.add(\"is-hidden\");\n    refs.searchSpinner.classList.remove(\"is-hidden\");\n    refs.gallery.innerHTML = \"\";\n    form = e.currentTarget;\n    searchQuery = form.elements.searchQuery.value;\n    page = 1;\n    refs.searchInfo.textContent ='';\n    url = `https://api.themoviedb.org/3/search/movie?api_key=${key}&query=${searchQuery}`;\n    \n    await setCurrentPage(page);\n    getPaginationNumbers();\n    addEventListenerAllBtn();\n    updateFirstLastPageBtn();\n    handleActivePageNumber();\n    refs.searchIcon.classList.remove(\"is-hidden\");\n    refs.searchSpinner.classList.add(\"is-hidden\");\n}\n\n\nfunction onOpenRegModal() {\n    refs.regModal.classList.remove(\"is-hidden\");\n    document.body.classList.add(\"body-modal-open\");\n    refs.regModalCloseBtn.addEventListener('click', onCloseRegModal);\n    window.addEventListener('keydown', onEscKeyPressReg);\n    refs.regModal.addEventListener('click', onBackdropClickReg);\n    refs.regForm.addEventListener('submit', saveDataReg);\n}\n\nfunction onCloseRegModal() {\n    refs.regModal.classList.add(\"is-hidden\");    \n    document.body.classList.remove(\"body-modal-open\");\n    refs.regInfo.innerHTML = \"\";\n    refs.regLogin.value = \"\";\n    refs.regEmail.value = \"\";\n    refs.regPassword.value = \"\";\n    refs.regConfirmPassword.value = \"\";\n    refs.regLogin.classList.remove(\"error\");\n    refs.regEmail.classList.remove(\"error\");\n    refs.regPassword.classList.remove(\"error\");\n    refs.regConfirmPassword.classList.remove(\"error\");\n}\n\nfunction onEscKeyPressReg(e) {\n    if (e.code === 'Escape') {\n        onCloseRegModal();\n    }\n}\n\nfunction onBackdropClickReg(e) {\n    if (e.currentTarget === e.target) {\n        onCloseRegModal();\n    }\n}\n\nfunction saveDataReg(e) {\n    e.preventDefault();\n\n    const {elements: { login, email, password, confirmPassword }} = e.currentTarget;\n\n    if (login.value === \"\") {\n        refs.regLogin.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"Please fill in all the fields!\";\n    }\n\n    if (email.value === \"\") {\n        refs.regEmail.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"Please fill in all the fields!\";\n    }  \n\n    if (password.value === \"\") {\n        refs.regPassword.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"Please fill in all the fields!\";\n    }\n\n    if (password.value !== confirmPassword.value || confirmPassword.value === \"\") {\n        refs.regPassword.classList.add(\"error\");\n        refs.regConfirmPassword.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"Enter correct password\";\n    }\n\n    const user = {\n        login: login.value,\n        email: email.value,\n        password: password.value,\n    };\n\n    const oldList = JSON.parse(localStorage.getItem('users')) || [];\n    \n    if (oldList.some(oldList => oldList.email === user.email)) {\n        refs.regEmail.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"Such a user already exists\";}\n    else if (oldList.some(oldList => oldList.login === user.login)) {\n        refs.regLogin.classList.add(\"error\");\n        return refs.regInfo.innerHTML = \"This login is already in use\";}\n    else {\n        oldList.push(user);\n        localStorage.setItem('users', JSON.stringify(oldList));\n    }\n\n    e.currentTarget.reset();\n    refs.regLogin.classList.remove(\"error\");\n    refs.regEmail.classList.remove(\"error\");\n    refs.regPassword.classList.remove(\"error\");\n    refs.regConfirmPassword.classList.remove(\"error\");\n    refs.regInfo.innerHTML = \"\";\n    refs.regModal.classList.add(\"is-hidden\");\n}\n","import {key} from \"./vars\";\nconst genresList = {};\n\nconst fetchRequestGenres = async () => {\n    const response = await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${key}&language=en-US`);\n    const dataGenres = await response.json();\n    makeGenresList(dataGenres);\n\n    return genresList;\n}\n\nfunction makeGenresList(dataGenres) {\n    for (const genre of dataGenres.genres) {\n        genresList[genre.id] = genre.name;\n    }\n}\nexport default fetchRequestGenres;\n\nexport {genresList};"],"names":["$hWKZL","parcelRequire","$a9bf4680370b89e9$export$65f5202b5c3d7552","$a9bf4680370b89e9$export$2e2bcd8739ae039","async","response","fetch","key","dataGenres","genre","genres","id","name","$a9bf4680370b89e9$var$makeGenresList","json","$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$lastPage","$1f0dc3b9307be026$var$searchQuery","$1f0dc3b9307be026$var$data","$1f0dc3b9307be026$var$url","$1f0dc3b9307be026$var$fullUrl","$1f0dc3b9307be026$var$form","$1f0dc3b9307be026$var$getPopular","$1f0dc3b9307be026$var$setCurrentPage","$1f0dc3b9307be026$var$getPaginationNumbers","$1f0dc3b9307be026$var$addEventListenerAllBtn","$1f0dc3b9307be026$var$updateFirstLastPageBtn","$1f0dc3b9307be026$var$handleActivePageNumber","page1","$cyIMT","default","total_results","total_pages","data1","releaseYear","movie","results","poster_path","posterPath","genre_ids","i","length","release_date","slice","$1f0dc3b9307be026$var$updateDescription","data2","refs","gallery","innerHTML","markup","map","card","original_title","join","insertAdjacentHTML","$1f0dc3b9307be026$var$onMarkUp","$1f0dc3b9307be026$var$disableButton","prevButton","$1f0dc3b9307be026$var$enableButton","nextButton","$1f0dc3b9307be026$var$buttonsStatus","$bTcpz","searchInfo","textContent","error","console","$1f0dc3b9307be026$var$appendPageNumber","index","pageNumber","document","createElement","className","setAttribute","paginationNumbers","appendChild","classList","remove","lastPage","dotsNext","add","firstPage","dotsPrev","querySelectorAll","forEach","button","Number","getAttribute","removeAttribute","pageIndex","addEventListener","$1f0dc3b9307be026$var$getPaginationNumbersPrev","page4","firstElementChild","querySelector","$1f0dc3b9307be026$var$onCloseRegModal","regModal","body","regInfo","regLogin","value","regEmail","regPassword","regConfirmPassword","$1f0dc3b9307be026$var$onEscKeyPressReg","e","code","$1f0dc3b9307be026$var$onBackdropClickReg","currentTarget","target","$1f0dc3b9307be026$var$saveDataReg","preventDefault","elements","login","email","password","confirmPassword","user","oldList1","JSON","parse","localStorage","getItem","some","oldList","push","setItem","stringify","reset","page5","lastElementChild","$1f0dc3b9307be026$var$updatePaginationPrev","page3","page2","$1f0dc3b9307be026$var$getPaginationNumbersNext","currentDataAll","$1f0dc3b9307be026$var$updatePaginationNext","form","searchIcon","searchSpinner","searchQuery","regModalOpenBtn","regModalCloseBtn","window","regForm"],"version":3,"file":"index.13fe6e56.js.map"}