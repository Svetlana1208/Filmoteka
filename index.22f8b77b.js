var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},t={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in s)return s[e].exports;if(e in t){var r=t[e];delete t[e];var i={id:e,exports:{}};return s[e]=i,r.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,s){t[e]=s},e.parcelRequired7c6=r);var i=r("hWKZL");i=r("hWKZL");const a={};var n=async()=>{const e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${i.key}&language=en-US`);return function(e){for(const s of e.genres)a[s.id]=s.name}(await e.json()),a},d=r("cyIMT"),o=r("bTcpz"),l=r("eyjy7");let f,c=1;let u,g,m,h,p,v;async function L(){await n(),h=`https://api.themoviedb.org/3/trending/movie/day?api_key=${i.key}`,await b(1),y(),N(),M(),E()}async function b(e){f=e,p=`${h}&page=${e}`;try{m=await(0,d.default)(p),0!==m.total_results?(u=m.total_pages,function(e){let s;for(const t of e.results){if(null===t.poster_path?(t.posterPath="https://upload.wikimedia.org/wikipedia/commons/a/a1",t.poster_path="/Out_Of_Poster.jpg"):t.posterPath="https://image.tmdb.org/t/p/w500",t.genre_ids)for(let e=0;e<t.genre_ids.length;e+=1)t.genre_ids[e]=a[t.genre_ids[e]];else t.genre_ids=["absent"];t.release_date&&(s=t.release_date.slice(0,4),t.release_date=s)}}(m),function(e){i.refs.gallery.innerHTML="";const s=e.map((e=>`<li class="gallery__item" movie-index = ${e.id}>\n            <img class="film__poster" src="${e.posterPath}${e.poster_path}" alt="poster">\n            <h3 class="film__title">${e.original_title.slice(0,60)}</h3>\n            <p class="film__characteristics">${e.genre_ids.join(", ").slice(0,35)} | ${e.release_date}</p>\n        </li>`)).join("");i.refs.gallery.insertAdjacentHTML("beforeend",s)}(m.results),function(){1===f?w(i.refs.prevButton):x(i.refs.prevButton);f===u?w(i.refs.nextButton):x(i.refs.nextButton)}(),E(),(0,o.default)(m.results)):(i.refs.searchInfo.textContent="Search result not successful. Enter the correct movie name.",L())}catch(e){console.error(e)}}function P(e){const s=document.createElement("button");s.className="pagination-number",s.innerHTML=e,s.setAttribute("type","button"),s.setAttribute("page-index",e),s.setAttribute("aria-label","Page "+e),s.setAttribute("onclick","window.location.href='./index.html#gallery'"),i.refs.paginationNumbers.appendChild(s)}function y(){if(i.refs.paginationNumbers.innerHTML="",i.refs.nextButton.classList.remove("is-hidden"),i.refs.prevButton.classList.remove("is-hidden"),m.total_pages>5){i.refs.lastPage.classList.remove("is-hidden"),i.refs.dotsNext.classList.remove("is-hidden");for(let e=c;e<=5;e+=1)P(e)}else{i.refs.lastPage.classList.add("is-hidden"),i.refs.dotsNext.classList.add("is-hidden"),i.refs.firstPage.classList.add("is-hidden"),i.refs.dotsPrev.classList.add("is-hidden");for(let e=c;e<=m.total_pages;e+=1)P(e)}}function E(){document.querySelectorAll(".pagination-number").forEach((e=>{e.classList.remove("is-active");Number(e.getAttribute("page-index"))===f&&e.classList.add("is-active")}))}function w(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function x(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function N(){document.querySelectorAll(".pagination-number").forEach((e=>{const s=Number(e.getAttribute("page-index"));s&&e.addEventListener("click",(()=>{b(s)}))}))}function _(e){if(i.refs.paginationNumbers.innerHTML="",f>1&&f<6&&i.refs.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")){for(let e=1;e<6;e+=1)P(e);i.refs.dotsNext.classList.remove("is-hidden"),i.refs.lastPage.classList.remove("is-hidden")}else for(let s=e-5;s<e;s+=1)P(s+1)}function M(){i.refs.firstPage.setAttribute("page-index",1),i.refs.firstPage.setAttribute("aria-label","Page 1"),i.refs.firstPage.innerHTML=1,i.refs.lastPage.setAttribute("page-index",u),i.refs.lastPage.setAttribute("aria-label","Page "+u),i.refs.lastPage.innerHTML=u}function T(){i.refs.regModal.classList.add("is-hidden"),document.body.classList.remove("body-modal-open"),C()}function A(e){"Escape"===e.code&&T()}function k(e){e.currentTarget===e.target&&T()}function C(){i.refs.regInfo.innerHTML="",i.refs.regEmail.value="",i.refs.regPassword.value="",i.refs.regConfirmPassword.value="",i.refs.regEmail.classList.remove("error"),i.refs.regPassword.classList.remove("error"),i.refs.regConfirmPassword.classList.remove("error")}function H(e){e.preventDefault();const{elements:{email:s,password:t,confirmPassword:r}}=e.currentTarget;return""===s.value?(i.refs.regEmail.classList.add("error"),i.refs.regInfo.innerHTML="Please fill in all the fields!"):""===t.value?(i.refs.regPassword.classList.add("error"),i.refs.regInfo.innerHTML="Please fill in all the fields!"):t.value!==r.value||""===r.value?(i.refs.regPassword.classList.add("error"),i.refs.regConfirmPassword.classList.add("error"),i.refs.regInfo.innerHTML="Enter correct password"):t.value.length<5?i.refs.regInfo.innerHTML="Enter a stronger password":(user={email:s.value,password:t.value},void(0,l.createUserWithEmailAndPassword)(i.auth,user.email,user.password).then((e=>{e.user;i.refs.regModal.classList.add("is-hidden"),C()})).catch((e=>{const s=e.code;return"auth/invalid-email"===s?(i.refs.regEmail.classList.add("error"),i.refs.regInfo.innerHTML="Enter correct email"):"auth/email-already-in-use"===s?(i.refs.regEmail.classList.add("error"),i.refs.regInfo.innerHTML="Such a user already exists"):void 0})))}i.refs.prevButton.addEventListener("click",(()=>{!function(e){i.refs.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==i.refs.paginationNumbers.firstElementChild.innerHTML&&(_(e),N());Number(i.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))===u-5&&(i.refs.dotsNext.classList.remove("is-hidden"),i.refs.lastPage.classList.remove("is-hidden"));5===Number(i.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(i.refs.firstPage.classList.add("is-hidden"),i.refs.dotsPrev.classList.add("is-hidden"))}(f-1),b(f-1)})),i.refs.nextButton.addEventListener("click",(()=>{!function(e){i.refs.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&Number(i.refs.paginationNumbers.lastElementChild.getAttribute("page-index"))!==u&&(!function(e){if(i.refs.paginationNumbers.innerHTML="",5===f&&6===u){i.refs.dotsPrev.classList.remove("is-hidden");for(let s=e-4;s<f+2;s+=1)P(s)}else if(5===f&&7===u){i.refs.dotsPrev.classList.remove("is-hidden");for(let s=e-3;s<f+3;s+=1)P(s)}else if(5===f&&8===u){i.refs.dotsPrev.classList.remove("is-hidden");for(let s=e-2;s<f+4;s+=1)P(s)}else if(5===f&&9===u){i.refs.dotsPrev.classList.remove("is-hidden");for(let s=e-1;s<f+4;s+=1)P(s)}else for(let s=e;s<e+5;s+=1)P(s)}(e),N());f===u-1&&(_(e),E(),N(currentDataAll));6===Number(i.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(i.refs.firstPage.classList.remove("is-hidden"),i.refs.dotsPrev.classList.remove("is-hidden"));Number(i.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))===u-5&&i.refs.dotsNext.classList.add("is-hidden");Number(i.refs.paginationNumbers.firstElementChild.getAttribute("page-index"))===u-4&&(i.refs.lastPage.classList.add("is-hidden"),i.refs.dotsNext.classList.add("is-hidden"))}(f+1),b(f+1)})),i.refs.firstPage.addEventListener("click",(function(){b(1),y(),N(),i.refs.lastPage.classList.remove("is-hidden"),i.refs.dotsNext.classList.remove("is-hidden"),i.refs.firstPage.classList.add("is-hidden"),i.refs.dotsPrev.classList.add("is-hidden")})),i.refs.lastPage.addEventListener("click",(function(){b(u),_(f),N(),i.refs.dotsNext.classList.add("is-hidden"),i.refs.dotsPrev.classList.remove("is-hidden"),i.refs.firstPage.classList.remove("is-hidden"),i.refs.lastPage.classList.add("is-hidden")})),i.refs.form.addEventListener("submit",(async function(e){e.preventDefault(),i.refs.searchIcon.classList.add("is-hidden"),i.refs.searchSpinner.classList.remove("is-hidden"),i.refs.gallery.innerHTML="",v=e.currentTarget,g=v.elements.searchQuery.value,c=1,i.refs.searchInfo.textContent="",h=`https://api.themoviedb.org/3/search/movie?api_key=${i.key}&query=${g}`,await b(c),y(),N(),M(),E(),i.refs.searchIcon.classList.remove("is-hidden"),i.refs.searchSpinner.classList.add("is-hidden")})),i.refs.regModalOpenBtn.addEventListener("click",(function(){i.refs.regModal.classList.remove("is-hidden"),document.body.classList.add("body-modal-open"),i.refs.regModalCloseBtn.addEventListener("click",T),window.addEventListener("keydown",A),i.refs.regModal.addEventListener("click",k),i.refs.regForm.addEventListener("submit",H)})),L();
//# sourceMappingURL=index.22f8b77b.js.map
