{"mappings":"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","sources":["src/index999.js"],"sourcesContent":["const key = '4273054ff6f056d7541ef873941254f6';\nlet page = 1;\nconst genresList = {};\nlet currentPage;\nlet firstPage;\nlet lastPage;\nlet searchQuery;\nlet data;\nlet url;\nlet u;\nlet posterPath;\n\nconst refs = {\n    gallery: document.querySelector('.gallery'),\n    paginationNumbers: document.querySelector('.pagination__current'),\n    nextButton: document.getElementById(\"next-button\"),\n    prevButton: document.getElementById(\"prev-button\"),\n    firstPage: document.querySelector(\".pagination__firstPage\"),\n    dotsPrev: document.querySelector(\".pagination__dotsPrev\"),\n    lastPage: document.querySelector(\".pagination__lastPage\"),\n    dotsNext: document.querySelector(\".pagination__dotsNext\"),\n    form: document.querySelector(\".search__form\"),\n}\n\nrefs.prevButton.addEventListener(\"click\", () => {\n    updatePaginationPrev(currentPage - 1);\n    setCurrentPage(currentPage - 1);\n});\n\nrefs.nextButton.addEventListener(\"click\", () => {\n    updatePaginationNext(currentPage + 1);\n    setCurrentPage(currentPage + 1);\n});\n\nrefs.firstPage.addEventListener('click', downloadFirstPage);\n\nrefs.lastPage.addEventListener('click', downloadLastPage);\n\nrefs.form.addEventListener('submit', onSearch);\n\n\ngetPopular();\n    \nasync function getPopular() {\n    url = `https://api.themoviedb.org/3/genre/movie/list?api_key=${key}&language=en-US`;\n    await fetchRequestGenres();\n\n    u = `https://api.themoviedb.org/3/trending/movie/day?api_key=${key}`;\n\n    await setCurrentPage(1); \n    \n    getPaginationNumbers();\n    addEventListenerAllBtn();\n    updateFirstLastPageBtn();\n    handleActivePageNumber();\n}\n\nasync function fetchRequestGenres() {\n    const response = await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${key}&language=en-US`);\n    const dataGenres = await response.json();\n    makeGenresList(dataGenres);\n}\n\nfunction makeGenresList(dataGenres) {\n    for (const genre of dataGenres.genres) {\n        genresList[genre.id] = genre.name;\n    }\n}\n\nasync function fetchRequest(url) {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n}\n\nfunction updateDescription (data) {\n    let releaseYear;\n    for (const movie of data.results) {\n\n        if (movie.poster_path === null) {\n            movie.posterPath = 'https://upload.wikimedia.org/wikipedia/commons/a/a1';\n            movie.poster_path = '/Out_Of_Poster.jpg';\n        } else \n        movie.posterPath = 'https://image.tmdb.org/t/p/w500';\n\n        if (movie.genre_ids) {\n            for (let i = 0; i < movie.genre_ids.length; i+=1) {\n                movie.genre_ids[i] = genresList[movie.genre_ids[i]];\n            }\n        }\n        \n        if (movie.release_date) {\n            releaseYear = movie.release_date.slice(0, 4);\n            movie.release_date = releaseYear;\n        }\n\n    }\n}\n\nfunction onMarkUp(data) {\n    refs.gallery.innerHTML=\"\";\n    const markup = data.results.map(card =>\n        `<li class=\"gallery__item\">\n            <img class=\"film__poster\" src=\"${card.posterPath}${card.poster_path}\" alt=\"poster\">\n            <h3 class=\"film__title\">${card.original_title}</h3>\n            <p class=\"film__characteristics\">${card.genre_ids.join(\", \")} | ${card.release_date}</p>\n        </li>`)\n        .join(\"\");\n\n        refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function setCurrentPage(page) {\n    currentPage = page;\n    url = `${u}&page=${page}`;\n\n    data = await fetchRequest(url);\n\n    updateDescription(data);\n    onMarkUp(data);\n    buttonsStatus();\n    handleActivePageNumber();\n}\n\nfunction appendPageNumber(index) {\n    const pageNumber = document.createElement(\"button\");\n    pageNumber.className = \"pagination-number\";\n    pageNumber.innerHTML = index;\n    pageNumber.setAttribute(\"page-index\", index);\n    pageNumber.setAttribute(\"aria-label\", \"Page \" + index);\n    refs.paginationNumbers.appendChild(pageNumber);\n}\n\nfunction getPaginationNumbers() {\n        refs.paginationNumbers.innerHTML = \"\";\n        refs.firstPage.classList.add(\"is-hidden\");\n        refs.dotsPrev.classList.add(\"is-hidden\");\n    \n        if (data.total_pages >= 5) {\n            for (let i = page; i <= 5; i += 1) {\n                appendPageNumber(i);\n            }\n    \n        } else {\n            for (let i = page; i <= data.total_pages; i += 1) {\n                appendPageNumber(i);\n            }\n        }\n}\n\nfunction handleActivePageNumber() {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        button.classList.remove(\"is-active\");\n        \n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex == currentPage) {\n          button.classList.add(\"is-active\");\n        }\n      });\n}\n\nfunction disableButton(button) {\n    button.classList.add(\"disabled\");\n    button.setAttribute(\"disabled\", true);\n};\n\nfunction enableButton(button) {\n    button.classList.remove(\"disabled\");\n    button.removeAttribute(\"disabled\");\n};\n\nfunction buttonsStatus() {\n    if (currentPage === 1) {\n        disableButton(refs.prevButton);\n    } else {\n        enableButton(refs.prevButton);\n    }\n\n    if (currentPage === lastPage) {\n        disableButton(refs.nextButton);\n    } else {\n        enableButton(refs.nextButton);\n    }\n};\n\nfunction addEventListenerAllBtn() {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex) {\n          button.addEventListener(\"click\", () => {\n            setCurrentPage(pageIndex);\n        });\n        }\n    });\n}\n\nfunction getPaginationNumbersNext(page) {\n    refs.paginationNumbers.innerHTML = \"\";\n    for (let i = page; i < page + 5; i += 1) {\n        appendPageNumber(i);\n      }\n}\n\nfunction updatePaginationNext(page) {\n    if (refs.paginationNumbers.lastElementChild === document.querySelector('.pagination-number.is-active') && Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) !== lastPage) {\n        getPaginationNumbersNext(page);\n        addEventListenerAllBtn();\n    }\n\n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === 6) {\n        refs.firstPage.classList.remove(\"is-hidden\");\n        refs.dotsPrev.classList.remove(\"is-hidden\");\n    }\n    \n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 5) {\n        refs.dotsNext.classList.add(\"is-hidden\");\n    }\n\n    if (Number(refs.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 4) {\n        refs.lastPage.classList.add(\"is-hidden\");\n        refs.dotsNext.classList.add(\"is-hidden\");\n    }\n}\n\nfunction getPaginationNumbersPrev(page) {\n    refs.paginationNumbers.innerHTML = \"\";\n    for (let i = page - 5; i < page; i += 1) {\n        appendPageNumber(i + 1);\n      }\n}\n\nfunction updatePaginationPrev(page) {\n    if (refs.paginationNumbers.firstElementChild === document.querySelector('.pagination-number.is-active') && refs.paginationNumbers.firstElementChild.innerHTML !== \"1\") {\n        getPaginationNumbersPrev(page);\n        addEventListenerAllBtn();\n    }\n\n    if (Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === lastPage - 5) {\n        refs.dotsNext.classList.remove(\"is-hidden\");\n        refs.lastPage.classList.remove(\"is-hidden\");\n    }\n\n    if (Number(refs.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === 5) {\n        refs.firstPage.classList.add(\"is-hidden\");\n        refs.dotsPrev.classList.add(\"is-hidden\");\n    }\n}\n\nfunction updateFirstLastPageBtn() {\n    firstPage = 1;\n    refs.firstPage.setAttribute(\"page-index\", firstPage);\n    refs.firstPage.setAttribute(\"aria-label\", \"Page \" + firstPage);\n    refs.firstPage.innerHTML = firstPage;\n\n    lastPage = data.total_pages;\n    refs.lastPage.setAttribute(\"page-index\", lastPage);\n    refs.lastPage.setAttribute(\"aria-label\", \"Page \" + lastPage);\n    refs.lastPage.innerHTML = lastPage;\n}\n\nfunction downloadFirstPage() {\n    setCurrentPage(1); \n    getPaginationNumbers();\n    addEventListenerAllBtn();\n\n    refs.lastPage.classList.remove(\"is-hidden\");\n    refs.dotsNext.classList.remove(\"is-hidden\");\n}\n\n\nfunction downloadLastPage() {\n    setCurrentPage(lastPage);\n    getPaginationNumbersPrev(currentPage);\n    addEventListenerAllBtn();\n\n    refs.dotsNext.classList.add(\"is-hidden\");\n    refs.dotsPrev.classList.remove(\"is-hidden\");\n    refs.firstPage.classList.remove(\"is-hidden\");\n    refs.lastPage.classList.add(\"is-hidden\");\n}\n\nasync function onSearch(e) {\n    e.preventDefault();\n    refs.gallery.innerHTML = \"\";\n    form = e.currentTarget;\n    searchQuery = form.elements.searchQuery.value;\n    page = 1;\n    u = `https://api.themoviedb.org/3/search/movie?api_key=${key}&query=${searchQuery}`;\n    \n    await setCurrentPage(page);\n\n    getPaginationNumbers();\n    addEventListenerAllBtn();\n    updateFirstLastPageBtn();\n    handleActivePageNumber();\n}\n\n"],"names":["$6443dca17ac2f8cb$var$page","$6443dca17ac2f8cb$var$genresList","$6443dca17ac2f8cb$var$currentPage","$6443dca17ac2f8cb$var$firstPage","$6443dca17ac2f8cb$var$lastPage","$6443dca17ac2f8cb$var$searchQuery","$6443dca17ac2f8cb$var$data","$6443dca17ac2f8cb$var$url","$6443dca17ac2f8cb$var$u","$6443dca17ac2f8cb$var$refs","gallery","document","querySelector","paginationNumbers","nextButton","getElementById","prevButton","firstPage","dotsPrev","lastPage","dotsNext","form","async","$6443dca17ac2f8cb$var$setCurrentPage","page1","url1","response","fetch","json","$6443dca17ac2f8cb$var$fetchRequest","data2","releaseYear","movie","results","poster_path","posterPath","genre_ids","i","length","release_date","slice","$6443dca17ac2f8cb$var$updateDescription","data3","innerHTML","markup","map","card","original_title","join","insertAdjacentHTML","$6443dca17ac2f8cb$var$onMarkUp","$6443dca17ac2f8cb$var$disableButton","$6443dca17ac2f8cb$var$enableButton","$6443dca17ac2f8cb$var$buttonsStatus","$6443dca17ac2f8cb$var$handleActivePageNumber","$6443dca17ac2f8cb$var$appendPageNumber","index","pageNumber","createElement","className","setAttribute","appendChild","$6443dca17ac2f8cb$var$getPaginationNumbers","classList","add","total_pages","i1","querySelectorAll","forEach","button","remove","Number","getAttribute","removeAttribute","$6443dca17ac2f8cb$var$addEventListenerAllBtn","pageIndex","addEventListener","$6443dca17ac2f8cb$var$getPaginationNumbersPrev","page4","$6443dca17ac2f8cb$var$updateFirstLastPageBtn","page5","firstElementChild","lastElementChild","$6443dca17ac2f8cb$var$updatePaginationPrev","page3","page2","$6443dca17ac2f8cb$var$getPaginationNumbersNext","$6443dca17ac2f8cb$var$updatePaginationNext","e","preventDefault","currentTarget","elements","searchQuery","value","dataGenres","genre","genres","id","name","$6443dca17ac2f8cb$var$makeGenresList","$6443dca17ac2f8cb$var$fetchRequestGenres","$6443dca17ac2f8cb$var$getPopular"],"version":3,"file":"index.209c2c6f.js.map"}