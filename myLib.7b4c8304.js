function e(e){return e&&e.__esModule?e.default:e}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},a=i.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in s){var i=s[e];delete s[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,i){s[e]=i},i.parcelRequired7c6=a);var n=a("czhBR"),r=(n=a("czhBR"),a("fBT3Y")),d=(r=a("fBT3Y"),a("hWKZL")),l=a("cyIMT"),o=a("fmSdN");let c;var u=i=>{document.querySelectorAll(".gallery__item").forEach((t=>{t.addEventListener("click",(()=>{const s=Number(t.getAttribute("movie-index"));i.forEach((i=>{if(Number(i.id.integerValue)===s){const f=`<article class="movie">\n                            <div>\n                                <img class="movie__poster" src="${i.posterPath.stringValue}${i.poster_path.stringValue}" alt="poster">\n                            </div>\n                            <div class="movie__box">\n                                <h3 class="movie__title">${i.original_title.stringValue}</h3>\n                                <ul>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Vote / Votes</p>\n                                        <div class="vote__average">${i.vote_average.doubleValue}</div><span>&nbsp / &nbsp</span>\n                                        <div class="vote__count">${i.vote_count.integerValue}</div>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Popularity</p>\n                                        <p class="movie__characteristicValue">${i.popularity.doubleValue}</p>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Original Title</p>\n                                        <p class="movie__characteristicValue">${i.original_title.stringValue}</p>\n                                    </li>\n                                    <li class="movie__characteristic">\n                                        <p class="movie__characteristicKey">Genre</p>\n                                        <p class="movie__characteristicValue">${i.genres}</p>    \n                                    </li>\n                                </ul>    \n                                <p class="movie__about">About</p>\n                                <p class="movie__description">${i.overview.stringValue}</p>\n                                <div class="movie__btnBox">\n                                    <button class="movie__btn" type="button" data-add-to-watched>add to Watched</button>\n                                    <button class="movie__btn" type="button" data-add-to-queue>add to queue</button>\n                                </div>\n\n                                <button class="movie__trailer" type="button" data-trailerModal-button>Trailer</button>\n                                <div class="backdrop is-hidden" data-trailerModal>\n                                    <div class="trailerBox">\n                                        <button class="trailerBox__closeBtn" type="button" data-trailerClose-button></button>\n                                        <div id="player"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </article>`;function t(){r.refsMyLib.modal.classList.add("is-hidden"),document.body.classList.remove("body-modal-open")}function a(e){"Escape"===e.code&&t()}function n(e){e.currentTarget===e.target&&t()}function u(){let i;document.querySelector("[data-trailerModal]").classList.remove("is-hidden"),i=e(o)("player",{width:"100%",videoId:c,host:"https://www.youtube.com"}),i.playVideo(),document.querySelector("[data-trailerClose-button]").addEventListener("click",(()=>{i.stopVideo(),document.querySelector("[data-trailerModal]").classList.add("is-hidden")}))}r.refsMyLib.movieCardBox.innerHTML=f,r.refsMyLib.modal.classList.remove("is-hidden"),document.body.classList.add("body-modal-open"),document.querySelector("[data-add-to-watched]").classList.add("disabledBtn"),document.querySelector("[data-add-to-queue]").classList.add("disabledBtn"),document.querySelector("[data-trailerModal-button]").addEventListener("click",u),window.addEventListener("keydown",a),r.refsMyLib.closeModalBtn.addEventListener("click",t),r.refsMyLib.modal.addEventListener("click",n),async function(){let e;const t=`https://api.themoviedb.org/3/movie/${i.id.integerValue}/videos?api_key=${d.key}&language=en-US`;try{e=await(0,l.default)(t)}catch(e){console.error(e)}e.results.find((i=>{if(i.name.includes("Official"))return c=i.key,c;c=e.results[0].key}))}()}}))}))}))},f=a("ftYLF");let b,L,m=[];function y(){m=[],M(),r.refsMyLib.watchedBtn.classList.add("is-active"),r.refsMyLib.queueBtn.classList.remove("is-active"),r.refsMyLib.paginationNumbers.innerHTML="";(0,f.getDocs)((0,f.collection)(n.userRef,"watched")).then((e=>{e._snapshot.docChanges.forEach((e=>{m.push(e.doc.data.value.mapValue.fields)})),v()}))}function v(){0!==m.length?(r.refsMyLib.pagination.classList.remove("is-hidden"),b=Math.ceil(m.length/20),p(m,1),h(),P(),r.refsMyLib.firstPage.setAttribute("page-index",1),r.refsMyLib.firstPage.setAttribute("aria-label","Page 1"),r.refsMyLib.firstPage.innerHTML=1,r.refsMyLib.lastPage.setAttribute("page-index",b),r.refsMyLib.lastPage.setAttribute("aria-label","Page "+b),r.refsMyLib.lastPage.innerHTML=b,x(m)):(r.refsMyLib.gallery.innerHTML="",r.refsMyLib.information.classList.remove("is-hidden"))}function g(e){const i=document.createElement("button");i.className="pagination-number",i.innerHTML=e,i.setAttribute("type","button"),i.setAttribute("page-index",e),i.setAttribute("aria-label","Page "+e),i.setAttribute("onclick","window.location.href='./myLib.html#myLibGallery'"),r.refsMyLib.paginationNumbers.appendChild(i)}function h(){if(r.refsMyLib.paginationNumbers.innerHTML="",r.refsMyLib.nextButton.classList.remove("is-hidden"),r.refsMyLib.prevButton.classList.remove("is-hidden"),b>5){r.refsMyLib.lastPage.classList.remove("is-hidden"),r.refsMyLib.dotsNext.classList.remove("is-hidden");for(let e=1;e<=5;e+=1)g(e)}else{r.refsMyLib.lastPage.classList.add("is-hidden"),r.refsMyLib.dotsNext.classList.add("is-hidden"),r.refsMyLib.firstPage.classList.add("is-hidden"),r.refsMyLib.dotsPrev.classList.add("is-hidden");for(let e=1;e<=b;e+=1)g(e)}}function p(e,i){r.refsMyLib.information.classList.add("is-hidden"),L=i;const t=20*(i-=1),s=t+20,a=e.slice(t,s);!function(e){r.refsMyLib.gallery.innerHTML="",m.forEach((e=>{e.genres=[],e.genre_ids.arrayValue&&e.genre_ids.arrayValue.values.forEach((i=>{e.genres.push(i.stringValue)}))}));const i=e.map((e=>`<li class="gallery__item" movie-index = ${e.id.integerValue}>\n            <img class="film__poster" src="${e.posterPath.stringValue}${e.poster_path.stringValue}" alt="poster">\n            <h3 class="film__title">${e.original_title.stringValue.slice(0,60)}</h3>\n            <p class="film__characteristics">${e.genres.join(", ").slice(0,35)} | ${e.release_date.stringValue}</p>\n        </li>`)).join("");r.refsMyLib.gallery.insertAdjacentHTML("beforeend",i)}(a),P(),function(){1===L?_(r.refsMyLib.prevButton):N(r.refsMyLib.prevButton);L===b?_(r.refsMyLib.nextButton):N(r.refsMyLib.nextButton)}(),u(a)}function M(){r.refsMyLib.nextButton.classList.add("is-hidden"),r.refsMyLib.prevButton.classList.add("is-hidden"),r.refsMyLib.lastPage.classList.add("is-hidden"),r.refsMyLib.dotsNext.classList.add("is-hidden"),r.refsMyLib.firstPage.classList.add("is-hidden"),r.refsMyLib.dotsPrev.classList.add("is-hidden")}function _(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function N(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function P(){document.querySelectorAll(".pagination-number").forEach((e=>{e.classList.remove("is-active");Number(e.getAttribute("page-index"))===L&&e.classList.add("is-active")}))}function x(e){document.querySelectorAll(".pagination-number").forEach((i=>{const t=Number(i.getAttribute("page-index"));t&&i.addEventListener("click",(()=>{p(e,t)}))}))}function E(e){if(r.refsMyLib.paginationNumbers.innerHTML="",L>1&&L<6&&r.refsMyLib.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")){for(let e=1;e<6;e+=1)g(e);r.refsMyLib.dotsNext.classList.remove("is-hidden"),r.refsMyLib.lastPage.classList.remove("is-hidden")}else for(let i=e-5;i<e;i+=1)g(i+1)}r.refsMyLib.watchedBtn.addEventListener("click",y),r.refsMyLib.queueBtn.addEventListener("click",(function(){m=[],M(),r.refsMyLib.watchedBtn.classList.remove("is-active"),r.refsMyLib.queueBtn.classList.add("is-active"),r.refsMyLib.paginationNumbers.innerHTML="";(0,f.getDocs)((0,f.collection)(n.userRef,"queue")).then((e=>{e._snapshot.docChanges.forEach((e=>{m.push(e.doc.data.value.mapValue.fields)})),v()}))})),r.refsMyLib.prevButton.addEventListener("click",(()=>{!function(e){r.refsMyLib.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==r.refsMyLib.paginationNumbers.firstElementChild.innerHTML&&(E(e),x(m));Number(r.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))===b-5&&(r.refsMyLib.dotsNext.classList.remove("is-hidden"),r.refsMyLib.lastPage.classList.remove("is-hidden"));5===Number(r.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(r.refsMyLib.firstPage.classList.add("is-hidden"),r.refsMyLib.dotsPrev.classList.add("is-hidden"))}(L-1),p(m,L-1)})),r.refsMyLib.nextButton.addEventListener("click",(()=>{!function(e){5===L&&r.refsMyLib.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&r.refsMyLib.firstPage.classList.remove("is-hidden");r.refsMyLib.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&e!==b&&(!function(e){if(r.refsMyLib.paginationNumbers.innerHTML="",5===L&&6===b){r.refsMyLib.dotsPrev.classList.remove("is-hidden");for(let i=e-4;i<L+2;i+=1)g(i)}else if(5===L&&7===b){r.refsMyLib.dotsPrev.classList.remove("is-hidden");for(let i=e-3;i<L+3;i+=1)g(i)}else if(5===L&&8===b){r.refsMyLib.dotsPrev.classList.remove("is-hidden");for(let i=e-2;i<L+4;i+=1)g(i)}else if(5===L&&9===b){r.refsMyLib.dotsPrev.classList.remove("is-hidden");for(let i=e-1;i<L+4;i+=1)g(i)}else if(L===b)for(let i=e-5;i<e;i+=1)g(i+1);else for(let i=e;i<e+5;i+=1)g(i)}(e),x(m));L===b-1&&b>7&&(E(e),P(),x(m));6===Number(r.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(r.refsMyLib.firstPage.classList.remove("is-hidden"),r.refsMyLib.dotsPrev.classList.remove("is-hidden"));Number(r.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))===b-5&&5!==Number(r.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))&&r.refsMyLib.dotsNext.classList.add("is-hidden");Number(r.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))===b-4&&(r.refsMyLib.lastPage.classList.add("is-hidden"),r.refsMyLib.dotsNext.classList.add("is-hidden"))}(L+1),p(m,L+1)})),r.refsMyLib.firstPage.addEventListener("click",(function(){p(m,1),h(),x(m),P(),r.refsMyLib.lastPage.classList.remove("is-hidden"),r.refsMyLib.dotsNext.classList.remove("is-hidden"),r.refsMyLib.firstPage.classList.add("is-hidden"),r.refsMyLib.dotsPrev.classList.add("is-hidden")})),r.refsMyLib.lastPage.addEventListener("click",(function(){p(m,b),E(L),x(m),P(),r.refsMyLib.dotsNext.classList.add("is-hidden"),r.refsMyLib.dotsPrev.classList.remove("is-hidden"),r.refsMyLib.firstPage.classList.remove("is-hidden"),r.refsMyLib.lastPage.classList.add("is-hidden")})),(0,n.default)().then(setTimeout((()=>{y()}),1500));
//# sourceMappingURL=myLib.7b4c8304.js.map
