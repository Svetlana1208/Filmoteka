{"mappings":"gfAAA,IAOIA,EAGAC,EAVJC,EAAAC,EAAA,S,oDAaIC,EAAiB,GA4BrB,SAASC,KACL,EAAAC,EAAAC,UAAQ,EAAAD,EAAAE,W,CAKZ,SAASC,IACLL,EAAiB,GACjBM,IACAR,EAAAS,UAAUC,WAAWC,UAAUC,IAAI,aACnCZ,EAAAS,UAAUI,SAASF,UAAUG,OAAO,aACpCd,EAAAS,UAAUM,kBAAkBC,UAAY,IAElB,EAAAC,EAAAC,UAAQ,EAAAD,EAAAE,YAAWC,EAAAC,GAAI,YAG5CC,MAAM,SAAAC,GACHA,EAAcC,UAAUC,WAAWC,SAAQ,SAACC,GACxC,IAAMC,EAAMD,EAAME,IAAIC,KAAKC,MAAMC,SAASC,OAC1C/B,EAAegC,KAAKN,E,IAExBO,G,IA6CR,SAASA,IACyB,IAA1BjC,EAAekC,QACfpC,EAAAS,UAAU4B,WAAW1B,UAAUG,OAAO,aAEtChB,EAAWwC,KAAKC,KAAKrC,EAAekC,OAtGnC,IAwGDI,EAAetC,EAAgB,GAC/BuC,IACAC,IAwIJ1C,EAAAS,UAAUkC,UAAUC,aAAa,aAhPrB,GAiPZ5C,EAAAS,UAAUkC,UAAUC,aAAa,aAAc,UAC/C5C,EAAAS,UAAUkC,UAAU3B,UAlPR,EAoPZhB,EAAAS,UAAUoC,SAASD,aAAa,aAAc9C,GAC9CE,EAAAS,UAAUoC,SAASD,aAAa,aAAc,QAAU9C,GACxDE,EAAAS,UAAUoC,SAAS7B,UAAYlB,EA5I3BgD,EAAuB5C,KAEvBF,EAAAS,UAAUsC,QAAQ/B,UAAU,GAC5BhB,EAAAS,UAAUuC,YAAYrC,UAAUG,OAAO,a,CAI/C,SAASmC,EAAiBC,GACtB,IAAMC,EAAaC,SAASC,cAAc,UAC1CF,EAAWG,UAAY,oBACvBH,EAAWnC,UAAYkC,EACvBC,EAAWP,aAAa,OAAQ,UAChCO,EAAWP,aAAa,aAAcM,GACtCC,EAAWP,aAAa,aAAc,QAAUM,GAChDC,EAAWP,aAAa,UAAW,oDACnC5C,EAAAS,UAAUM,kBAAkBwC,YAAYJ,E,CAG5C,SAASV,IAKL,GAJAzC,EAAAS,UAAUM,kBAAkBC,UAAY,GACxChB,EAAAS,UAAU+C,WAAW7C,UAAUG,OAAO,aACtCd,EAAAS,UAAUgD,WAAW9C,UAAUG,OAAO,aAElChB,EAAW,EAAG,CACdE,EAAAS,UAAUoC,SAASlC,UAAUG,OAAO,aACpCd,EAAAS,UAAUiD,SAAS/C,UAAUG,OAAO,aAEpC,IAAK,IAAI6C,EAxIN,EAwIgBA,GAAK,EAAGA,GAAK,EAC5BV,EAAiBU,E,KAElB,CACH3D,EAAAS,UAAUoC,SAASlC,UAAUC,IAAI,aACjCZ,EAAAS,UAAUiD,SAAS/C,UAAUC,IAAI,aACjCZ,EAAAS,UAAUkC,UAAUhC,UAAUC,IAAI,aAClCZ,EAAAS,UAAUmD,SAASjD,UAAUC,IAAI,aAEjC,IAAK,IAAIiD,EAjJN,EAiJgBA,GAAK/D,EAAU+D,GAAK,EACnCZ,EAAiBY,E,EAK7B,SAASrB,EAAgBV,EAAMgC,GACvB9D,EAAAS,UAAUuC,YAAYrC,UAAUC,IAAI,aAEpCb,EAAc+D,EAEd,IAAMC,EA3JL,IA0JDD,GAAQ,GAEFE,EAAMD,EA5JX,GA6JKE,EAAcnC,EAAKoC,MAAMH,EAAOC,IAQ9C,SAAqBlC,GACjB9B,EAAAS,UAAUsC,QAAQ/B,UAAU,GAC5BmD,QAAQC,IAAIlE,GACZA,EAAewB,SAAQ,SAAAC,GACnBA,EAAM0C,OAAS,GACZ1C,EAAM2C,UAAUC,YACf5C,EAAM2C,UAAUC,WAAWC,OAAO9C,SAAQ,SAAA2C,GAC1C1C,EAAM0C,OAAOnC,KAAKmC,EAAOI,Y,OAGjC,IAAMC,EAAS5C,EAAK6C,KAAI,SAAAC,G,MACpB,2CACqCC,OADMD,EAAKE,GAAGC,aAAa,kDACGF,OAA9BD,EAAKI,WAAWP,aACvBI,OADqCD,EAAKK,YAAYR,YAAY,yDAEzDI,OADTD,EAAKM,eAAeT,YAAYP,MAAM,EAAG,IAAI,wDACKW,OAAzCD,EAAKP,OAAOc,KAAK,MAAMjB,MAAM,EAAG,IAAI,OAAmCW,OAA9BD,EAAKQ,aAAaX,YAAY,sB,IAGjHU,KAAK,IAENnF,EAAAS,UAAUsC,QAAQsC,mBAAmB,YAAaX,E,CAzB9CY,CAAYrB,GACZvB,IA8CR,WACwB,IAAhB3C,EACAwF,EAAcvF,EAAAS,UAAUgD,YAExB+B,EAAaxF,EAAAS,UAAUgD,YAEvB1D,IAAgBD,EAChByF,EAAcvF,EAAAS,UAAU+C,YAExBgC,EAAaxF,EAAAS,UAAU+C,W,CAtDvBiC,IACA,EAAAC,EAAAC,SAAM1B,E,CAyBd,SAASzD,IACLR,EAAAS,UAAU+C,WAAW7C,UAAUC,IAAI,aACnCZ,EAAAS,UAAUgD,WAAW9C,UAAUC,IAAI,aACnCZ,EAAAS,UAAUoC,SAASlC,UAAUC,IAAI,aACjCZ,EAAAS,UAAUiD,SAAS/C,UAAUC,IAAI,aACjCZ,EAAAS,UAAUkC,UAAUhC,UAAUC,IAAI,aAClCZ,EAAAS,UAAUmD,SAASjD,UAAUC,IAAI,Y,CAGrC,SAAS2E,EAAcK,GACnBA,EAAOjF,UAAUC,IAAI,YACrBgF,EAAOhD,aAAa,YAAY,E,CAGpC,SAAS4C,EAAaI,GAClBA,EAAOjF,UAAUG,OAAO,YACxB8E,EAAOC,gBAAgB,W,CAgB3B,SAASnD,IACLU,SAAS0C,iBAAiB,sBAAsBpE,SAAQ,SAACkE,GACrDA,EAAOjF,UAAUG,OAAO,aAENiF,OAAOH,EAAOI,aAAa,iBAC3BjG,GAChB6F,EAAOjF,UAAUC,IAAI,Y,IAK/B,SAASkC,EAAuBhB,GAC5BsB,SAAS0C,iBAAiB,sBAAsBpE,SAAQ,SAACkE,GACrD,IAAMK,EAAYF,OAAOH,EAAOI,aAAa,eACzCC,GACFL,EAAOM,iBAAiB,SAAS,WAC/B1D,EAAgBV,EAAMmE,E,OAoFlC,SAASE,EAAyBC,GAE9B,GADApG,EAAAS,UAAUM,kBAAkBC,UAAY,GACpCjB,EAAc,GAAKA,EAAc,GAAKC,EAAAS,UAAUM,kBAAkBsF,oBAAsBjD,SAASkD,cAAc,gCAAiC,CAChJ,IAAK,IAAI3C,EAAI,EAAGA,EAAI,EAAGA,GAAK,EACxBV,EAAiBU,GAErB3D,EAAAS,UAAUiD,SAAS/C,UAAUG,OAAO,aACpCd,EAAAS,UAAUoC,SAASlC,UAAUG,OAAO,Y,MAGpC,IAAK,IAAIyF,EAAIH,EAAO,EAAGG,EAAIH,EAAMG,GAAK,EAClCtD,EAAiBsD,EAAI,E,CAlUjCvG,EAAAS,UAAUC,WAAWwF,iBAAiB,QAAS3F,GAC/CP,EAAAS,UAAUI,SAASqF,iBAAiB,SA4DpC,WACIhG,EAAiB,GACjBM,IACAR,EAAAS,UAAUC,WAAWC,UAAUG,OAAO,aACtCd,EAAAS,UAAUI,SAASF,UAAUC,IAAI,aACjCZ,EAAAS,UAAUM,kBAAkBC,UAAY,IAEb,EAAAC,EAAAC,UAAQ,EAAAD,EAAAE,YAAWC,EAAAC,GAAI,UAGjDC,MAAM,SAAAC,GACHA,EAAcC,UAAUC,WAAWC,SAAQ,SAACC,GACxC,IAAMC,EAAMD,EAAME,IAAIC,KAAKC,MAAMC,SAASC,OAC1C/B,EAAegC,KAAKN,E,IAExBO,G,OA1ERnC,EAAAS,UAAUgD,WAAWyC,iBAAiB,SAAS,YAqU/C,SAA8BM,GACtBxG,EAAAS,UAAUM,kBAAkBsF,oBAAsBjD,SAASkD,cAAc,iCAA+F,MAA5DtG,EAAAS,UAAUM,kBAAkBsF,kBAAkBrF,YAC1JmF,EAAyBK,GACzB1D,EAAuB5C,IAGvB6F,OAAO/F,EAAAS,UAAUM,kBAAkB0F,iBAAiBT,aAAa,iBAAmBlG,EAAW,IAC/FE,EAAAS,UAAUiD,SAAS/C,UAAUG,OAAO,aACpCd,EAAAS,UAAUoC,SAASlC,UAAUG,OAAO,cAGgD,IAApFiF,OAAO/F,EAAAS,UAAUM,kBAAkB0F,iBAAiBT,aAAa,iBACjEhG,EAAAS,UAAUkC,UAAUhC,UAAUC,IAAI,aAClCZ,EAAAS,UAAUmD,SAASjD,UAAUC,IAAI,a,CAjVrC8F,CAAqB3G,EAAc,GACnCyC,EAAetC,EAAgBH,EAAc,E,IAEjDC,EAAAS,UAAU+C,WAAW0C,iBAAiB,SAAS,YAkR/C,SAA8BS,GACN,IAAhB5G,GAAqBC,EAAAS,UAAUM,kBAAkB0F,mBAAqBrD,SAASkD,cAAc,iCAC7FtG,EAAAS,UAAUkC,UAAUhC,UAAUG,OAAO,aAGrCd,EAAAS,UAAUM,kBAAkB0F,mBAAqBrD,SAASkD,cAAc,iCAAmCK,IAAS7G,KA1C5H,SAAkC8G,GAE9B,GADA5G,EAAAS,UAAUM,kBAAkBC,UAAY,GACpB,IAAhBjB,GAAkC,IAAbD,EAAgB,CACrCE,EAAAS,UAAUmD,SAASjD,UAAUG,OAAO,aACpC,IAAK,IAAI6C,EAAIiD,EAAO,EAAGjD,EAAI5D,EAAc,EAAG4D,GAAK,EAC7CV,EAAiBU,E,MAGpB,GAAoB,IAAhB5D,GAAkC,IAAbD,EAAgB,CAC1CE,EAAAS,UAAUmD,SAASjD,UAAUG,OAAO,aACpC,IAAK,IAAI+F,EAAID,EAAO,EAAGC,EAAI9G,EAAc,EAAG8G,GAAK,EAC7C5D,EAAiB4D,E,MAGpB,GAAoB,IAAhB9G,GAAkC,IAAbD,EAAgB,CAC1CE,EAAAS,UAAUmD,SAASjD,UAAUG,OAAO,aACpC,IAAK,IAAIgG,EAAIF,EAAO,EAAGE,EAAI/G,EAAc,EAAG+G,GAAK,EAC7C7D,EAAiB6D,E,MAGpB,GAAoB,IAAhB/G,GAAkC,IAAbD,EAAgB,CAC1CE,EAAAS,UAAUmD,SAASjD,UAAUG,OAAO,aACpC,IAAK,IAAIiG,EAAIH,EAAO,EAAGG,EAAIhH,EAAc,EAAGgH,GAAK,EAC7C9D,EAAiB8D,E,MAElB,GAAIhH,IAAgBD,EACvB,IAAK,IAAIkH,EAAIJ,EAAO,EAAGI,EAAIJ,EAAMI,GAAK,EAClC/D,EAAiB+D,EAAI,QAIzB,IAAK,IAAIC,EAAIL,EAAMK,EAAIL,EAAO,EAAGK,GAAK,EAClChE,EAAiBgE,E,CAWrBC,CAAyBP,GACzB7D,EAAuB5C,IAGvBH,IAAgBD,EAAW,GAAKA,EAAW,IAC3CqG,EAAyBQ,GACzBjE,IACAI,EAAuB5C,IAG8D,IAArF6F,OAAO/F,EAAAS,UAAUM,kBAAkBsF,kBAAkBL,aAAa,iBAClEhG,EAAAS,UAAUkC,UAAUhC,UAAUG,OAAO,aACrCd,EAAAS,UAAUmD,SAASjD,UAAUG,OAAO,cAGpCiF,OAAO/F,EAAAS,UAAUM,kBAAkBsF,kBAAkBL,aAAa,iBAAmBlG,EAAW,GAAyF,IAApFiG,OAAO/F,EAAAS,UAAUM,kBAAkB0F,iBAAiBT,aAAa,gBACtKhG,EAAAS,UAAUiD,SAAS/C,UAAUC,IAAI,aAGjCmF,OAAO/F,EAAAS,UAAUM,kBAAkBsF,kBAAkBL,aAAa,iBAAmBlG,EAAW,IAChGE,EAAAS,UAAUoC,SAASlC,UAAUC,IAAI,aACjCZ,EAAAS,UAAUiD,SAAS/C,UAAUC,IAAI,a,CA5SrCuG,CAAqBpH,EAAc,GACnCyC,EAAetC,EAAgBH,EAAc,E,IAEjDC,EAAAS,UAAUkC,UAAUuD,iBAAiB,SA8UrC,WACI1D,EAAetC,EAAgB,GAC/BuC,IACAK,EAAuB5C,GACvBwC,IAEA1C,EAAAS,UAAUoC,SAASlC,UAAUG,OAAO,aACpCd,EAAAS,UAAUiD,SAAS/C,UAAUG,OAAO,aACpCd,EAAAS,UAAUkC,UAAUhC,UAAUC,IAAI,aAClCZ,EAAAS,UAAUmD,SAASjD,UAAUC,IAAI,Y,IAtVrCZ,EAAAS,UAAUoC,SAASqD,iBAAiB,SAyVpC,WACI1D,EAAetC,EAAgBJ,GAC/BqG,EAAyBpG,GACzB+C,EAAuB5C,GACvBwC,IAEA1C,EAAAS,UAAUiD,SAAS/C,UAAUC,IAAI,aACjCZ,EAAAS,UAAUmD,SAASjD,UAAUG,OAAO,aACpCd,EAAAS,UAAUkC,UAAUhC,UAAUG,OAAO,aACrCd,EAAAS,UAAUoC,SAASlC,UAAUC,IAAI,Y,KAhWrC,EAAAR,EAAAgH,oBAAmBhG,EAAAiG,MAAM,SAACC,GACtB,GAAIA,EAAM,CACN,IAAMC,EAAQD,EAAKE,MAAMC,MAAM,KAAK,GACpCtD,QAAQC,IAAImD,GACZvH,EAAAS,UAAUiH,UAAU1G,UAAY,GAAS6D,OAAN0C,GACnCvH,EAAAS,UAAUkH,YAAYzB,iBAAiB,QAAS/F,E,MAEhDgE,QAAQC,IAAI,4B,IAQpB7D,G","sources":["src/myLib.js"],"sourcesContent":["import { refsMyLib } from \"./js/varsMyLib\";\nimport modal from \"./js/modal\";\nimport {getAuth, onAuthStateChanged, signOut} from \"firebase/auth\";\nimport {auth, db} from \"./js/vars\";\nimport { collection, getDocs } from \"firebase/firestore\";\n\n\nlet lastPage;\nlet page = 1;\nlet el = 20;\nlet currentPage;\nlet firstPage = 1;\nlet parsedWatchedList;\nlet currentDataAll = [];\nlet parsedQueueList;\n\n\nrefsMyLib.watchedBtn.addEventListener('click', getWatched);\nrefsMyLib.queueBtn.addEventListener('click', getQueue);\nrefsMyLib.prevButton.addEventListener(\"click\", () => {\n    updatePaginationPrev(currentPage - 1);\n    setCurrentPage(currentDataAll, currentPage - 1);\n});\nrefsMyLib.nextButton.addEventListener(\"click\", () => {\n    updatePaginationNext(currentPage + 1);\n    setCurrentPage(currentDataAll, currentPage + 1);\n});\nrefsMyLib.firstPage.addEventListener('click', downloadFirstPage);\nrefsMyLib.lastPage.addEventListener('click', downloadLastPage);\n\nonAuthStateChanged(auth, (user) => {\n    if (user) {\n        const login = user.email.split('@')[0];\n        console.log(login);\n        refsMyLib.userLogin.innerHTML = `${login}`;\n        refsMyLib.userSignOut.addEventListener('click', signOutUser);\n    } else {\n        console.log(\"user wasn't authorization\")\n    }\n})\n\nfunction signOutUser() {\n    signOut(getAuth());\n}\n\ngetWatched();\n\nfunction getWatched() {\n    currentDataAll = [];\n    allBtnIsHidden();\n    refsMyLib.watchedBtn.classList.add(\"is-active\");\n    refsMyLib.queueBtn.classList.remove(\"is-active\");\n    refsMyLib.paginationNumbers.innerHTML = \"\";\n\n    const querySnapshot = getDocs(collection(db, \"watched\"));\n\n    querySnapshot\n    .then (PromiseResult => {\n        PromiseResult._snapshot.docChanges.forEach((movie) => {\n            const aaa = movie.doc.data.value.mapValue.fields;\n            currentDataAll.push(aaa);\n        })\n        firstDownload();\n    });\n\n    //---------------------------------------------------\n    // Реализация через localStorage:\n    //---------------------------------------------------\n\n    // const savedWatchedList = localStorage.getItem(\"watchedList\");\n    // parsedWatchedList = JSON.parse(savedWatchedList);\n\n    // currentDataAll = parsedWatchedList;\n    // firstDownload();\n    //---------------------------------------------------\n\n}\n\nfunction getQueue() {\n    currentDataAll = [];\n    allBtnIsHidden();\n    refsMyLib.watchedBtn.classList.remove(\"is-active\");\n    refsMyLib.queueBtn.classList.add(\"is-active\");\n    refsMyLib.paginationNumbers.innerHTML = \"\";\n\n    const querySnapshotQueue = getDocs(collection(db, \"queue\"));\n\n    querySnapshotQueue\n    .then (PromiseResult => {\n        PromiseResult._snapshot.docChanges.forEach((movie) => {\n            const aaa = movie.doc.data.value.mapValue.fields;\n            currentDataAll.push(aaa);\n        })\n        firstDownload();\n    });\n\n    //---------------------------------------------------\n    // Реализация через localStorage:\n    //---------------------------------------------------\n\n    // const savedQueueList = localStorage.getItem(\"queue\");\n    // parsedQueueList = JSON.parse(savedQueueList);\n\n    // currentDataAll = parsedQueueList;\n    //---------------------------------------------------\n}\n\nfunction firstDownload() {\n    if (currentDataAll.length !== 0) {\n        refsMyLib.pagination.classList.remove(\"is-hidden\");\n\n        lastPage = Math.ceil(currentDataAll.length / el);\n\n        setCurrentPage(currentDataAll, 1);\n        getPaginationNumbers();\n        handleActivePageNumber();\n        updateFirstLastPageBtn();\n        addEventListenerAllBtn(currentDataAll);\n    } else {\n        refsMyLib.gallery.innerHTML=\"\";\n        refsMyLib.information.classList.remove(\"is-hidden\");\n    }\n}\n\nfunction appendPageNumber(index) {\n    const pageNumber = document.createElement(\"button\");\n    pageNumber.className = \"pagination-number\";\n    pageNumber.innerHTML = index;\n    pageNumber.setAttribute(\"type\", \"button\");\n    pageNumber.setAttribute(\"page-index\", index);\n    pageNumber.setAttribute(\"aria-label\", \"Page \" + index);\n    pageNumber.setAttribute(\"onclick\", \"window.location.href='./myLib.html#myLibGallery'\");\n    refsMyLib.paginationNumbers.appendChild(pageNumber);\n}\n\nfunction getPaginationNumbers() {\n    refsMyLib.paginationNumbers.innerHTML = \"\";\n    refsMyLib.nextButton.classList.remove(\"is-hidden\");\n    refsMyLib.prevButton.classList.remove(\"is-hidden\");\n\n    if (lastPage > 5) {\n        refsMyLib.lastPage.classList.remove(\"is-hidden\");\n        refsMyLib.dotsNext.classList.remove(\"is-hidden\");\n\n        for (let i = page; i <= 5; i += 1) {\n            appendPageNumber(i);\n        }\n    } else {\n        refsMyLib.lastPage.classList.add(\"is-hidden\");\n        refsMyLib.dotsNext.classList.add(\"is-hidden\");\n        refsMyLib.firstPage.classList.add(\"is-hidden\");\n        refsMyLib.dotsPrev.classList.add(\"is-hidden\");\n\n        for (let i = page; i <= lastPage; i += 1) {\n            appendPageNumber(i);\n        }\n    }\n}\n\nfunction setCurrentPage (data, page) {\n        refsMyLib.information.classList.add(\"is-hidden\");\n\n        currentPage = page;\n        page -= 1;\n        const start = el * page;\n        const end = start + el;\n        const currentData = data.slice(start, end);\n\n        onMarkUpLib(currentData);\n        handleActivePageNumber();\n        buttonsStatus();\n        modal(currentData);                       \n}\n\nfunction onMarkUpLib(data) {\n    refsMyLib.gallery.innerHTML=\"\";\n    console.log(currentDataAll);\n    currentDataAll.forEach(movie => {\n        movie.genres = [];\n        if(movie.genre_ids.arrayValue) {\n            movie.genre_ids.arrayValue.values.forEach(genres => {\n            movie.genres.push(genres.stringValue);\n        })}\n    })\n    const markup = data.map(card =>\n        `<li class=\"gallery__item\" movie-index = ${card.id.integerValue}>\n            <img class=\"film__poster\" src=\"${card.posterPath.stringValue}${card.poster_path.stringValue}\" alt=\"poster\">\n            <h3 class=\"film__title\">${card.original_title.stringValue.slice(0, 60)}</h3>\n            <p class=\"film__characteristics\">${card.genres.join(\", \").slice(0, 35)} | ${card.release_date.stringValue}</p>\n        </li>`\n    )\n    .join(\"\");\n\n    refsMyLib.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction allBtnIsHidden() {\n    refsMyLib.nextButton.classList.add(\"is-hidden\");\n    refsMyLib.prevButton.classList.add(\"is-hidden\");\n    refsMyLib.lastPage.classList.add(\"is-hidden\");\n    refsMyLib.dotsNext.classList.add(\"is-hidden\");\n    refsMyLib.firstPage.classList.add(\"is-hidden\");\n    refsMyLib.dotsPrev.classList.add(\"is-hidden\");\n}\n\nfunction disableButton(button) {\n    button.classList.add(\"disabled\");\n    button.setAttribute(\"disabled\", true);\n};\n\nfunction enableButton(button) {\n    button.classList.remove(\"disabled\");\n    button.removeAttribute(\"disabled\");\n};\n\nfunction buttonsStatus() {\n    if (currentPage === 1) {\n        disableButton(refsMyLib.prevButton);\n    } else {\n        enableButton(refsMyLib.prevButton);\n    }\n    if (currentPage === lastPage) {\n        disableButton(refsMyLib.nextButton);\n    } else {\n        enableButton(refsMyLib.nextButton);\n    }\n};\n\nfunction handleActivePageNumber() {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        button.classList.remove(\"is-active\");\n        \n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex === currentPage) {\n          button.classList.add(\"is-active\");\n        }\n      });\n}\n\nfunction addEventListenerAllBtn(data) {\n    document.querySelectorAll(\".pagination-number\").forEach((button) => {\n        const pageIndex = Number(button.getAttribute(\"page-index\"));\n        if (pageIndex) {\n          button.addEventListener(\"click\", () => {\n            setCurrentPage (data, pageIndex);\n        });\n        }\n    });\n}\n\nfunction updateFirstLastPageBtn() {\n    refsMyLib.firstPage.setAttribute(\"page-index\", firstPage);\n    refsMyLib.firstPage.setAttribute(\"aria-label\", \"Page \" + firstPage);\n    refsMyLib.firstPage.innerHTML = firstPage;\n\n    refsMyLib.lastPage.setAttribute(\"page-index\", lastPage);\n    refsMyLib.lastPage.setAttribute(\"aria-label\", \"Page \" + lastPage);\n    refsMyLib.lastPage.innerHTML = lastPage;\n}\n\nfunction getPaginationNumbersNext(page) {\n    refsMyLib.paginationNumbers.innerHTML = \"\";\n    if (currentPage === 5 && lastPage === 6) {\n        refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 4; i < currentPage + 2; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 7) {\n        refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 3; i < currentPage + 3; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 8) {\n        refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 2; i < currentPage + 4; i += 1) {\n            appendPageNumber(i);\n          }    \n    } \n    else if (currentPage === 5 && lastPage === 9) {\n        refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n        for (let i = page - 1; i < currentPage + 4; i += 1) {\n            appendPageNumber(i);\n          }    \n    } else if (currentPage === lastPage) {\n        for (let i = page - 5; i < page; i += 1) {\n            appendPageNumber(i + 1);\n          }\n    }\n    else {\n        for (let i = page; i < page + 5; i += 1) {\n            appendPageNumber(i);\n          }    \n    }\n}\n\nfunction updatePaginationNext(page) {\n    if (currentPage === 5 && refsMyLib.paginationNumbers.lastElementChild === document.querySelector('.pagination-number.is-active')) {\n        refsMyLib.firstPage.classList.remove(\"is-hidden\");\n    }\n\n    if (refsMyLib.paginationNumbers.lastElementChild === document.querySelector('.pagination-number.is-active') && page !== lastPage) {\n        getPaginationNumbersNext(page);\n        addEventListenerAllBtn(currentDataAll);\n    }\n\n    if (currentPage === lastPage - 1 && lastPage > 7) {\n        getPaginationNumbersPrev(page);\n        handleActivePageNumber();\n        addEventListenerAllBtn(currentDataAll);\n    }\n    \n    if (Number(refsMyLib.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === 6) {\n        refsMyLib.firstPage.classList.remove(\"is-hidden\");\n        refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n    }\n    \n    if (Number(refsMyLib.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 5 && Number(refsMyLib.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) !== 5) {\n        refsMyLib.dotsNext.classList.add(\"is-hidden\");\n    }\n\n    if (Number(refsMyLib.paginationNumbers.firstElementChild.getAttribute(\"page-index\")) === lastPage - 4) {\n        refsMyLib.lastPage.classList.add(\"is-hidden\");\n        refsMyLib.dotsNext.classList.add(\"is-hidden\");\n    }\n}\n\nfunction getPaginationNumbersPrev(page) {\n    refsMyLib.paginationNumbers.innerHTML = \"\";\n    if (currentPage > 1 && currentPage < 6 && refsMyLib.paginationNumbers.firstElementChild === document.querySelector('.pagination-number.is-active')) {\n        for (let i = 1; i < 6; i += 1) {\n            appendPageNumber(i);\n        }\n        refsMyLib.dotsNext.classList.remove(\"is-hidden\");\n        refsMyLib.lastPage.classList.remove(\"is-hidden\");\n\n    } else {\n        for (let i = page - 5; i < page; i += 1) {\n            appendPageNumber(i + 1);\n          }\n    }    \n}\n\nfunction updatePaginationPrev(page) {\n    if (refsMyLib.paginationNumbers.firstElementChild === document.querySelector('.pagination-number.is-active') && refsMyLib.paginationNumbers.firstElementChild.innerHTML !== \"1\") {\n        getPaginationNumbersPrev(page);\n        addEventListenerAllBtn(currentDataAll);\n    }\n\n    if (Number(refsMyLib.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === lastPage - 5) {\n        refsMyLib.dotsNext.classList.remove(\"is-hidden\");\n        refsMyLib.lastPage.classList.remove(\"is-hidden\");\n    }\n\n    if (Number(refsMyLib.paginationNumbers.lastElementChild.getAttribute(\"page-index\")) === 5) {\n        refsMyLib.firstPage.classList.add(\"is-hidden\");\n        refsMyLib.dotsPrev.classList.add(\"is-hidden\");\n    }\n}\n\nfunction downloadFirstPage() {\n    setCurrentPage(currentDataAll, 1); \n    getPaginationNumbers(currentPage);\n    addEventListenerAllBtn(currentDataAll);\n    handleActivePageNumber();\n\n    refsMyLib.lastPage.classList.remove(\"is-hidden\");\n    refsMyLib.dotsNext.classList.remove(\"is-hidden\");\n    refsMyLib.firstPage.classList.add(\"is-hidden\");\n    refsMyLib.dotsPrev.classList.add(\"is-hidden\");\n}\n\nfunction downloadLastPage() {\n    setCurrentPage(currentDataAll, lastPage);\n    getPaginationNumbersPrev(currentPage);\n    addEventListenerAllBtn(currentDataAll);\n    handleActivePageNumber();\n\n    refsMyLib.dotsNext.classList.add(\"is-hidden\");\n    refsMyLib.dotsPrev.classList.remove(\"is-hidden\");\n    refsMyLib.firstPage.classList.remove(\"is-hidden\");\n    refsMyLib.lastPage.classList.add(\"is-hidden\");\n}\n\n"],"names":["$a011c36209e7ab79$var$lastPage","$a011c36209e7ab79$var$currentPage","$kYN5b","parcelRequire","$a011c36209e7ab79$var$currentDataAll","$a011c36209e7ab79$var$signOutUser","$gQOBw","signOut","getAuth","$a011c36209e7ab79$var$getWatched","$a011c36209e7ab79$var$allBtnIsHidden","refsMyLib","watchedBtn","classList","add","queueBtn","remove","paginationNumbers","innerHTML","$6m2hf","getDocs","collection","$7basD","db","then","PromiseResult","_snapshot","docChanges","forEach","movie","aaa","doc","data","value","mapValue","fields","push","$a011c36209e7ab79$var$firstDownload","length","pagination","Math","ceil","$a011c36209e7ab79$var$setCurrentPage","$a011c36209e7ab79$var$getPaginationNumbers","$a011c36209e7ab79$var$handleActivePageNumber","firstPage","setAttribute","lastPage","$a011c36209e7ab79$var$addEventListenerAllBtn","gallery","information","$a011c36209e7ab79$var$appendPageNumber","index","pageNumber","document","createElement","className","appendChild","nextButton","prevButton","dotsNext","i","dotsPrev","i1","page1","start","end","currentData","slice","console","log","genres","genre_ids","arrayValue","values","stringValue","markup","map","card","concat","id","integerValue","posterPath","poster_path","original_title","join","release_date","insertAdjacentHTML","$a011c36209e7ab79$var$onMarkUpLib","$a011c36209e7ab79$var$disableButton","$a011c36209e7ab79$var$enableButton","$a011c36209e7ab79$var$buttonsStatus","$5xtVg","default","button","removeAttribute","querySelectorAll","Number","getAttribute","pageIndex","addEventListener","$a011c36209e7ab79$var$getPaginationNumbersPrev","page4","firstElementChild","querySelector","i7","page5","lastElementChild","$a011c36209e7ab79$var$updatePaginationPrev","page3","page2","i2","i3","i4","i5","i6","$a011c36209e7ab79$var$getPaginationNumbersNext","$a011c36209e7ab79$var$updatePaginationNext","onAuthStateChanged","auth","user","login","email","split","userLogin","userSignOut"],"version":3,"file":"myLib.f881615d.js.map"}