const e={},t={gallery:document.querySelector(".gallery"),pag:document.querySelector(".pagination"),ulEl:document.querySelector(".pagination__current"),prevRange:document.querySelector(".pagination__previousPage"),nextRange:document.querySelector(".pagination__nextPage"),nextButton:document.getElementById("next-button"),prevButton:document.getElementById("prev-button")};async function n(e){const t=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=4273054ff6f056d7541ef873941254f6&page=${e}`);return await t.json()}function i(t){let n;for(pop of t.results)for(let t=0;t<pop.genre_ids.length;t+=1)pop.genre_ids[t]=e[pop.genre_ids[t]],n=pop.release_date.slice(0,4),pop.release_date=n}function a(e){markup=e.results.map((e=>`<li class="gallery__item">\n            <img class="film__poster" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="poster">\n            <h3 class="film__title">${e.original_title}</h3>\n            <p class="film__characteristics">${e.genre_ids.join(", ")} | ${e.release_date}</p>\n        </li>`)).join(""),t.gallery.insertAdjacentHTML("beforeend",markup)}!async function(o){!function(t){for(genre of t.genres)e[genre.id]=genre.name}(await async function(){const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=4273054ff6f056d7541ef873941254f6&language=en-US");return await e.json()}());const r=await n(1);function l(){for(let e=0;e<5;e+=1){const n=s(e+1);t.ulEl.appendChild(n)}}function s(e){const r=document.createElement("li");return r.classList.add("pagination__item"),r.innerText=e,o==e&&r.classList.add("pagination__item--active"),r.addEventListener("click",(()=>{o=e,n(e).then((e=>{i(e),t.gallery.innerHTML="",a(e),u()})),document.querySelector("li.pagination__item--active").classList.remove("pagination__item--active"),r.classList.add("pagination__item--active")})),r}function c(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function p(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function u(){1===o?c(t.prevButton):p(t.prevButton),r.total_pages===o?c(t.nextButton):p(t.nextButton)}i(r),a(r),console.log(r),l(),u(),t.prevRange.addEventListener("click",(function(){page=o-1,o=page,n(page).then((e=>{i(e),t.gallery.innerHTML="",a(e),u()})),function(){let e=document.querySelector("li.pagination__item--active");if(e.setAttribute("active",!0),!t.ulEl.firstElementChild.hasAttribute("active")){let t=e.previousSibling;e.classList.remove("pagination__item--active"),t.classList.add("pagination__item--active"),t.setAttribute("active",!0)}}()})),t.nextRange.addEventListener("click",(function(){t.ulEl.innerHTML="",page=o+1,o=page,l(),n(page).then((e=>{i(e),t.gallery.innerHTML="",a(e),u()}))}))}(1);
//# sourceMappingURL=index.c1a33479.js.map
