!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},s={},t=e.parcelRequired7c6;null==t&&((t=function(e){if(e in i)return i[e].exports;if(e in s){var t=s[e];delete s[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,i){s[e]=i},e.parcelRequired7c6=t);var n,r,a=t("kYN5b"),d=t("5xtVg"),o=t("gQOBw"),l=t("7basD"),c=t("6m2hf"),f=[];function L(){(0,o.signOut)((0,o.getAuth)())}function u(){f=[],m(),a.refsMyLib.watchedBtn.classList.add("is-active"),a.refsMyLib.queueBtn.classList.remove("is-active"),a.refsMyLib.paginationNumbers.innerHTML="",(0,c.getDocs)((0,c.collection)(l.db,"watched")).then((function(e){e._snapshot.docChanges.forEach((function(e){var i=e.doc.data.value.mapValue.fields;f.push(i)})),b()}))}function b(){0!==f.length?(a.refsMyLib.pagination.classList.remove("is-hidden"),n=Math.ceil(f.length/20),M(f,1),y(),p(),a.refsMyLib.firstPage.setAttribute("page-index",1),a.refsMyLib.firstPage.setAttribute("aria-label","Page 1"),a.refsMyLib.firstPage.innerHTML=1,a.refsMyLib.lastPage.setAttribute("page-index",n),a.refsMyLib.lastPage.setAttribute("aria-label","Page "+n),a.refsMyLib.lastPage.innerHTML=n,N(f)):(a.refsMyLib.gallery.innerHTML="",a.refsMyLib.information.classList.remove("is-hidden"))}function g(e){var i=document.createElement("button");i.className="pagination-number",i.innerHTML=e,i.setAttribute("type","button"),i.setAttribute("page-index",e),i.setAttribute("aria-label","Page "+e),i.setAttribute("onclick","window.location.href='./myLib.html#myLibGallery'"),a.refsMyLib.paginationNumbers.appendChild(i)}function y(){if(a.refsMyLib.paginationNumbers.innerHTML="",a.refsMyLib.nextButton.classList.remove("is-hidden"),a.refsMyLib.prevButton.classList.remove("is-hidden"),n>5){a.refsMyLib.lastPage.classList.remove("is-hidden"),a.refsMyLib.dotsNext.classList.remove("is-hidden");for(var e=1;e<=5;e+=1)g(e)}else{a.refsMyLib.lastPage.classList.add("is-hidden"),a.refsMyLib.dotsNext.classList.add("is-hidden"),a.refsMyLib.firstPage.classList.add("is-hidden"),a.refsMyLib.dotsPrev.classList.add("is-hidden");for(var i=1;i<=n;i+=1)g(i)}}function M(e,i){a.refsMyLib.information.classList.add("is-hidden"),r=i;var s=20*(i-=1),t=s+20,o=e.slice(s,t);!function(e){a.refsMyLib.gallery.innerHTML="",console.log(f),f.forEach((function(e){e.genres=[],e.genre_ids.arrayValue&&e.genre_ids.arrayValue.values.forEach((function(i){e.genres.push(i.stringValue)}))}));var i=e.map((function(e){return'<li class="gallery__item" movie-index = '.concat(e.id.integerValue,'>\n            <img class="film__poster" src="').concat(e.posterPath.stringValue).concat(e.poster_path.stringValue,'" alt="poster">\n            <h3 class="film__title">').concat(e.original_title.stringValue.slice(0,60),'</h3>\n            <p class="film__characteristics">').concat(e.genres.join(", ").slice(0,35)," | ").concat(e.release_date.stringValue,"</p>\n        </li>")})).join("");a.refsMyLib.gallery.insertAdjacentHTML("beforeend",i)}(o),p(),function(){1===r?h(a.refsMyLib.prevButton):v(a.refsMyLib.prevButton);r===n?h(a.refsMyLib.nextButton):v(a.refsMyLib.nextButton)}(),(0,d.default)(o)}function m(){a.refsMyLib.nextButton.classList.add("is-hidden"),a.refsMyLib.prevButton.classList.add("is-hidden"),a.refsMyLib.lastPage.classList.add("is-hidden"),a.refsMyLib.dotsNext.classList.add("is-hidden"),a.refsMyLib.firstPage.classList.add("is-hidden"),a.refsMyLib.dotsPrev.classList.add("is-hidden")}function h(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)}function v(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}function p(){document.querySelectorAll(".pagination-number").forEach((function(e){e.classList.remove("is-active"),Number(e.getAttribute("page-index"))===r&&e.classList.add("is-active")}))}function N(e){document.querySelectorAll(".pagination-number").forEach((function(i){var s=Number(i.getAttribute("page-index"));s&&i.addEventListener("click",(function(){M(e,s)}))}))}function P(e){if(a.refsMyLib.paginationNumbers.innerHTML="",r>1&&r<6&&a.refsMyLib.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")){for(var i=1;i<6;i+=1)g(i);a.refsMyLib.dotsNext.classList.remove("is-hidden"),a.refsMyLib.lastPage.classList.remove("is-hidden")}else for(var s=e-5;s<e;s+=1)g(s+1)}a.refsMyLib.watchedBtn.addEventListener("click",u),a.refsMyLib.queueBtn.addEventListener("click",(function(){f=[],m(),a.refsMyLib.watchedBtn.classList.remove("is-active"),a.refsMyLib.queueBtn.classList.add("is-active"),a.refsMyLib.paginationNumbers.innerHTML="",(0,c.getDocs)((0,c.collection)(l.db,"queue")).then((function(e){e._snapshot.docChanges.forEach((function(e){var i=e.doc.data.value.mapValue.fields;f.push(i)})),b()}))})),a.refsMyLib.prevButton.addEventListener("click",(function(){!function(e){a.refsMyLib.paginationNumbers.firstElementChild===document.querySelector(".pagination-number.is-active")&&"1"!==a.refsMyLib.paginationNumbers.firstElementChild.innerHTML&&(P(e),N(f));Number(a.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))===n-5&&(a.refsMyLib.dotsNext.classList.remove("is-hidden"),a.refsMyLib.lastPage.classList.remove("is-hidden"));5===Number(a.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))&&(a.refsMyLib.firstPage.classList.add("is-hidden"),a.refsMyLib.dotsPrev.classList.add("is-hidden"))}(r-1),M(f,r-1)})),a.refsMyLib.nextButton.addEventListener("click",(function(){!function(e){5===r&&a.refsMyLib.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&a.refsMyLib.firstPage.classList.remove("is-hidden");a.refsMyLib.paginationNumbers.lastElementChild===document.querySelector(".pagination-number.is-active")&&e!==n&&(!function(e){if(a.refsMyLib.paginationNumbers.innerHTML="",5===r&&6===n){a.refsMyLib.dotsPrev.classList.remove("is-hidden");for(var i=e-4;i<r+2;i+=1)g(i)}else if(5===r&&7===n){a.refsMyLib.dotsPrev.classList.remove("is-hidden");for(var s=e-3;s<r+3;s+=1)g(s)}else if(5===r&&8===n){a.refsMyLib.dotsPrev.classList.remove("is-hidden");for(var t=e-2;t<r+4;t+=1)g(t)}else if(5===r&&9===n){a.refsMyLib.dotsPrev.classList.remove("is-hidden");for(var d=e-1;d<r+4;d+=1)g(d)}else if(r===n)for(var o=e-5;o<e;o+=1)g(o+1);else for(var l=e;l<e+5;l+=1)g(l)}(e),N(f));r===n-1&&n>7&&(P(e),p(),N(f));6===Number(a.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))&&(a.refsMyLib.firstPage.classList.remove("is-hidden"),a.refsMyLib.dotsPrev.classList.remove("is-hidden"));Number(a.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))===n-5&&5!==Number(a.refsMyLib.paginationNumbers.lastElementChild.getAttribute("page-index"))&&a.refsMyLib.dotsNext.classList.add("is-hidden");Number(a.refsMyLib.paginationNumbers.firstElementChild.getAttribute("page-index"))===n-4&&(a.refsMyLib.lastPage.classList.add("is-hidden"),a.refsMyLib.dotsNext.classList.add("is-hidden"))}(r+1),M(f,r+1)})),a.refsMyLib.firstPage.addEventListener("click",(function(){M(f,1),y(),N(f),p(),a.refsMyLib.lastPage.classList.remove("is-hidden"),a.refsMyLib.dotsNext.classList.remove("is-hidden"),a.refsMyLib.firstPage.classList.add("is-hidden"),a.refsMyLib.dotsPrev.classList.add("is-hidden")})),a.refsMyLib.lastPage.addEventListener("click",(function(){M(f,n),P(r),N(f),p(),a.refsMyLib.dotsNext.classList.add("is-hidden"),a.refsMyLib.dotsPrev.classList.remove("is-hidden"),a.refsMyLib.firstPage.classList.remove("is-hidden"),a.refsMyLib.lastPage.classList.add("is-hidden")})),(0,o.onAuthStateChanged)(l.auth,(function(e){if(e){var i=e.email.split("@")[0];console.log(i),a.refsMyLib.userLogin.innerHTML="".concat(i),a.refsMyLib.userSignOut.addEventListener("click",L)}else console.log("user wasn't authorization")})),u()}();
//# sourceMappingURL=myLib.f881615d.js.map
